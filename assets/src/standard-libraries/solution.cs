// Dafny program the_program compiled into C#
// To recompile, you will need the libraries
//     System.Runtime.Numerics.dll System.Collections.Immutable.dll
// but the 'dotnet' tool in .NET should pick those up automatically.
// Optionally, you may want to include compiler switches like
//     /debug /nowarn:162,164,168,183,219,436,1717,1718

using System;
using System.Numerics;
using System.Collections;
[assembly: DafnyAssembly.DafnySourceAttribute(@"// dafny 4.11.0.0
// Command-line arguments: run dfyconfig.toml
// the_program


module M1 {
  method Main(_noArgsParameter: seq<seq<char>>)
  {
    var input :- expect ReadPuzzleInput();
    var lines := Seq.Split(input, '\n');
    var calibrationValues :- expect Seq.MapWithResult(CalibrationValue, lines);
    var total := Seq.FoldLeft((x: nat, y: nat) => x + y, 0, calibrationValues);
    print total, ""\n"";
  }

  method ReadPuzzleInput() returns (input: Wrappers.Result<string, string>)
  {
    var bytesAsBVs :- FileIO.ReadBytesFromFile(""input.txt"");
    var bytes := seq(|bytesAsBVs|, (i: int) requires 0 <= i < |bytesAsBVs| => bytesAsBVs[i] as BoundedInts.uint8);
    input := UnicodeStringsWithUnicodeChar.FromUTF8Checked(bytes);
  }

  function CalibrationValue(line: string): Wrappers.Result<nat, string>
    decreases line
  {
    var firstDigitIndex: nat :- Seq.IndexByOption(line, DecimalConversion.IsDigitChar).ToResult(""No digits""); var lastDigitIndex: nat :- Seq.LastIndexByOption(line, DecimalConversion.IsDigitChar).ToResult(""No digits""); var resultStr: seq<char> := [line[firstDigitIndex], line[lastDigitIndex]]; Wrappers.Success(Strings.ToNat(resultStr))
  }

  import BoundedInts = Std.BoundedInts

  import Seq = Std.Collections.Seq

  import FileIO = Std.FileIO

  import Strings = Std.Strings

  import DecimalConversion = Std.Strings.DecimalConversion

  import UnicodeStringsWithUnicodeChar = Std.Unicode.UnicodeStringsWithUnicodeChar

  import Wrappers = Std.Wrappers
}

")]

//-----------------------------------------------------------------------------
//
// Copyright by the contributors to the Dafny Project
// SPDX-License-Identifier: MIT
//
//-----------------------------------------------------------------------------

// When --include-runtime is true, this file is directly prepended
// to the output program. We have to avoid these using directives in that case
// since they can only appear before any other declarations.
// The DafnyRuntime.csproj file is the only place that ISDAFNYRUNTIMELIB is defined,
// so these are only active when building the C# DafnyRuntime.dll library.
#if ISDAFNYRUNTIMELIB
using System; // for Func
using System.Numerics;
using System.Collections;
#endif

namespace DafnyAssembly {
  [AttributeUsage(AttributeTargets.Assembly)]
  public class DafnySourceAttribute : Attribute {
    public readonly string dafnySourceText;
    public DafnySourceAttribute(string txt) { dafnySourceText = txt; }
  }
}

namespace Dafny {
  using System.Collections.Generic;
  using System.Collections.Immutable;
  using System.Linq;

  // Similar to System.Text.Rune, which would be perfect to use
  // except that it isn't available in the platforms we support
  // (.NET Standard 2.0 and .NET Framework 4.5.2)
  public readonly struct Rune : IComparable, IComparable<Rune>, IEquatable<Rune> {

    private readonly uint _value;

    public Rune(int value)
      : this((uint)value) {
    }

    public Rune(uint value) {
      if (!(value < 0xD800 || (0xE000 <= value && value < 0x11_0000))) {
        throw new ArgumentException();
      }

      _value = value;
    }

    public static bool IsRune(BigInteger i) {
      return (0 <= i && i < 0xD800) || (0xE000 <= i && i < 0x11_0000);
    }

    public int Value => (int)_value;

    public bool Equals(Rune other) => this == other;

    public override bool Equals(object obj) => (obj is Rune other) && Equals(other);

    public override int GetHashCode() => Value;

    // Values are always between 0 and 0x11_0000, so overflow isn't possible
    public int CompareTo(Rune other) => this.Value - other.Value;

    int IComparable.CompareTo(object obj) {
      switch (obj) {
        case null:
          return 1; // non-null ("this") always sorts after null
        case Rune other:
          return CompareTo(other);
        default:
          throw new ArgumentException();
      }
    }

    public static bool operator ==(Rune left, Rune right) => left._value == right._value;

    public static bool operator !=(Rune left, Rune right) => left._value != right._value;

    public static bool operator <(Rune left, Rune right) => left._value < right._value;

    public static bool operator <=(Rune left, Rune right) => left._value <= right._value;

    public static bool operator >(Rune left, Rune right) => left._value > right._value;

    public static bool operator >=(Rune left, Rune right) => left._value >= right._value;

    public static explicit operator Rune(int value) => new Rune(value);
    public static explicit operator Rune(BigInteger value) => new Rune((uint)value);

    // Defined this way to be consistent with System.Text.Rune,
    // but note that Dafny will use Helpers.ToString(rune),
    // which will print in the style of a character literal instead.
    public override string ToString() {
      return char.ConvertFromUtf32(Value);
    }

    // Replacement for String.EnumerateRunes() from newer platforms
    public static IEnumerable<Rune> Enumerate(string s) {
      var sLength = s.Length;
      for (var i = 0; i < sLength; i++) {
        if (char.IsHighSurrogate(s[i])) {
          if (char.IsLowSurrogate(s[i + 1])) {
            yield return (Rune)char.ConvertToUtf32(s[i], s[i + 1]);
            i++;
          } else {
            throw new ArgumentException();
          }
        } else if (char.IsLowSurrogate(s[i])) {
          throw new ArgumentException();
        } else {
          yield return (Rune)s[i];
        }
      }
    }
  }

  public interface ISet<out T> {
    int Count { get; }
    long LongCount { get; }
    IEnumerable<T> Elements { get; }
    IEnumerable<ISet<T>> AllSubsets { get; }
    bool Contains<G>(G t);
    bool EqualsAux(ISet<object> other);
    ISet<U> DowncastClone<U>(Func<T, U> converter);
  }

  public class Set<T> : ISet<T> {
    readonly ImmutableHashSet<T> setImpl;
    readonly bool containsNull;
    Set(ImmutableHashSet<T> d, bool containsNull) {
      this.setImpl = d;
      this.containsNull = containsNull;
    }

    public static readonly ISet<T> Empty = new Set<T>(ImmutableHashSet<T>.Empty, false);

    private static readonly TypeDescriptor<ISet<T>> _TYPE = new Dafny.TypeDescriptor<ISet<T>>(Empty);
    public static TypeDescriptor<ISet<T>> _TypeDescriptor() {
      return _TYPE;
    }

    public static ISet<T> FromElements(params T[] values) {
      return FromCollection(values);
    }

    public static Set<T> FromISet(ISet<T> s) {
      return s as Set<T> ?? FromCollection(s.Elements);
    }

    public static Set<T> FromCollection(IEnumerable<T> values) {
      var d = ImmutableHashSet<T>.Empty.ToBuilder();
      var containsNull = false;
      foreach (T t in values) {
        if (t == null) {
          containsNull = true;
        } else {
          d.Add(t);
        }
      }

      return new Set<T>(d.ToImmutable(), containsNull);
    }

    public static ISet<T> FromCollectionPlusOne(IEnumerable<T> values, T oneMoreValue) {
      var d = ImmutableHashSet<T>.Empty.ToBuilder();
      var containsNull = false;
      if (oneMoreValue == null) {
        containsNull = true;
      } else {
        d.Add(oneMoreValue);
      }

      foreach (T t in values) {
        if (t == null) {
          containsNull = true;
        } else {
          d.Add(t);
        }
      }

      return new Set<T>(d.ToImmutable(), containsNull);
    }

    public ISet<U> DowncastClone<U>(Func<T, U> converter) {
      if (this is ISet<U> th) {
        return th;
      } else {
        var d = ImmutableHashSet<U>.Empty.ToBuilder();
        foreach (var t in this.setImpl) {
          var u = converter(t);
          d.Add(u);
        }

        return new Set<U>(d.ToImmutable(), this.containsNull);
      }
    }

    public int Count {
      get { return this.setImpl.Count + (containsNull ? 1 : 0); }
    }

    public long LongCount {
      get { return this.setImpl.Count + (containsNull ? 1 : 0); }
    }

    public IEnumerable<T> Elements {
      get {
        if (containsNull) {
          yield return default(T);
        }

        foreach (var t in this.setImpl) {
          yield return t;
        }
      }
    }

    /// <summary>
    /// This is an inefficient iterator for producing all subsets of "this".
    /// </summary>
    public IEnumerable<ISet<T>> AllSubsets {
      get {
        // Start by putting all set elements into a list, but don't include null
        var elmts = new List<T>();
        elmts.AddRange(this.setImpl);
        var n = elmts.Count;
        var which = new bool[n];
        var s = ImmutableHashSet<T>.Empty.ToBuilder();
        while (true) {
          // yield both the subset without null and, if null is in the original set, the subset with null included
          var ihs = s.ToImmutable();
          yield return new Set<T>(ihs, false);
          if (containsNull) {
            yield return new Set<T>(ihs, true);
          }

          // "add 1" to "which", as if doing a carry chain.  For every digit changed, change the membership of the corresponding element in "s".
          int i = 0;
          for (; i < n && which[i]; i++) {
            which[i] = false;
            s.Remove(elmts[i]);
          }

          if (i == n) {
            // we have cycled through all the subsets
            break;
          }

          which[i] = true;
          s.Add(elmts[i]);
        }
      }
    }

    public bool Equals(ISet<T> other) {
      if (ReferenceEquals(this, other)) {
        return true;
      }

      if (other == null || Count != other.Count) {
        return false;
      }

      foreach (var elmt in Elements) {
        if (!other.Contains(elmt)) {
          return false;
        }
      }

      return true;
    }

    public override bool Equals(object other) {
      if (other is ISet<T>) {
        return Equals((ISet<T>)other);
      }

      var th = this as ISet<object>;
      var oth = other as ISet<object>;
      if (th != null && oth != null) {
        // We'd like to obtain the more specific type parameter U for oth's type ISet<U>.
        // We do that by making a dynamically dispatched call, like:
        //     oth.Equals(this)
        // The hope is then that its comparison "this is ISet<U>" (that is, the first "if" test
        // above, but in the call "oth.Equals(this)") will be true and the non-virtual Equals
        // can be called. However, such a recursive call to "oth.Equals(this)" could turn
        // into infinite recursion. Therefore, we instead call "oth.EqualsAux(this)", which
        // performs the desired type test, but doesn't recurse any further.
        return oth.EqualsAux(th);
      } else {
        return false;
      }
    }

    public bool EqualsAux(ISet<object> other) {
      var s = other as ISet<T>;
      if (s != null) {
        return Equals(s);
      } else {
        return false;
      }
    }

    public override int GetHashCode() {
      var hashCode = 1;
      if (containsNull) {
        hashCode = hashCode * (Dafny.Helpers.GetHashCode(default(T)) + 3);
      }

      foreach (var t in this.setImpl) {
        hashCode = hashCode * (Dafny.Helpers.GetHashCode(t) + 3);
      }

      return hashCode;
    }

    public override string ToString() {
      var s = "{";
      var sep = "";
      if (containsNull) {
        s += sep + Dafny.Helpers.ToString(default(T));
        sep = ", ";
      }

      foreach (var t in this.setImpl) {
        s += sep + Dafny.Helpers.ToString(t);
        sep = ", ";
      }

      return s + "}";
    }
    public static bool IsProperSubsetOf(ISet<T> th, ISet<T> other) {
      return th.Count < other.Count && IsSubsetOf(th, other);
    }
    public static bool IsSubsetOf(ISet<T> th, ISet<T> other) {
      if (other.Count < th.Count) {
        return false;
      }
      foreach (T t in th.Elements) {
        if (!other.Contains(t)) {
          return false;
        }
      }
      return true;
    }
    public static bool IsDisjointFrom(ISet<T> th, ISet<T> other) {
      ISet<T> a, b;
      if (th.Count < other.Count) {
        a = th; b = other;
      } else {
        a = other; b = th;
      }
      foreach (T t in a.Elements) {
        if (b.Contains(t)) {
          return false;
        }
      }
      return true;
    }
    public bool Contains<G>(G t) {
      return t == null ? containsNull : t is T && this.setImpl.Contains((T)(object)t);
    }
    public static ISet<T> Union(ISet<T> th, ISet<T> other) {
      var a = FromISet(th);
      var b = FromISet(other);
      return new Set<T>(a.setImpl.Union(b.setImpl), a.containsNull || b.containsNull);
    }
    public static ISet<T> Intersect(ISet<T> th, ISet<T> other) {
      var a = FromISet(th);
      var b = FromISet(other);
      return new Set<T>(a.setImpl.Intersect(b.setImpl), a.containsNull && b.containsNull);
    }
    public static ISet<T> Difference(ISet<T> th, ISet<T> other) {
      var a = FromISet(th);
      var b = FromISet(other);
      return new Set<T>(a.setImpl.Except(b.setImpl), a.containsNull && !b.containsNull);
    }
  }

  public interface IMultiSet<out T> {
    bool IsEmpty { get; }
    int Count { get; }
    long LongCount { get; }
    BigInteger ElementCount { get; }
    IEnumerable<T> Elements { get; }
    IEnumerable<T> UniqueElements { get; }
    bool Contains<G>(G t);
    BigInteger Select<G>(G t);
    IMultiSet<T> Update<G>(G t, BigInteger i);
    bool EqualsAux(IMultiSet<object> other);
    IMultiSet<U> DowncastClone<U>(Func<T, U> converter);
  }

  public class MultiSet<T> : IMultiSet<T> {
    readonly ImmutableDictionary<T, BigInteger> dict;
    readonly BigInteger occurrencesOfNull;  // stupidly, a Dictionary in .NET cannot use "null" as a key
    MultiSet(ImmutableDictionary<T, BigInteger>.Builder d, BigInteger occurrencesOfNull) {
      dict = d.ToImmutable();
      this.occurrencesOfNull = occurrencesOfNull;
    }
    public static readonly MultiSet<T> Empty = new MultiSet<T>(ImmutableDictionary<T, BigInteger>.Empty.ToBuilder(), BigInteger.Zero);

    private static readonly TypeDescriptor<IMultiSet<T>> _TYPE = new Dafny.TypeDescriptor<IMultiSet<T>>(Empty);
    public static TypeDescriptor<IMultiSet<T>> _TypeDescriptor() {
      return _TYPE;
    }

    public static MultiSet<T> FromIMultiSet(IMultiSet<T> s) {
      return s as MultiSet<T> ?? FromCollection(s.Elements);
    }
    public static MultiSet<T> FromElements(params T[] values) {
      var d = ImmutableDictionary<T, BigInteger>.Empty.ToBuilder();
      var occurrencesOfNull = BigInteger.Zero;
      foreach (T t in values) {
        if (t == null) {
          occurrencesOfNull++;
        } else {
          if (!d.TryGetValue(t, out var i)) {
            i = BigInteger.Zero;
          }
          d[t] = i + 1;
        }
      }
      return new MultiSet<T>(d, occurrencesOfNull);
    }

    public static MultiSet<T> FromCollection(IEnumerable<T> values) {
      var d = ImmutableDictionary<T, BigInteger>.Empty.ToBuilder();
      var occurrencesOfNull = BigInteger.Zero;
      foreach (T t in values) {
        if (t == null) {
          occurrencesOfNull++;
        } else {
          if (!d.TryGetValue(t,
                out var i)) {
            i = BigInteger.Zero;
          }

          d[t] = i + 1;
        }
      }

      return new MultiSet<T>(d,
        occurrencesOfNull);
    }

    public static MultiSet<T> FromSeq(ISequence<T> values) {
      var d = ImmutableDictionary<T, BigInteger>.Empty.ToBuilder();
      var occurrencesOfNull = BigInteger.Zero;
      foreach (var t in values) {
        if (t == null) {
          occurrencesOfNull++;
        } else {
          if (!d.TryGetValue(t,
                out var i)) {
            i = BigInteger.Zero;
          }

          d[t] = i + 1;
        }
      }

      return new MultiSet<T>(d,
        occurrencesOfNull);
    }
    public static MultiSet<T> FromSet(ISet<T> values) {
      var d = ImmutableDictionary<T, BigInteger>.Empty.ToBuilder();
      var containsNull = false;
      foreach (T t in values.Elements) {
        if (t == null) {
          containsNull = true;
        } else {
          d[t] = BigInteger.One;
        }
      }
      return new MultiSet<T>(d, containsNull ? BigInteger.One : BigInteger.Zero);
    }
    public IMultiSet<U> DowncastClone<U>(Func<T, U> converter) {
      if (this is IMultiSet<U> th) {
        return th;
      } else {
        var d = ImmutableDictionary<U, BigInteger>.Empty.ToBuilder();
        foreach (var item in this.dict) {
          var k = converter(item.Key);
          d.Add(k, item.Value);
        }
        return new MultiSet<U>(d, this.occurrencesOfNull);
      }
    }

    public bool Equals(IMultiSet<T> other) {
      return IsSubsetOf(this, other) && IsSubsetOf(other, this);
    }
    public override bool Equals(object other) {
      if (other is IMultiSet<T>) {
        return Equals((IMultiSet<T>)other);
      }
      var th = this as IMultiSet<object>;
      var oth = other as IMultiSet<object>;
      if (th != null && oth != null) {
        // See comment in Set.Equals
        return oth.EqualsAux(th);
      } else {
        return false;
      }
    }

    public bool EqualsAux(IMultiSet<object> other) {
      var s = other as IMultiSet<T>;
      if (s != null) {
        return Equals(s);
      } else {
        return false;
      }
    }

    public override int GetHashCode() {
      var hashCode = 1;
      if (occurrencesOfNull > 0) {
        var key = Dafny.Helpers.GetHashCode(default(T));
        key = (key << 3) | (key >> 29) ^ occurrencesOfNull.GetHashCode();
        hashCode = hashCode * (key + 3);
      }
      foreach (var kv in dict) {
        var key = Dafny.Helpers.GetHashCode(kv.Key);
        key = (key << 3) | (key >> 29) ^ kv.Value.GetHashCode();
        hashCode = hashCode * (key + 3);
      }
      return hashCode;
    }
    public override string ToString() {
      var s = "multiset{";
      var sep = "";
      for (var i = BigInteger.Zero; i < occurrencesOfNull; i++) {
        s += sep + Dafny.Helpers.ToString(default(T));
        sep = ", ";
      }
      foreach (var kv in dict) {
        var t = Dafny.Helpers.ToString(kv.Key);
        for (var i = BigInteger.Zero; i < kv.Value; i++) {
          s += sep + t;
          sep = ", ";
        }
      }
      return s + "}";
    }
    public static bool IsProperSubsetOf(IMultiSet<T> th, IMultiSet<T> other) {
      // Be sure to use ElementCount to avoid casting into 32 bits
      // integers that could lead to overflows (see https://github.com/dafny-lang/dafny/issues/5554)
      return th.ElementCount < other.ElementCount && IsSubsetOf(th, other);
    }
    public static bool IsSubsetOf(IMultiSet<T> th, IMultiSet<T> other) {
      var a = FromIMultiSet(th);
      var b = FromIMultiSet(other);
      if (b.occurrencesOfNull < a.occurrencesOfNull) {
        return false;
      }
      foreach (T t in a.dict.Keys) {
        if (b.dict.ContainsKey(t)) {
          if (b.dict[t] < a.dict[t]) {
            return false;
          }
        } else {
          if (a.dict[t] != BigInteger.Zero) {
            return false;
          }
        }
      }
      return true;
    }
    public static bool IsDisjointFrom(IMultiSet<T> th, IMultiSet<T> other) {
      foreach (T t in th.UniqueElements) {
        if (other.Contains(t)) {
          return false;
        }
      }
      return true;
    }

    public bool Contains<G>(G t) {
      return Select(t) != 0;
    }
    public BigInteger Select<G>(G t) {
      if (t == null) {
        return occurrencesOfNull;
      }

      if (t is T && dict.TryGetValue((T)(object)t, out var m)) {
        return m;
      } else {
        return BigInteger.Zero;
      }
    }
    public IMultiSet<T> Update<G>(G t, BigInteger i) {
      if (Select(t) == i) {
        return this;
      } else if (t == null) {
        var r = dict.ToBuilder();
        return new MultiSet<T>(r, i);
      } else {
        var r = dict.ToBuilder();
        r[(T)(object)t] = i;
        return new MultiSet<T>(r, occurrencesOfNull);
      }
    }
    public static IMultiSet<T> Union(IMultiSet<T> th, IMultiSet<T> other) {
      if (th.IsEmpty) {
        return other;
      } else if (other.IsEmpty) {
        return th;
      }
      var a = FromIMultiSet(th);
      var b = FromIMultiSet(other);
      var r = ImmutableDictionary<T, BigInteger>.Empty.ToBuilder();
      foreach (T t in a.dict.Keys) {
        if (!r.TryGetValue(t, out var i)) {
          i = BigInteger.Zero;
        }
        r[t] = i + a.dict[t];
      }
      foreach (T t in b.dict.Keys) {
        if (!r.TryGetValue(t, out var i)) {
          i = BigInteger.Zero;
        }
        r[t] = i + b.dict[t];
      }
      return new MultiSet<T>(r, a.occurrencesOfNull + b.occurrencesOfNull);
    }
    public static IMultiSet<T> Intersect(IMultiSet<T> th, IMultiSet<T> other) {
      if (th.IsEmpty) {
        return th;
      } else if (other.IsEmpty) {
        return other;
      }
      var a = FromIMultiSet(th);
      var b = FromIMultiSet(other);
      var r = ImmutableDictionary<T, BigInteger>.Empty.ToBuilder();
      foreach (T t in a.dict.Keys) {
        if (b.dict.ContainsKey(t)) {
          r.Add(t, a.dict[t] < b.dict[t] ? a.dict[t] : b.dict[t]);
        }
      }
      return new MultiSet<T>(r, a.occurrencesOfNull < b.occurrencesOfNull ? a.occurrencesOfNull : b.occurrencesOfNull);
    }
    public static IMultiSet<T> Difference(IMultiSet<T> th, IMultiSet<T> other) { // \result == this - other
      if (other.IsEmpty) {
        return th;
      }
      var a = FromIMultiSet(th);
      var b = FromIMultiSet(other);
      var r = ImmutableDictionary<T, BigInteger>.Empty.ToBuilder();
      foreach (T t in a.dict.Keys) {
        if (!b.dict.ContainsKey(t)) {
          r.Add(t, a.dict[t]);
        } else if (b.dict[t] < a.dict[t]) {
          r.Add(t, a.dict[t] - b.dict[t]);
        }
      }
      return new MultiSet<T>(r, b.occurrencesOfNull < a.occurrencesOfNull ? a.occurrencesOfNull - b.occurrencesOfNull : BigInteger.Zero);
    }

    public bool IsEmpty { get { return occurrencesOfNull == 0 && dict.IsEmpty; } }

    public int Count {
      get { return (int)ElementCount; }
    }
    public long LongCount {
      get { return (long)ElementCount; }
    }

    public BigInteger ElementCount {
      get {
        // This is inefficient
        var c = occurrencesOfNull;
        foreach (var item in dict) {
          c += item.Value;
        }
        return c;
      }
    }

    public IEnumerable<T> Elements {
      get {
        for (var i = BigInteger.Zero; i < occurrencesOfNull; i++) {
          yield return default(T);
        }
        foreach (var item in dict) {
          for (var i = BigInteger.Zero; i < item.Value; i++) {
            yield return item.Key;
          }
        }
      }
    }

    public IEnumerable<T> UniqueElements {
      get {
        if (!occurrencesOfNull.IsZero) {
          yield return default(T);
        }
        foreach (var key in dict.Keys) {
          if (dict[key] != 0) {
            yield return key;
          }
        }
      }
    }
  }

  public interface IMap<out U, out V> {
    int Count { get; }
    long LongCount { get; }
    ISet<U> Keys { get; }
    ISet<V> Values { get; }
    IEnumerable<IPair<U, V>> ItemEnumerable { get; }
    bool Contains<G>(G t);
    /// <summary>
    /// Returns "true" iff "this is IMap<object, object>" and "this" equals "other".
    /// </summary>
    bool EqualsObjObj(IMap<object, object> other);
    IMap<UU, VV> DowncastClone<UU, VV>(Func<U, UU> keyConverter, Func<V, VV> valueConverter);
  }

  public class Map<U, V> : IMap<U, V> {
    readonly ImmutableDictionary<U, V> dict;
    readonly bool hasNullKey;  // true when "null" is a key of the Map
    readonly V nullValue;  // if "hasNullKey", the value that "null" maps to

    private Map(ImmutableDictionary<U, V>.Builder d, bool hasNullKey, V nullValue) {
      dict = d.ToImmutable();
      this.hasNullKey = hasNullKey;
      this.nullValue = nullValue;
    }
    public static readonly Map<U, V> Empty = new Map<U, V>(ImmutableDictionary<U, V>.Empty.ToBuilder(), false, default(V));

    private Map(ImmutableDictionary<U, V> d, bool hasNullKey, V nullValue) {
      dict = d;
      this.hasNullKey = hasNullKey;
      this.nullValue = nullValue;
    }

    private static readonly TypeDescriptor<IMap<U, V>> _TYPE = new Dafny.TypeDescriptor<IMap<U, V>>(Empty);
    public static TypeDescriptor<IMap<U, V>> _TypeDescriptor() {
      return _TYPE;
    }

    public static Map<U, V> FromElements(params IPair<U, V>[] values) {
      var d = ImmutableDictionary<U, V>.Empty.ToBuilder();
      var hasNullKey = false;
      var nullValue = default(V);
      foreach (var p in values) {
        if (p.Car == null) {
          hasNullKey = true;
          nullValue = p.Cdr;
        } else {
          d[p.Car] = p.Cdr;
        }
      }
      return new Map<U, V>(d, hasNullKey, nullValue);
    }
    public static Map<U, V> FromCollection(IEnumerable<IPair<U, V>> values) {
      var d = ImmutableDictionary<U, V>.Empty.ToBuilder();
      var hasNullKey = false;
      var nullValue = default(V);
      foreach (var p in values) {
        if (p.Car == null) {
          hasNullKey = true;
          nullValue = p.Cdr;
        } else {
          d[p.Car] = p.Cdr;
        }
      }
      return new Map<U, V>(d, hasNullKey, nullValue);
    }
    public static Map<U, V> FromIMap(IMap<U, V> m) {
      return m as Map<U, V> ?? FromCollection(m.ItemEnumerable);
    }
    public IMap<UU, VV> DowncastClone<UU, VV>(Func<U, UU> keyConverter, Func<V, VV> valueConverter) {
      if (this is IMap<UU, VV> th) {
        return th;
      } else {
        var d = ImmutableDictionary<UU, VV>.Empty.ToBuilder();
        foreach (var item in this.dict) {
          var k = keyConverter(item.Key);
          var v = valueConverter(item.Value);
          d.Add(k, v);
        }
        return new Map<UU, VV>(d, this.hasNullKey, (VV)(object)this.nullValue);
      }
    }
    public int Count {
      get { return dict.Count + (hasNullKey ? 1 : 0); }
    }
    public long LongCount {
      get { return dict.Count + (hasNullKey ? 1 : 0); }
    }

    public bool Equals(IMap<U, V> other) {
      if (ReferenceEquals(this, other)) {
        return true;
      }

      if (other == null || LongCount != other.LongCount) {
        return false;
      }

      if (hasNullKey) {
        if (!other.Contains(default(U)) || !object.Equals(nullValue, Select(other, default(U)))) {
          return false;
        }
      }

      foreach (var item in dict) {
        if (!other.Contains(item.Key) || !object.Equals(item.Value, Select(other, item.Key))) {
          return false;
        }
      }
      return true;
    }
    public bool EqualsObjObj(IMap<object, object> other) {
      if (ReferenceEquals(this, other)) {
        return true;
      }
      if (!(this is IMap<object, object>) || other == null || LongCount != other.LongCount) {
        return false;
      }
      var oth = Map<object, object>.FromIMap(other);
      if (hasNullKey) {
        if (!oth.Contains(default(U)) || !object.Equals(nullValue, Map<object, object>.Select(oth, default(U)))) {
          return false;
        }
      }
      foreach (var item in dict) {
        if (!other.Contains(item.Key) || !object.Equals(item.Value, Map<object, object>.Select(oth, item.Key))) {
          return false;
        }
      }
      return true;
    }
    public override bool Equals(object other) {
      // See comment in Set.Equals
      var m = other as IMap<U, V>;
      if (m != null) {
        return Equals(m);
      }
      var imapoo = other as IMap<object, object>;
      if (imapoo != null) {
        return EqualsObjObj(imapoo);
      } else {
        return false;
      }
    }

    public override int GetHashCode() {
      var hashCode = 1;
      if (hasNullKey) {
        var key = Dafny.Helpers.GetHashCode(default(U));
        key = (key << 3) | (key >> 29) ^ Dafny.Helpers.GetHashCode(nullValue);
        hashCode = hashCode * (key + 3);
      }
      foreach (var kv in dict) {
        var key = Dafny.Helpers.GetHashCode(kv.Key);
        key = (key << 3) | (key >> 29) ^ Dafny.Helpers.GetHashCode(kv.Value);
        hashCode = hashCode * (key + 3);
      }
      return hashCode;
    }
    public override string ToString() {
      var s = "map[";
      var sep = "";
      if (hasNullKey) {
        s += sep + Dafny.Helpers.ToString(default(U)) + " := " + Dafny.Helpers.ToString(nullValue);
        sep = ", ";
      }
      foreach (var kv in dict) {
        s += sep + Dafny.Helpers.ToString(kv.Key) + " := " + Dafny.Helpers.ToString(kv.Value);
        sep = ", ";
      }
      return s + "]";
    }
    public bool Contains<G>(G u) {
      return u == null ? hasNullKey : u is U && dict.ContainsKey((U)(object)u);
    }
    public static V Select(IMap<U, V> th, U index) {
      // the following will throw an exception if "index" in not a key of the map
      var m = FromIMap(th);
      return index == null && m.hasNullKey ? m.nullValue : m.dict[index];
    }
    public static IMap<U, V> Update(IMap<U, V> th, U index, V val) {
      var m = FromIMap(th);
      var d = m.dict.ToBuilder();
      if (index == null) {
        return new Map<U, V>(d, true, val);
      } else {
        d[index] = val;
        return new Map<U, V>(d, m.hasNullKey, m.nullValue);
      }
    }

    public static IMap<U, V> Merge(IMap<U, V> th, IMap<U, V> other) {
      var a = FromIMap(th);
      var b = FromIMap(other);
      ImmutableDictionary<U, V> d = a.dict.SetItems(b.dict);
      return new Map<U, V>(d, a.hasNullKey || b.hasNullKey, b.hasNullKey ? b.nullValue : a.nullValue);
    }

    public static IMap<U, V> Subtract(IMap<U, V> th, ISet<U> keys) {
      var a = FromIMap(th);
      ImmutableDictionary<U, V> d = a.dict.RemoveRange(keys.Elements);
      return new Map<U, V>(d, a.hasNullKey && !keys.Contains<object>(null), a.nullValue);
    }

    public ISet<U> Keys {
      get {
        if (hasNullKey) {
          return Dafny.Set<U>.FromCollectionPlusOne(dict.Keys, default(U));
        } else {
          return Dafny.Set<U>.FromCollection(dict.Keys);
        }
      }
    }
    public ISet<V> Values {
      get {
        if (hasNullKey) {
          return Dafny.Set<V>.FromCollectionPlusOne(dict.Values, nullValue);
        } else {
          return Dafny.Set<V>.FromCollection(dict.Values);
        }
      }
    }

    public IEnumerable<IPair<U, V>> ItemEnumerable {
      get {
        if (hasNullKey) {
          yield return new Pair<U, V>(default(U), nullValue);
        }
        foreach (KeyValuePair<U, V> kvp in dict) {
          yield return new Pair<U, V>(kvp.Key, kvp.Value);
        }
      }
    }

    public static ISet<_System._ITuple2<U, V>> Items(IMap<U, V> m) {
      var result = new HashSet<_System._ITuple2<U, V>>();
      foreach (var item in m.ItemEnumerable) {
        result.Add(_System.Tuple2<U, V>.create(item.Car, item.Cdr));
      }
      return Dafny.Set<_System._ITuple2<U, V>>.FromCollection(result);
    }
  }

  public interface ISequence<out T> : IEnumerable<T> {
    long LongCount { get; }
    int Count { get; }
    [Obsolete("Use CloneAsArray() instead of Elements (both perform a copy).")]
    T[] Elements { get; }
    T[] CloneAsArray();
    IEnumerable<T> UniqueElements { get; }
    T Select(ulong index);
    T Select(long index);
    T Select(uint index);
    T Select(int index);
    T Select(BigInteger index);
    bool Contains<G>(G g);
    ISequence<T> Take(long m);
    ISequence<T> Take(ulong n);
    ISequence<T> Take(BigInteger n);
    ISequence<T> Drop(long m);
    ISequence<T> Drop(ulong n);
    ISequence<T> Drop(BigInteger n);
    ISequence<T> Subsequence(long lo, long hi);
    ISequence<T> Subsequence(long lo, ulong hi);
    ISequence<T> Subsequence(long lo, BigInteger hi);
    ISequence<T> Subsequence(ulong lo, long hi);
    ISequence<T> Subsequence(ulong lo, ulong hi);
    ISequence<T> Subsequence(ulong lo, BigInteger hi);
    ISequence<T> Subsequence(BigInteger lo, long hi);
    ISequence<T> Subsequence(BigInteger lo, ulong hi);
    ISequence<T> Subsequence(BigInteger lo, BigInteger hi);
    bool EqualsAux(ISequence<object> other);
    ISequence<U> DowncastClone<U>(Func<T, U> converter);
    string ToVerbatimString(bool asLiteral);
  }

  public abstract class Sequence<T> : ISequence<T> {
    public static readonly ISequence<T> Empty = new ArraySequence<T>(new T[0]);

    private static readonly TypeDescriptor<ISequence<T>> _TYPE = new Dafny.TypeDescriptor<ISequence<T>>(Empty);
    public static TypeDescriptor<ISequence<T>> _TypeDescriptor() {
      return _TYPE;
    }

    public static ISequence<T> Create(BigInteger length, System.Func<BigInteger, T> init) {
      var len = (int)length;
      var builder = ImmutableArray.CreateBuilder<T>(len);
      for (int i = 0; i < len; i++) {
        builder.Add(init(new BigInteger(i)));
      }
      return new ArraySequence<T>(builder.MoveToImmutable());
    }
    public static ISequence<T> FromArray(T[] values) {
      return new ArraySequence<T>(values);
    }
    public static ISequence<T> FromElements(params T[] values) {
      return new ArraySequence<T>(values);
    }
    public static ISequence<char> FromString(string s) {
      return new ArraySequence<char>(s.ToCharArray());
    }
    public static ISequence<Rune> UnicodeFromString(string s) {
      var runes = new List<Rune>();

      foreach (var rune in Rune.Enumerate(s)) {
        runes.Add(rune);
      }
      return new ArraySequence<Rune>(runes.ToArray());
    }

    public static ISequence<ISequence<char>> FromMainArguments(string[] args) {
      Dafny.ISequence<char>[] dafnyArgs = new Dafny.ISequence<char>[args.Length + 1];
      dafnyArgs[0] = Dafny.Sequence<char>.FromString("dotnet");
      for (var i = 0; i < args.Length; i++) {
        dafnyArgs[i + 1] = Dafny.Sequence<char>.FromString(args[i]);
      }

      return Sequence<ISequence<char>>.FromArray(dafnyArgs);
    }
    public static ISequence<ISequence<Rune>> UnicodeFromMainArguments(string[] args) {
      Dafny.ISequence<Rune>[] dafnyArgs = new Dafny.ISequence<Rune>[args.Length + 1];
      dafnyArgs[0] = Dafny.Sequence<Rune>.UnicodeFromString("dotnet");
      for (var i = 0; i < args.Length; i++) {
        dafnyArgs[i + 1] = Dafny.Sequence<Rune>.UnicodeFromString(args[i]);
      }

      return Sequence<ISequence<Rune>>.FromArray(dafnyArgs);
    }

    public ISequence<U> DowncastClone<U>(Func<T, U> converter) {
      if (this is ISequence<U> th) {
        return th;
      } else {
        var values = new U[this.LongCount];
        for (long i = 0; i < this.LongCount; i++) {
          var val = converter(this.Select(i));
          values[i] = val;
        }
        return new ArraySequence<U>(values);
      }
    }
    public static ISequence<T> Update(ISequence<T> sequence, long index, T t) {
      T[] tmp = sequence.CloneAsArray();
      tmp[index] = t;
      return new ArraySequence<T>(tmp);
    }
    public static ISequence<T> Update(ISequence<T> sequence, ulong index, T t) {
      return Update(sequence, (long)index, t);
    }
    public static ISequence<T> Update(ISequence<T> sequence, BigInteger index, T t) {
      return Update(sequence, (long)index, t);
    }
    public static bool EqualUntil(ISequence<T> left, ISequence<T> right, int n) {
      for (int i = 0; i < n; i++) {
        if (!Equals(left.Select(i), right.Select(i))) {
          return false;
        }
      }
      return true;
    }
    public static bool IsPrefixOf(ISequence<T> left, ISequence<T> right) {
      int n = left.Count;
      return n <= right.Count && EqualUntil(left, right, n);
    }
    public static bool IsProperPrefixOf(ISequence<T> left, ISequence<T> right) {
      int n = left.Count;
      return n < right.Count && EqualUntil(left, right, n);
    }
    public static ISequence<T> Concat(ISequence<T> left, ISequence<T> right) {
      if (left.Count == 0) {
        return right;
      }
      if (right.Count == 0) {
        return left;
      }
      return new ConcatSequence<T>(left, right);
    }
    // Make Count a public abstract instead of LongCount, since the "array size is limited to a total of 4 billion
    // elements, and to a maximum index of 0X7FEFFFFF". Therefore, as a protection, limit this to int32.
    // https://docs.microsoft.com/en-us/dotnet/api/system.array
    public abstract int Count { get; }
    public long LongCount {
      get { return Count; }
    }
    // ImmutableElements cannot be public in the interface since ImmutableArray<T> leads to a
    // "covariant type T occurs in invariant position" error. There do not appear to be interfaces for ImmutableArray<T>
    // that resolve this.
    internal abstract ImmutableArray<T> ImmutableElements { get; }

    public T[] Elements { get { return CloneAsArray(); } }

    public T[] CloneAsArray() {
      return ImmutableElements.ToArray();
    }

    public IEnumerable<T> UniqueElements {
      get {
        return Set<T>.FromCollection(ImmutableElements).Elements;
      }
    }

    public IEnumerator<T> GetEnumerator() {
      foreach (var el in ImmutableElements) {
        yield return el;
      }
    }

    IEnumerator IEnumerable.GetEnumerator() {
      return GetEnumerator();
    }

    public T Select(ulong index) {
      return ImmutableElements[checked((int)index)];
    }
    public T Select(long index) {
      return ImmutableElements[checked((int)index)];
    }
    public T Select(uint index) {
      return ImmutableElements[checked((int)index)];
    }
    public T Select(int index) {
      return ImmutableElements[index];
    }
    public T Select(BigInteger index) {
      return ImmutableElements[(int)index];
    }
    public bool Equals(ISequence<T> other) {
      return ReferenceEquals(this, other) || (Count == other.Count && EqualUntil(this, other, Count));
    }
    public override bool Equals(object other) {
      if (other is ISequence<T>) {
        return Equals((ISequence<T>)other);
      }
      var th = this as ISequence<object>;
      var oth = other as ISequence<object>;
      if (th != null && oth != null) {
        // see explanation in Set.Equals
        return oth.EqualsAux(th);
      } else {
        return false;
      }
    }
    public bool EqualsAux(ISequence<object> other) {
      var s = other as ISequence<T>;
      if (s != null) {
        return Equals(s);
      } else {
        return false;
      }
    }
    public override int GetHashCode() {
      ImmutableArray<T> elmts = ImmutableElements;
      // https://devblogs.microsoft.com/dotnet/please-welcome-immutablearrayt/
      if (elmts.IsDefaultOrEmpty) {
        return 0;
      }

      var hashCode = 0;
      for (var i = 0; i < elmts.Length; i++) {
        hashCode = (hashCode << 3) | (hashCode >> 29) ^ Dafny.Helpers.GetHashCode(elmts[i]);
      }
      return hashCode;
    }
    public override string ToString() {
      if (typeof(T) == typeof(char)) {
        return string.Concat(this);
      } else {
        return "[" + string.Join(", ", ImmutableElements.Select(Dafny.Helpers.ToString)) + "]";
      }
    }

    public string ToVerbatimString(bool asLiteral) {
      var builder = new System.Text.StringBuilder();
      if (asLiteral) {
        builder.Append('"');
      }
      foreach (var c in this) {
        var rune = (Rune)(object)c;
        if (asLiteral) {
          builder.Append(Helpers.EscapeCharacter(rune));
        } else {
          builder.Append(char.ConvertFromUtf32(rune.Value));
        }
      }
      if (asLiteral) {
        builder.Append('"');
      }
      return builder.ToString();
    }

    public bool Contains<G>(G g) {
      if (g == null || g is T) {
        var t = (T)(object)g;
        return ImmutableElements.Contains(t);
      }
      return false;
    }
    public ISequence<T> Take(long m) {
      return Subsequence(0, m);
    }
    public ISequence<T> Take(ulong n) {
      return Take((long)n);
    }
    public ISequence<T> Take(BigInteger n) {
      return Take((long)n);
    }
    public ISequence<T> Drop(long m) {
      return Subsequence(m, Count);
    }
    public ISequence<T> Drop(ulong n) {
      return Drop((long)n);
    }
    public ISequence<T> Drop(BigInteger n) {
      return Drop((long)n);
    }
    public ISequence<T> Subsequence(long lo, long hi) {
      if (lo == 0 && hi == Count) {
        return this;
      }
      int startingIndex = checked((int)lo);
      var length = checked((int)hi) - startingIndex;
      return new ArraySequence<T>(ImmutableArray.Create<T>(ImmutableElements, startingIndex, length));
    }
    public ISequence<T> Subsequence(long lo, ulong hi) {
      return Subsequence(lo, (long)hi);
    }
    public ISequence<T> Subsequence(long lo, BigInteger hi) {
      return Subsequence(lo, (long)hi);
    }
    public ISequence<T> Subsequence(ulong lo, long hi) {
      return Subsequence((long)lo, hi);
    }
    public ISequence<T> Subsequence(ulong lo, ulong hi) {
      return Subsequence((long)lo, (long)hi);
    }
    public ISequence<T> Subsequence(ulong lo, BigInteger hi) {
      return Subsequence((long)lo, (long)hi);
    }
    public ISequence<T> Subsequence(BigInteger lo, long hi) {
      return Subsequence((long)lo, hi);
    }
    public ISequence<T> Subsequence(BigInteger lo, ulong hi) {
      return Subsequence((long)lo, (long)hi);
    }
    public ISequence<T> Subsequence(BigInteger lo, BigInteger hi) {
      return Subsequence((long)lo, (long)hi);
    }
  }

  internal class ArraySequence<T> : Sequence<T> {
    private readonly ImmutableArray<T> elmts;

    internal ArraySequence(ImmutableArray<T> ee) {
      elmts = ee;
    }
    internal ArraySequence(T[] ee) {
      elmts = ImmutableArray.Create<T>(ee);
    }

    internal override ImmutableArray<T> ImmutableElements {
      get {
        return elmts;
      }
    }

    public override int Count {
      get {
        return elmts.Length;
      }
    }
  }

  internal class ConcatSequence<T> : Sequence<T> {
    // INVARIANT: Either left != null, right != null, and elmts's underlying array == null or
    // left == null, right == null, and elmts's underlying array != null
    internal volatile ISequence<T> left, right;
    internal ImmutableArray<T> elmts;
    private readonly int count;

    internal ConcatSequence(ISequence<T> left, ISequence<T> right) {
      this.left = left;
      this.right = right;
      this.count = left.Count + right.Count;
    }

    internal override ImmutableArray<T> ImmutableElements {
      get {
        // IsDefault returns true if the underlying array is a null reference
        // https://devblogs.microsoft.com/dotnet/please-welcome-immutablearrayt/
        if (elmts.IsDefault) {
          elmts = ComputeElements();
          // We don't need the original sequences anymore; let them be
          // garbage-collected
          left = null;
          right = null;
        }
        return elmts;
      }
    }

    public override int Count {
      get {
        return count;
      }
    }

    internal ImmutableArray<T> ComputeElements() {
      // Traverse the tree formed by all descendants which are ConcatSequences
      var ansBuilder = ImmutableArray.CreateBuilder<T>(count);
      var toVisit = new Stack<ISequence<T>>();
      var leftBuffer = left;
      var rightBuffer = right;
      if (left == null || right == null) {
        // elmts can't be .IsDefault while either left, or right are null
        return elmts;
      }
      toVisit.Push(rightBuffer);
      toVisit.Push(leftBuffer);

      while (toVisit.Count != 0) {
        var seq = toVisit.Pop();
        if (seq is ConcatSequence<T> cs && cs.elmts.IsDefault) {
          leftBuffer = cs.left;
          rightBuffer = cs.right;
          if (cs.left == null || cs.right == null) {
            // !cs.elmts.IsDefault, due to concurrent enumeration
            toVisit.Push(cs);
          } else {
            toVisit.Push(rightBuffer);
            toVisit.Push(leftBuffer);
          }
        } else {
          if (seq is Sequence<T> sq) {
            ansBuilder.AddRange(sq.ImmutableElements); // Optimized path for ImmutableArray
          } else {
            ansBuilder.AddRange(seq); // Slower path using IEnumerable
          }
        }
      }
      return ansBuilder.MoveToImmutable();
    }
  }

  public interface IPair<out A, out B> {
    A Car { get; }
    B Cdr { get; }
  }

  public class Pair<A, B> : IPair<A, B> {
    private A car;
    private B cdr;
    public A Car { get { return car; } }
    public B Cdr { get { return cdr; } }
    public Pair(A a, B b) {
      this.car = a;
      this.cdr = b;
    }
  }

  public class TypeDescriptor<T> {
    private readonly T initValue;
    public TypeDescriptor(T initValue) {
      this.initValue = initValue;
    }
    public T Default() {
      return initValue;
    }
  }

  public partial class Helpers {
    public static int GetHashCode<G>(G g) {
      return g == null ? 1001 : g.GetHashCode();
    }

    public static int ToIntChecked(BigInteger i, string msg) {
      if (i > Int32.MaxValue || i < Int32.MinValue) {
        if (msg == null) {
          msg = "value out of range for a 32-bit int";
        }

        throw new HaltException(msg + ": " + i);
      }
      return (int)i;
    }
    public static int ToIntChecked(long i, string msg) {
      if (i > Int32.MaxValue || i < Int32.MinValue) {
        if (msg == null) {
          msg = "value out of range for a 32-bit int";
        }

        throw new HaltException(msg + ": " + i);
      }
      return (int)i;
    }
    public static int ToIntChecked(int i, string msg) {
      return i;
    }

    public static string ToString<G>(G g) {
      if (g == null) {
        return "null";
      } else if (g is bool) {
        return (bool)(object)g ? "true" : "false";  // capitalize boolean literals like in Dafny
      } else if (g is Rune) {
        return "'" + EscapeCharacter((Rune)(object)g) + "'";
      } else {
        return g.ToString();
      }
    }

    public static string EscapeCharacter(Rune r) {
      switch (r.Value) {
        case '\n': return "\\n";
        case '\r': return "\\r";
        case '\t': return "\\t";
        case '\0': return "\\0";
        case '\'': return "\\'";
        case '\"': return "\\\"";
        case '\\': return "\\\\";
        default: return r.ToString();
      };
    }

    public static void Print<G>(G g) {
      System.Console.Write(ToString(g));
    }

    public static readonly TypeDescriptor<bool> BOOL = new TypeDescriptor<bool>(false);
    public static readonly TypeDescriptor<char> CHAR = new TypeDescriptor<char>('D');  // See CharType.DefaultValue in Dafny source code
    public static readonly TypeDescriptor<Rune> RUNE = new TypeDescriptor<Rune>(new Rune('D'));  // See CharType.DefaultValue in Dafny source code
    public static readonly TypeDescriptor<BigInteger> INT = new TypeDescriptor<BigInteger>(BigInteger.Zero);
    public static readonly TypeDescriptor<BigRational> REAL = new TypeDescriptor<BigRational>(BigRational.ZERO);
    public static readonly TypeDescriptor<byte> UINT8 = new TypeDescriptor<byte>(0);
    public static readonly TypeDescriptor<ushort> UINT16 = new TypeDescriptor<ushort>(0);
    public static readonly TypeDescriptor<uint> UINT32 = new TypeDescriptor<uint>(0);
    public static readonly TypeDescriptor<ulong> UINT64 = new TypeDescriptor<ulong>(0);

    public static TypeDescriptor<T> NULL<T>() where T : class {
      return new TypeDescriptor<T>(null);
    }

    public static TypeDescriptor<A[]> ARRAY<A>() {
      return new TypeDescriptor<A[]>(new A[0]);
    }

    public static bool Quantifier<T>(IEnumerable<T> vals, bool frall, System.Predicate<T> pred) {
      foreach (var u in vals) {
        if (pred(u) != frall) { return !frall; }
      }
      return frall;
    }
    // Enumerating other collections
    public static IEnumerable<bool> AllBooleans() {
      yield return false;
      yield return true;
    }
    public static IEnumerable<char> AllChars() {
      for (int i = 0; i < 0x1_0000; i++) {
        yield return (char)i;
      }
    }
    public static IEnumerable<Rune> AllUnicodeChars() {
      for (int i = 0; i < 0xD800; i++) {
        yield return new Rune(i);
      }
      for (int i = 0xE000; i < 0x11_0000; i++) {
        yield return new Rune(i);
      }
    }
    public static IEnumerable<BigInteger> AllIntegers() {
      yield return new BigInteger(0);
      for (var j = new BigInteger(1); ; j++) {
        yield return j;
        yield return -j;
      }
    }
    public static IEnumerable<BigInteger> IntegerRange(Nullable<BigInteger> lo, Nullable<BigInteger> hi) {
      if (lo == null) {
        for (var j = (BigInteger)hi; true;) {
          j--;
          yield return j;
        }
      } else if (hi == null) {
        for (var j = (BigInteger)lo; true; j++) {
          yield return j;
        }
      } else {
        for (var j = (BigInteger)lo; j < hi; j++) {
          yield return j;
        }
      }
    }
    public static IEnumerable<T> SingleValue<T>(T e) {
      yield return e;
    }
    // pre: b != 0
    // post: result == a/b, as defined by Euclidean Division (http://en.wikipedia.org/wiki/Modulo_operation)
    public static sbyte EuclideanDivision_sbyte(sbyte a, sbyte b) {
      return (sbyte)EuclideanDivision_int(a, b);
    }
    public static short EuclideanDivision_short(short a, short b) {
      return (short)EuclideanDivision_int(a, b);
    }
    public static int EuclideanDivision_int(int a, int b) {
      if (0 <= a) {
        if (0 <= b) {
          // +a +b: a/b
          return (int)(((uint)(a)) / ((uint)(b)));
        } else {
          // +a -b: -(a/(-b))
          return -((int)(((uint)(a)) / ((uint)(unchecked(-b)))));
        }
      } else {
        if (0 <= b) {
          // -a +b: -((-a-1)/b) - 1
          return -((int)(((uint)(-(a + 1))) / ((uint)(b)))) - 1;
        } else {
          // -a -b: ((-a-1)/(-b)) + 1
          return ((int)(((uint)(-(a + 1))) / ((uint)(unchecked(-b))))) + 1;
        }
      }
    }
    public static long EuclideanDivision_long(long a, long b) {
      if (0 <= a) {
        if (0 <= b) {
          // +a +b: a/b
          return (long)(((ulong)(a)) / ((ulong)(b)));
        } else {
          // +a -b: -(a/(-b))
          return -((long)(((ulong)(a)) / ((ulong)(unchecked(-b)))));
        }
      } else {
        if (0 <= b) {
          // -a +b: -((-a-1)/b) - 1
          return -((long)(((ulong)(-(a + 1))) / ((ulong)(b)))) - 1;
        } else {
          // -a -b: ((-a-1)/(-b)) + 1
          return ((long)(((ulong)(-(a + 1))) / ((ulong)(unchecked(-b))))) + 1;
        }
      }
    }
    public static BigInteger EuclideanDivision(BigInteger a, BigInteger b) {
      if (0 <= a.Sign) {
        if (0 <= b.Sign) {
          // +a +b: a/b
          return BigInteger.Divide(a, b);
        } else {
          // +a -b: -(a/(-b))
          return BigInteger.Negate(BigInteger.Divide(a, BigInteger.Negate(b)));
        }
      } else {
        if (0 <= b.Sign) {
          // -a +b: -((-a-1)/b) - 1
          return BigInteger.Negate(BigInteger.Divide(BigInteger.Negate(a) - 1, b)) - 1;
        } else {
          // -a -b: ((-a-1)/(-b)) + 1
          return BigInteger.Divide(BigInteger.Negate(a) - 1, BigInteger.Negate(b)) + 1;
        }
      }
    }
    // pre: b != 0
    // post: result == a%b, as defined by Euclidean Division (http://en.wikipedia.org/wiki/Modulo_operation)
    public static sbyte EuclideanModulus_sbyte(sbyte a, sbyte b) {
      return (sbyte)EuclideanModulus_int(a, b);
    }
    public static short EuclideanModulus_short(short a, short b) {
      return (short)EuclideanModulus_int(a, b);
    }
    public static int EuclideanModulus_int(int a, int b) {
      uint bp = (0 <= b) ? (uint)b : (uint)(unchecked(-b));
      if (0 <= a) {
        // +a: a % b'
        return (int)(((uint)a) % bp);
      } else {
        // c = ((-a) % b')
        // -a: b' - c if c > 0
        // -a: 0 if c == 0
        uint c = ((uint)(unchecked(-a))) % bp;
        return (int)(c == 0 ? c : bp - c);
      }
    }
    public static long EuclideanModulus_long(long a, long b) {
      ulong bp = (0 <= b) ? (ulong)b : (ulong)(unchecked(-b));
      if (0 <= a) {
        // +a: a % b'
        return (long)(((ulong)a) % bp);
      } else {
        // c = ((-a) % b')
        // -a: b' - c if c > 0
        // -a: 0 if c == 0
        ulong c = ((ulong)(unchecked(-a))) % bp;
        return (long)(c == 0 ? c : bp - c);
      }
    }
    public static BigInteger EuclideanModulus(BigInteger a, BigInteger b) {
      var bp = BigInteger.Abs(b);
      if (0 <= a.Sign) {
        // +a: a % b'
        return BigInteger.Remainder(a, bp);
      } else {
        // c = ((-a) % b')
        // -a: b' - c if c > 0
        // -a: 0 if c == 0
        var c = BigInteger.Remainder(BigInteger.Negate(a), bp);
        return c.IsZero ? c : BigInteger.Subtract(bp, c);
      }
    }

    public static U CastConverter<T, U>(T t) {
      return (U)(object)t;
    }

    public static Sequence<T> SeqFromArray<T>(T[] array) {
      return new ArraySequence<T>(array);
    }
    // In .NET version 4.5, it is possible to mark a method with "AggressiveInlining", which says to inline the
    // method if possible.  Method "ExpressionSequence" would be a good candidate for it:
    // [System.Runtime.CompilerServices.MethodImpl(System.Runtime.CompilerServices.MethodImplOptions.AggressiveInlining)]
    public static U ExpressionSequence<T, U>(T t, U u) {
      return u;
    }

    public static U Let<T, U>(T t, Func<T, U> f) {
      return f(t);
    }

    public static A Id<A>(A a) {
      return a;
    }

    public static void WithHaltHandling(Action action) {
      try {
        action();
      } catch (HaltException e) {
        Console.WriteLine("[Program halted] " + e.Message);
        // This is unfriendly given that Dafny's C# compiler will
        // invoke the compiled main method directly,
        // so we might be exiting the whole Dafny process here.
        // That's the best we can do until Dafny main methods support
        // a return value though (https://github.com/dafny-lang/dafny/issues/2699).
        // If we just set Environment.ExitCode here, the Dafny CLI
        // will just override that with 0.
        Environment.Exit(1);
      }
    }

    public static Rune AddRunes(Rune left, Rune right) {
      return (Rune)(left.Value + right.Value);
    }

    public static Rune SubtractRunes(Rune left, Rune right) {
      return (Rune)(left.Value - right.Value);
    }

    public static uint Bv32ShiftLeft(uint a, int amount) {
      return 32 <= amount ? 0 : a << amount;
    }
    public static ulong Bv64ShiftLeft(ulong a, int amount) {
      return 64 <= amount ? 0 : a << amount;
    }

    public static uint Bv32ShiftRight(uint a, int amount) {
      return 32 <= amount ? 0 : a >> amount;
    }
    public static ulong Bv64ShiftRight(ulong a, int amount) {
      return 64 <= amount ? 0 : a >> amount;
    }
  }

  public class BigOrdinal {
    public static bool IsLimit(BigInteger ord) {
      return ord == 0;
    }
    public static bool IsSucc(BigInteger ord) {
      return 0 < ord;
    }
    public static BigInteger Offset(BigInteger ord) {
      return ord;
    }
    public static bool IsNat(BigInteger ord) {
      return true;  // at run time, every ORDINAL is a natural number
    }
  }

  public struct BigRational {
    public static readonly BigRational ZERO = new BigRational(0);

    // We need to deal with the special case "num == 0 && den == 0", because
    // that's what C#'s default struct constructor will produce for BigRational. :(
    // To deal with it, we ignore "den" when "num" is 0.
    public readonly BigInteger num, den;  // invariant 1 <= den || (num == 0 && den == 0)

    public override string ToString() {
      if (num.IsZero || den.IsOne) {
        return string.Format("{0}.0", num);
      } else if (DividesAPowerOf10(den, out var factor, out var log10)) {
        var n = num * factor;
        string sign;
        string digits;
        if (n.Sign < 0) {
          sign = "-"; digits = (-n).ToString();
        } else {
          sign = ""; digits = n.ToString();
        }
        if (log10 < digits.Length) {
          var digitCount = digits.Length - log10;
          return string.Format("{0}{1}.{2}", sign, digits.Substring(0, digitCount), digits.Substring(digitCount));
        } else {
          return string.Format("{0}0.{1}{2}", sign, new string('0', log10 - digits.Length), digits);
        }
      } else {
        return string.Format("({0}.0 / {1}.0)", num, den);
      }
    }
    public static bool IsPowerOf10(BigInteger x, out int log10) {
      log10 = 0;
      if (x.IsZero) {
        return false;
      }
      while (true) {  // invariant: x != 0 && x * 10^log10 == old(x)
        if (x.IsOne) {
          return true;
        } else if (x % 10 == 0) {
          log10++;
          x /= 10;
        } else {
          return false;
        }
      }
    }
    /// <summary>
    /// If this method return true, then
    ///     10^log10 == factor * i
    /// Otherwise, factor and log10 should not be used.
    /// </summary>
    public static bool DividesAPowerOf10(BigInteger i, out BigInteger factor, out int log10) {
      factor = BigInteger.One;
      log10 = 0;
      if (i <= 0) {
        return false;
      }

      BigInteger ten = 10;
      BigInteger five = 5;
      BigInteger two = 2;

      // invariant: 1 <= i && i * 10^log10 == factor * old(i)
      while (i % ten == 0) {
        i /= ten;
        log10++;
      }

      while (i % five == 0) {
        i /= five;
        factor *= two;
        log10++;
      }
      while (i % two == 0) {
        i /= two;
        factor *= five;
        log10++;
      }

      return i == BigInteger.One;
    }

    public BigRational(int n) {
      num = new BigInteger(n);
      den = BigInteger.One;
    }
    public BigRational(uint n) {
      num = new BigInteger(n);
      den = BigInteger.One;
    }
    public BigRational(long n) {
      num = new BigInteger(n);
      den = BigInteger.One;
    }
    public BigRational(ulong n) {
      num = new BigInteger(n);
      den = BigInteger.One;
    }
    public BigRational(BigInteger n, BigInteger d) {
      // requires 1 <= d
      num = n;
      den = d;
    }
    /// <summary>
    /// Construct an exact rational representation of a double value.
    /// Throw an exception on NaN or infinite values. Does not support
    /// subnormal values, though it would be possible to extend it to.
    /// </summary>
    public BigRational(double n) {
      if (Double.IsNaN(n)) {
        throw new ArgumentException("Can't convert NaN to a rational.");
      }
      if (Double.IsInfinity(n)) {
        throw new ArgumentException(
          "Can't convert +/- infinity to a rational.");
      }

      // Double-specific values
      const int exptBias = 1023;
      const ulong signMask = 0x8000000000000000;
      const ulong exptMask = 0x7FF0000000000000;
      const ulong mantMask = 0x000FFFFFFFFFFFFF;
      const int mantBits = 52;
      ulong bits = BitConverter.ToUInt64(BitConverter.GetBytes(n), 0);

      // Generic conversion
      bool isNeg = (bits & signMask) != 0;
      int expt = ((int)((bits & exptMask) >> mantBits)) - exptBias;
      var mant = (bits & mantMask);

      if (expt == -exptBias && mant != 0) {
        throw new ArgumentException(
          "Can't convert a subnormal value to a rational (yet).");
      }

      var one = BigInteger.One;
      var negFactor = isNeg ? BigInteger.Negate(one) : one;
      var two = new BigInteger(2);
      var exptBI = BigInteger.Pow(two, Math.Abs(expt));
      var twoToMantBits = BigInteger.Pow(two, mantBits);
      var mantNum = negFactor * (twoToMantBits + new BigInteger(mant));
      if (expt == -exptBias && mant == 0) {
        num = den = 0;
      } else if (expt < 0) {
        num = mantNum;
        den = twoToMantBits * exptBI;
      } else {
        num = exptBI * mantNum;
        den = twoToMantBits;
      }
    }
    public BigInteger ToBigInteger() {
      if (num.IsZero || den.IsOne) {
        return num;
      } else if (0 < num.Sign) {
        return num / den;
      } else {
        return (num - den + 1) / den;
      }
    }

    public bool IsInteger() {
      var floored = new BigRational(this.ToBigInteger(), BigInteger.One);
      return this == floored;
    }

    /// <summary>
    /// Returns values such that aa/dd == a and bb/dd == b.
    /// </summary>
    private static void Normalize(BigRational a, BigRational b, out BigInteger aa, out BigInteger bb, out BigInteger dd) {
      if (a.num.IsZero) {
        aa = a.num;
        bb = b.num;
        dd = b.den;
      } else if (b.num.IsZero) {
        aa = a.num;
        dd = a.den;
        bb = b.num;
      } else {
        var gcd = BigInteger.GreatestCommonDivisor(a.den, b.den);
        var xx = a.den / gcd;
        var yy = b.den / gcd;
        // We now have a == a.num / (xx * gcd) and b == b.num / (yy * gcd).
        aa = a.num * yy;
        bb = b.num * xx;
        dd = a.den * yy;
      }
    }
    public int CompareTo(BigRational that) {
      // simple things first
      int asign = this.num.Sign;
      int bsign = that.num.Sign;
      if (asign < 0 && 0 <= bsign) {
        return -1;
      } else if (asign <= 0 && 0 < bsign) {
        return -1;
      } else if (bsign < 0 && 0 <= asign) {
        return 1;
      } else if (bsign <= 0 && 0 < asign) {
        return 1;
      }

      Normalize(this, that, out var aa, out var bb, out var dd);
      return aa.CompareTo(bb);
    }
    public int Sign {
      get {
        return num.Sign;
      }
    }
    public override int GetHashCode() {
      return num.GetHashCode() + 29 * den.GetHashCode();
    }
    public override bool Equals(object obj) {
      if (obj is BigRational) {
        return this == (BigRational)obj;
      } else {
        return false;
      }
    }
    public static bool operator ==(BigRational a, BigRational b) {
      return a.CompareTo(b) == 0;
    }
    public static bool operator !=(BigRational a, BigRational b) {
      return a.CompareTo(b) != 0;
    }
    public static bool operator >(BigRational a, BigRational b) {
      return a.CompareTo(b) > 0;
    }
    public static bool operator >=(BigRational a, BigRational b) {
      return a.CompareTo(b) >= 0;
    }
    public static bool operator <(BigRational a, BigRational b) {
      return a.CompareTo(b) < 0;
    }
    public static bool operator <=(BigRational a, BigRational b) {
      return a.CompareTo(b) <= 0;
    }
    public static BigRational operator +(BigRational a, BigRational b) {
      Normalize(a, b, out var aa, out var bb, out var dd);
      return new BigRational(aa + bb, dd);
    }
    public static BigRational operator -(BigRational a, BigRational b) {
      Normalize(a, b, out var aa, out var bb, out var dd);
      return new BigRational(aa - bb, dd);
    }
    public static BigRational operator -(BigRational a) {
      return new BigRational(-a.num, a.den);
    }
    public static BigRational operator *(BigRational a, BigRational b) {
      return new BigRational(a.num * b.num, a.den * b.den);
    }
    public static BigRational operator /(BigRational a, BigRational b) {
      // Compute the reciprocal of b
      BigRational bReciprocal;
      if (0 < b.num.Sign) {
        bReciprocal = new BigRational(b.den, b.num);
      } else {
        // this is the case b.num < 0
        bReciprocal = new BigRational(-b.den, -b.num);
      }
      return a * bReciprocal;
    }
  }

  public class HaltException : Exception {
    public HaltException(object message) : base(message.ToString()) {
    }
  }
}
// Dafny program systemModulePopulator.dfy compiled into C#
// To recompile, you will need the libraries
//     System.Runtime.Numerics.dll System.Collections.Immutable.dll
// but the 'dotnet' tool in .NET should pick those up automatically.
// Optionally, you may want to include compiler switches like
//     /debug /nowarn:162,164,168,183,219,436,1717,1718

#if ISDAFNYRUNTIMELIB
using System;
using System.Numerics;
using System.Collections;
#endif
#if ISDAFNYRUNTIMELIB
namespace Dafny {
  internal class ArrayHelpers {
    public static T[] InitNewArray1<T>(T z, BigInteger size0) {
      int s0 = (int)size0;
      T[] a = new T[s0];
      for (int i0 = 0; i0 < s0; i0++) {
        a[i0] = z;
      }
      return a;
    }
    public static T[,] InitNewArray2<T>(T z, BigInteger size0, BigInteger size1) {
      int s0 = (int)size0;
      int s1 = (int)size1;
      T[,] a = new T[s0,s1];
      for (int i0 = 0; i0 < s0; i0++) {
        for (int i1 = 0; i1 < s1; i1++) {
          a[i0,i1] = z;
        }
      }
      return a;
    }
    public static T[,,] InitNewArray3<T>(T z, BigInteger size0, BigInteger size1, BigInteger size2) {
      int s0 = (int)size0;
      int s1 = (int)size1;
      int s2 = (int)size2;
      T[,,] a = new T[s0,s1,s2];
      for (int i0 = 0; i0 < s0; i0++) {
        for (int i1 = 0; i1 < s1; i1++) {
          for (int i2 = 0; i2 < s2; i2++) {
            a[i0,i1,i2] = z;
          }
        }
      }
      return a;
    }
    public static T[,,,] InitNewArray4<T>(T z, BigInteger size0, BigInteger size1, BigInteger size2, BigInteger size3) {
      int s0 = (int)size0;
      int s1 = (int)size1;
      int s2 = (int)size2;
      int s3 = (int)size3;
      T[,,,] a = new T[s0,s1,s2,s3];
      for (int i0 = 0; i0 < s0; i0++) {
        for (int i1 = 0; i1 < s1; i1++) {
          for (int i2 = 0; i2 < s2; i2++) {
            for (int i3 = 0; i3 < s3; i3++) {
              a[i0,i1,i2,i3] = z;
            }
          }
        }
      }
      return a;
    }
    public static T[,,,,] InitNewArray5<T>(T z, BigInteger size0, BigInteger size1, BigInteger size2, BigInteger size3, BigInteger size4) {
      int s0 = (int)size0;
      int s1 = (int)size1;
      int s2 = (int)size2;
      int s3 = (int)size3;
      int s4 = (int)size4;
      T[,,,,] a = new T[s0,s1,s2,s3,s4];
      for (int i0 = 0; i0 < s0; i0++) {
        for (int i1 = 0; i1 < s1; i1++) {
          for (int i2 = 0; i2 < s2; i2++) {
            for (int i3 = 0; i3 < s3; i3++) {
              for (int i4 = 0; i4 < s4; i4++) {
                a[i0,i1,i2,i3,i4] = z;
              }
            }
          }
        }
      }
      return a;
    }
    public static T[,,,,,] InitNewArray6<T>(T z, BigInteger size0, BigInteger size1, BigInteger size2, BigInteger size3, BigInteger size4, BigInteger size5) {
      int s0 = (int)size0;
      int s1 = (int)size1;
      int s2 = (int)size2;
      int s3 = (int)size3;
      int s4 = (int)size4;
      int s5 = (int)size5;
      T[,,,,,] a = new T[s0,s1,s2,s3,s4,s5];
      for (int i0 = 0; i0 < s0; i0++) {
        for (int i1 = 0; i1 < s1; i1++) {
          for (int i2 = 0; i2 < s2; i2++) {
            for (int i3 = 0; i3 < s3; i3++) {
              for (int i4 = 0; i4 < s4; i4++) {
                for (int i5 = 0; i5 < s5; i5++) {
                  a[i0,i1,i2,i3,i4,i5] = z;
                }
              }
            }
          }
        }
      }
      return a;
    }
    public static T[,,,,,,] InitNewArray7<T>(T z, BigInteger size0, BigInteger size1, BigInteger size2, BigInteger size3, BigInteger size4, BigInteger size5, BigInteger size6) {
      int s0 = (int)size0;
      int s1 = (int)size1;
      int s2 = (int)size2;
      int s3 = (int)size3;
      int s4 = (int)size4;
      int s5 = (int)size5;
      int s6 = (int)size6;
      T[,,,,,,] a = new T[s0,s1,s2,s3,s4,s5,s6];
      for (int i0 = 0; i0 < s0; i0++) {
        for (int i1 = 0; i1 < s1; i1++) {
          for (int i2 = 0; i2 < s2; i2++) {
            for (int i3 = 0; i3 < s3; i3++) {
              for (int i4 = 0; i4 < s4; i4++) {
                for (int i5 = 0; i5 < s5; i5++) {
                  for (int i6 = 0; i6 < s6; i6++) {
                    a[i0,i1,i2,i3,i4,i5,i6] = z;
                  }
                }
              }
            }
          }
        }
      }
      return a;
    }
    public static T[,,,,,,,] InitNewArray8<T>(T z, BigInteger size0, BigInteger size1, BigInteger size2, BigInteger size3, BigInteger size4, BigInteger size5, BigInteger size6, BigInteger size7) {
      int s0 = (int)size0;
      int s1 = (int)size1;
      int s2 = (int)size2;
      int s3 = (int)size3;
      int s4 = (int)size4;
      int s5 = (int)size5;
      int s6 = (int)size6;
      int s7 = (int)size7;
      T[,,,,,,,] a = new T[s0,s1,s2,s3,s4,s5,s6,s7];
      for (int i0 = 0; i0 < s0; i0++) {
        for (int i1 = 0; i1 < s1; i1++) {
          for (int i2 = 0; i2 < s2; i2++) {
            for (int i3 = 0; i3 < s3; i3++) {
              for (int i4 = 0; i4 < s4; i4++) {
                for (int i5 = 0; i5 < s5; i5++) {
                  for (int i6 = 0; i6 < s6; i6++) {
                    for (int i7 = 0; i7 < s7; i7++) {
                      a[i0,i1,i2,i3,i4,i5,i6,i7] = z;
                    }
                  }
                }
              }
            }
          }
        }
      }
      return a;
    }
    public static T[,,,,,,,,] InitNewArray9<T>(T z, BigInteger size0, BigInteger size1, BigInteger size2, BigInteger size3, BigInteger size4, BigInteger size5, BigInteger size6, BigInteger size7, BigInteger size8) {
      int s0 = (int)size0;
      int s1 = (int)size1;
      int s2 = (int)size2;
      int s3 = (int)size3;
      int s4 = (int)size4;
      int s5 = (int)size5;
      int s6 = (int)size6;
      int s7 = (int)size7;
      int s8 = (int)size8;
      T[,,,,,,,,] a = new T[s0,s1,s2,s3,s4,s5,s6,s7,s8];
      for (int i0 = 0; i0 < s0; i0++) {
        for (int i1 = 0; i1 < s1; i1++) {
          for (int i2 = 0; i2 < s2; i2++) {
            for (int i3 = 0; i3 < s3; i3++) {
              for (int i4 = 0; i4 < s4; i4++) {
                for (int i5 = 0; i5 < s5; i5++) {
                  for (int i6 = 0; i6 < s6; i6++) {
                    for (int i7 = 0; i7 < s7; i7++) {
                      for (int i8 = 0; i8 < s8; i8++) {
                        a[i0,i1,i2,i3,i4,i5,i6,i7,i8] = z;
                      }
                    }
                  }
                }
              }
            }
          }
        }
      }
      return a;
    }
    public static T[,,,,,,,,,] InitNewArray10<T>(T z, BigInteger size0, BigInteger size1, BigInteger size2, BigInteger size3, BigInteger size4, BigInteger size5, BigInteger size6, BigInteger size7, BigInteger size8, BigInteger size9) {
      int s0 = (int)size0;
      int s1 = (int)size1;
      int s2 = (int)size2;
      int s3 = (int)size3;
      int s4 = (int)size4;
      int s5 = (int)size5;
      int s6 = (int)size6;
      int s7 = (int)size7;
      int s8 = (int)size8;
      int s9 = (int)size9;
      T[,,,,,,,,,] a = new T[s0,s1,s2,s3,s4,s5,s6,s7,s8,s9];
      for (int i0 = 0; i0 < s0; i0++) {
        for (int i1 = 0; i1 < s1; i1++) {
          for (int i2 = 0; i2 < s2; i2++) {
            for (int i3 = 0; i3 < s3; i3++) {
              for (int i4 = 0; i4 < s4; i4++) {
                for (int i5 = 0; i5 < s5; i5++) {
                  for (int i6 = 0; i6 < s6; i6++) {
                    for (int i7 = 0; i7 < s7; i7++) {
                      for (int i8 = 0; i8 < s8; i8++) {
                        for (int i9 = 0; i9 < s9; i9++) {
                          a[i0,i1,i2,i3,i4,i5,i6,i7,i8,i9] = z;
                        }
                      }
                    }
                  }
                }
              }
            }
          }
        }
      }
      return a;
    }
    public static T[,,,,,,,,,,] InitNewArray11<T>(T z, BigInteger size0, BigInteger size1, BigInteger size2, BigInteger size3, BigInteger size4, BigInteger size5, BigInteger size6, BigInteger size7, BigInteger size8, BigInteger size9, BigInteger size10) {
      int s0 = (int)size0;
      int s1 = (int)size1;
      int s2 = (int)size2;
      int s3 = (int)size3;
      int s4 = (int)size4;
      int s5 = (int)size5;
      int s6 = (int)size6;
      int s7 = (int)size7;
      int s8 = (int)size8;
      int s9 = (int)size9;
      int s10 = (int)size10;
      T[,,,,,,,,,,] a = new T[s0,s1,s2,s3,s4,s5,s6,s7,s8,s9,s10];
      for (int i0 = 0; i0 < s0; i0++) {
        for (int i1 = 0; i1 < s1; i1++) {
          for (int i2 = 0; i2 < s2; i2++) {
            for (int i3 = 0; i3 < s3; i3++) {
              for (int i4 = 0; i4 < s4; i4++) {
                for (int i5 = 0; i5 < s5; i5++) {
                  for (int i6 = 0; i6 < s6; i6++) {
                    for (int i7 = 0; i7 < s7; i7++) {
                      for (int i8 = 0; i8 < s8; i8++) {
                        for (int i9 = 0; i9 < s9; i9++) {
                          for (int i10 = 0; i10 < s10; i10++) {
                            a[i0,i1,i2,i3,i4,i5,i6,i7,i8,i9,i10] = z;
                          }
                        }
                      }
                    }
                  }
                }
              }
            }
          }
        }
      }
      return a;
    }
    public static T[,,,,,,,,,,,] InitNewArray12<T>(T z, BigInteger size0, BigInteger size1, BigInteger size2, BigInteger size3, BigInteger size4, BigInteger size5, BigInteger size6, BigInteger size7, BigInteger size8, BigInteger size9, BigInteger size10, BigInteger size11) {
      int s0 = (int)size0;
      int s1 = (int)size1;
      int s2 = (int)size2;
      int s3 = (int)size3;
      int s4 = (int)size4;
      int s5 = (int)size5;
      int s6 = (int)size6;
      int s7 = (int)size7;
      int s8 = (int)size8;
      int s9 = (int)size9;
      int s10 = (int)size10;
      int s11 = (int)size11;
      T[,,,,,,,,,,,] a = new T[s0,s1,s2,s3,s4,s5,s6,s7,s8,s9,s10,s11];
      for (int i0 = 0; i0 < s0; i0++) {
        for (int i1 = 0; i1 < s1; i1++) {
          for (int i2 = 0; i2 < s2; i2++) {
            for (int i3 = 0; i3 < s3; i3++) {
              for (int i4 = 0; i4 < s4; i4++) {
                for (int i5 = 0; i5 < s5; i5++) {
                  for (int i6 = 0; i6 < s6; i6++) {
                    for (int i7 = 0; i7 < s7; i7++) {
                      for (int i8 = 0; i8 < s8; i8++) {
                        for (int i9 = 0; i9 < s9; i9++) {
                          for (int i10 = 0; i10 < s10; i10++) {
                            for (int i11 = 0; i11 < s11; i11++) {
                              a[i0,i1,i2,i3,i4,i5,i6,i7,i8,i9,i10,i11] = z;
                            }
                          }
                        }
                      }
                    }
                  }
                }
              }
            }
          }
        }
      }
      return a;
    }
    public static T[,,,,,,,,,,,,] InitNewArray13<T>(T z, BigInteger size0, BigInteger size1, BigInteger size2, BigInteger size3, BigInteger size4, BigInteger size5, BigInteger size6, BigInteger size7, BigInteger size8, BigInteger size9, BigInteger size10, BigInteger size11, BigInteger size12) {
      int s0 = (int)size0;
      int s1 = (int)size1;
      int s2 = (int)size2;
      int s3 = (int)size3;
      int s4 = (int)size4;
      int s5 = (int)size5;
      int s6 = (int)size6;
      int s7 = (int)size7;
      int s8 = (int)size8;
      int s9 = (int)size9;
      int s10 = (int)size10;
      int s11 = (int)size11;
      int s12 = (int)size12;
      T[,,,,,,,,,,,,] a = new T[s0,s1,s2,s3,s4,s5,s6,s7,s8,s9,s10,s11,s12];
      for (int i0 = 0; i0 < s0; i0++) {
        for (int i1 = 0; i1 < s1; i1++) {
          for (int i2 = 0; i2 < s2; i2++) {
            for (int i3 = 0; i3 < s3; i3++) {
              for (int i4 = 0; i4 < s4; i4++) {
                for (int i5 = 0; i5 < s5; i5++) {
                  for (int i6 = 0; i6 < s6; i6++) {
                    for (int i7 = 0; i7 < s7; i7++) {
                      for (int i8 = 0; i8 < s8; i8++) {
                        for (int i9 = 0; i9 < s9; i9++) {
                          for (int i10 = 0; i10 < s10; i10++) {
                            for (int i11 = 0; i11 < s11; i11++) {
                              for (int i12 = 0; i12 < s12; i12++) {
                                a[i0,i1,i2,i3,i4,i5,i6,i7,i8,i9,i10,i11,i12] = z;
                              }
                            }
                          }
                        }
                      }
                    }
                  }
                }
              }
            }
          }
        }
      }
      return a;
    }
    public static T[,,,,,,,,,,,,,] InitNewArray14<T>(T z, BigInteger size0, BigInteger size1, BigInteger size2, BigInteger size3, BigInteger size4, BigInteger size5, BigInteger size6, BigInteger size7, BigInteger size8, BigInteger size9, BigInteger size10, BigInteger size11, BigInteger size12, BigInteger size13) {
      int s0 = (int)size0;
      int s1 = (int)size1;
      int s2 = (int)size2;
      int s3 = (int)size3;
      int s4 = (int)size4;
      int s5 = (int)size5;
      int s6 = (int)size6;
      int s7 = (int)size7;
      int s8 = (int)size8;
      int s9 = (int)size9;
      int s10 = (int)size10;
      int s11 = (int)size11;
      int s12 = (int)size12;
      int s13 = (int)size13;
      T[,,,,,,,,,,,,,] a = new T[s0,s1,s2,s3,s4,s5,s6,s7,s8,s9,s10,s11,s12,s13];
      for (int i0 = 0; i0 < s0; i0++) {
        for (int i1 = 0; i1 < s1; i1++) {
          for (int i2 = 0; i2 < s2; i2++) {
            for (int i3 = 0; i3 < s3; i3++) {
              for (int i4 = 0; i4 < s4; i4++) {
                for (int i5 = 0; i5 < s5; i5++) {
                  for (int i6 = 0; i6 < s6; i6++) {
                    for (int i7 = 0; i7 < s7; i7++) {
                      for (int i8 = 0; i8 < s8; i8++) {
                        for (int i9 = 0; i9 < s9; i9++) {
                          for (int i10 = 0; i10 < s10; i10++) {
                            for (int i11 = 0; i11 < s11; i11++) {
                              for (int i12 = 0; i12 < s12; i12++) {
                                for (int i13 = 0; i13 < s13; i13++) {
                                  a[i0,i1,i2,i3,i4,i5,i6,i7,i8,i9,i10,i11,i12,i13] = z;
                                }
                              }
                            }
                          }
                        }
                      }
                    }
                  }
                }
              }
            }
          }
        }
      }
      return a;
    }
    public static T[,,,,,,,,,,,,,,] InitNewArray15<T>(T z, BigInteger size0, BigInteger size1, BigInteger size2, BigInteger size3, BigInteger size4, BigInteger size5, BigInteger size6, BigInteger size7, BigInteger size8, BigInteger size9, BigInteger size10, BigInteger size11, BigInteger size12, BigInteger size13, BigInteger size14) {
      int s0 = (int)size0;
      int s1 = (int)size1;
      int s2 = (int)size2;
      int s3 = (int)size3;
      int s4 = (int)size4;
      int s5 = (int)size5;
      int s6 = (int)size6;
      int s7 = (int)size7;
      int s8 = (int)size8;
      int s9 = (int)size9;
      int s10 = (int)size10;
      int s11 = (int)size11;
      int s12 = (int)size12;
      int s13 = (int)size13;
      int s14 = (int)size14;
      T[,,,,,,,,,,,,,,] a = new T[s0,s1,s2,s3,s4,s5,s6,s7,s8,s9,s10,s11,s12,s13,s14];
      for (int i0 = 0; i0 < s0; i0++) {
        for (int i1 = 0; i1 < s1; i1++) {
          for (int i2 = 0; i2 < s2; i2++) {
            for (int i3 = 0; i3 < s3; i3++) {
              for (int i4 = 0; i4 < s4; i4++) {
                for (int i5 = 0; i5 < s5; i5++) {
                  for (int i6 = 0; i6 < s6; i6++) {
                    for (int i7 = 0; i7 < s7; i7++) {
                      for (int i8 = 0; i8 < s8; i8++) {
                        for (int i9 = 0; i9 < s9; i9++) {
                          for (int i10 = 0; i10 < s10; i10++) {
                            for (int i11 = 0; i11 < s11; i11++) {
                              for (int i12 = 0; i12 < s12; i12++) {
                                for (int i13 = 0; i13 < s13; i13++) {
                                  for (int i14 = 0; i14 < s14; i14++) {
                                    a[i0,i1,i2,i3,i4,i5,i6,i7,i8,i9,i10,i11,i12,i13,i14] = z;
                                  }
                                }
                              }
                            }
                          }
                        }
                      }
                    }
                  }
                }
              }
            }
          }
        }
      }
      return a;
    }
    public static T[,,,,,,,,,,,,,,,] InitNewArray16<T>(T z, BigInteger size0, BigInteger size1, BigInteger size2, BigInteger size3, BigInteger size4, BigInteger size5, BigInteger size6, BigInteger size7, BigInteger size8, BigInteger size9, BigInteger size10, BigInteger size11, BigInteger size12, BigInteger size13, BigInteger size14, BigInteger size15) {
      int s0 = (int)size0;
      int s1 = (int)size1;
      int s2 = (int)size2;
      int s3 = (int)size3;
      int s4 = (int)size4;
      int s5 = (int)size5;
      int s6 = (int)size6;
      int s7 = (int)size7;
      int s8 = (int)size8;
      int s9 = (int)size9;
      int s10 = (int)size10;
      int s11 = (int)size11;
      int s12 = (int)size12;
      int s13 = (int)size13;
      int s14 = (int)size14;
      int s15 = (int)size15;
      T[,,,,,,,,,,,,,,,] a = new T[s0,s1,s2,s3,s4,s5,s6,s7,s8,s9,s10,s11,s12,s13,s14,s15];
      for (int i0 = 0; i0 < s0; i0++) {
        for (int i1 = 0; i1 < s1; i1++) {
          for (int i2 = 0; i2 < s2; i2++) {
            for (int i3 = 0; i3 < s3; i3++) {
              for (int i4 = 0; i4 < s4; i4++) {
                for (int i5 = 0; i5 < s5; i5++) {
                  for (int i6 = 0; i6 < s6; i6++) {
                    for (int i7 = 0; i7 < s7; i7++) {
                      for (int i8 = 0; i8 < s8; i8++) {
                        for (int i9 = 0; i9 < s9; i9++) {
                          for (int i10 = 0; i10 < s10; i10++) {
                            for (int i11 = 0; i11 < s11; i11++) {
                              for (int i12 = 0; i12 < s12; i12++) {
                                for (int i13 = 0; i13 < s13; i13++) {
                                  for (int i14 = 0; i14 < s14; i14++) {
                                    for (int i15 = 0; i15 < s15; i15++) {
                                      a[i0,i1,i2,i3,i4,i5,i6,i7,i8,i9,i10,i11,i12,i13,i14,i15] = z;
                                    }
                                  }
                                }
                              }
                            }
                          }
                        }
                      }
                    }
                  }
                }
              }
            }
          }
        }
      }
      return a;
    }
  }
} // end of namespace Dafny
internal static class FuncExtensions {
  public static Func<UResult> DowncastClone<TResult, UResult>(this Func<TResult> F, Func<TResult, UResult> ResConv) {
    return () => ResConv(F());
  }
  public static Func<U, UResult> DowncastClone<T, TResult, U, UResult>(this Func<T, TResult> F, Func<U, T> ArgConv, Func<TResult, UResult> ResConv) {
    return arg => ResConv(F(ArgConv(arg)));
  }
  public static Func<U1, U2, UResult> DowncastClone<T1, T2, TResult, U1, U2, UResult>(this Func<T1, T2, TResult> F, Func<U1, T1> ArgConv1, Func<U2, T2> ArgConv2, Func<TResult, UResult> ResConv) {
    return (arg1, arg2) => ResConv(F(ArgConv1(arg1), ArgConv2(arg2)));
  }
  public static Func<U1, U2, U3, UResult> DowncastClone<T1, T2, T3, TResult, U1, U2, U3, UResult>(this Func<T1, T2, T3, TResult> F, Func<U1, T1> ArgConv1, Func<U2, T2> ArgConv2, Func<U3, T3> ArgConv3, Func<TResult, UResult> ResConv) {
    return (arg1, arg2, arg3) => ResConv(F(ArgConv1(arg1), ArgConv2(arg2), ArgConv3(arg3)));
  }
  public static Func<U1, U2, U3, U4, UResult> DowncastClone<T1, T2, T3, T4, TResult, U1, U2, U3, U4, UResult>(this Func<T1, T2, T3, T4, TResult> F, Func<U1, T1> ArgConv1, Func<U2, T2> ArgConv2, Func<U3, T3> ArgConv3, Func<U4, T4> ArgConv4, Func<TResult, UResult> ResConv) {
    return (arg1, arg2, arg3, arg4) => ResConv(F(ArgConv1(arg1), ArgConv2(arg2), ArgConv3(arg3), ArgConv4(arg4)));
  }
  public static Func<U1, U2, U3, U4, U5, UResult> DowncastClone<T1, T2, T3, T4, T5, TResult, U1, U2, U3, U4, U5, UResult>(this Func<T1, T2, T3, T4, T5, TResult> F, Func<U1, T1> ArgConv1, Func<U2, T2> ArgConv2, Func<U3, T3> ArgConv3, Func<U4, T4> ArgConv4, Func<U5, T5> ArgConv5, Func<TResult, UResult> ResConv) {
    return (arg1, arg2, arg3, arg4, arg5) => ResConv(F(ArgConv1(arg1), ArgConv2(arg2), ArgConv3(arg3), ArgConv4(arg4), ArgConv5(arg5)));
  }
  public static Func<U1, U2, U3, U4, U5, U6, UResult> DowncastClone<T1, T2, T3, T4, T5, T6, TResult, U1, U2, U3, U4, U5, U6, UResult>(this Func<T1, T2, T3, T4, T5, T6, TResult> F, Func<U1, T1> ArgConv1, Func<U2, T2> ArgConv2, Func<U3, T3> ArgConv3, Func<U4, T4> ArgConv4, Func<U5, T5> ArgConv5, Func<U6, T6> ArgConv6, Func<TResult, UResult> ResConv) {
    return (arg1, arg2, arg3, arg4, arg5, arg6) => ResConv(F(ArgConv1(arg1), ArgConv2(arg2), ArgConv3(arg3), ArgConv4(arg4), ArgConv5(arg5), ArgConv6(arg6)));
  }
  public static Func<U1, U2, U3, U4, U5, U6, U7, UResult> DowncastClone<T1, T2, T3, T4, T5, T6, T7, TResult, U1, U2, U3, U4, U5, U6, U7, UResult>(this Func<T1, T2, T3, T4, T5, T6, T7, TResult> F, Func<U1, T1> ArgConv1, Func<U2, T2> ArgConv2, Func<U3, T3> ArgConv3, Func<U4, T4> ArgConv4, Func<U5, T5> ArgConv5, Func<U6, T6> ArgConv6, Func<U7, T7> ArgConv7, Func<TResult, UResult> ResConv) {
    return (arg1, arg2, arg3, arg4, arg5, arg6, arg7) => ResConv(F(ArgConv1(arg1), ArgConv2(arg2), ArgConv3(arg3), ArgConv4(arg4), ArgConv5(arg5), ArgConv6(arg6), ArgConv7(arg7)));
  }
  public static Func<U1, U2, U3, U4, U5, U6, U7, U8, UResult> DowncastClone<T1, T2, T3, T4, T5, T6, T7, T8, TResult, U1, U2, U3, U4, U5, U6, U7, U8, UResult>(this Func<T1, T2, T3, T4, T5, T6, T7, T8, TResult> F, Func<U1, T1> ArgConv1, Func<U2, T2> ArgConv2, Func<U3, T3> ArgConv3, Func<U4, T4> ArgConv4, Func<U5, T5> ArgConv5, Func<U6, T6> ArgConv6, Func<U7, T7> ArgConv7, Func<U8, T8> ArgConv8, Func<TResult, UResult> ResConv) {
    return (arg1, arg2, arg3, arg4, arg5, arg6, arg7, arg8) => ResConv(F(ArgConv1(arg1), ArgConv2(arg2), ArgConv3(arg3), ArgConv4(arg4), ArgConv5(arg5), ArgConv6(arg6), ArgConv7(arg7), ArgConv8(arg8)));
  }
  public static Func<U1, U2, U3, U4, U5, U6, U7, U8, U9, UResult> DowncastClone<T1, T2, T3, T4, T5, T6, T7, T8, T9, TResult, U1, U2, U3, U4, U5, U6, U7, U8, U9, UResult>(this Func<T1, T2, T3, T4, T5, T6, T7, T8, T9, TResult> F, Func<U1, T1> ArgConv1, Func<U2, T2> ArgConv2, Func<U3, T3> ArgConv3, Func<U4, T4> ArgConv4, Func<U5, T5> ArgConv5, Func<U6, T6> ArgConv6, Func<U7, T7> ArgConv7, Func<U8, T8> ArgConv8, Func<U9, T9> ArgConv9, Func<TResult, UResult> ResConv) {
    return (arg1, arg2, arg3, arg4, arg5, arg6, arg7, arg8, arg9) => ResConv(F(ArgConv1(arg1), ArgConv2(arg2), ArgConv3(arg3), ArgConv4(arg4), ArgConv5(arg5), ArgConv6(arg6), ArgConv7(arg7), ArgConv8(arg8), ArgConv9(arg9)));
  }
  public static Func<U1, U2, U3, U4, U5, U6, U7, U8, U9, U10, UResult> DowncastClone<T1, T2, T3, T4, T5, T6, T7, T8, T9, T10, TResult, U1, U2, U3, U4, U5, U6, U7, U8, U9, U10, UResult>(this Func<T1, T2, T3, T4, T5, T6, T7, T8, T9, T10, TResult> F, Func<U1, T1> ArgConv1, Func<U2, T2> ArgConv2, Func<U3, T3> ArgConv3, Func<U4, T4> ArgConv4, Func<U5, T5> ArgConv5, Func<U6, T6> ArgConv6, Func<U7, T7> ArgConv7, Func<U8, T8> ArgConv8, Func<U9, T9> ArgConv9, Func<U10, T10> ArgConv10, Func<TResult, UResult> ResConv) {
    return (arg1, arg2, arg3, arg4, arg5, arg6, arg7, arg8, arg9, arg10) => ResConv(F(ArgConv1(arg1), ArgConv2(arg2), ArgConv3(arg3), ArgConv4(arg4), ArgConv5(arg5), ArgConv6(arg6), ArgConv7(arg7), ArgConv8(arg8), ArgConv9(arg9), ArgConv10(arg10)));
  }
  public static Func<U1, U2, U3, U4, U5, U6, U7, U8, U9, U10, U11, UResult> DowncastClone<T1, T2, T3, T4, T5, T6, T7, T8, T9, T10, T11, TResult, U1, U2, U3, U4, U5, U6, U7, U8, U9, U10, U11, UResult>(this Func<T1, T2, T3, T4, T5, T6, T7, T8, T9, T10, T11, TResult> F, Func<U1, T1> ArgConv1, Func<U2, T2> ArgConv2, Func<U3, T3> ArgConv3, Func<U4, T4> ArgConv4, Func<U5, T5> ArgConv5, Func<U6, T6> ArgConv6, Func<U7, T7> ArgConv7, Func<U8, T8> ArgConv8, Func<U9, T9> ArgConv9, Func<U10, T10> ArgConv10, Func<U11, T11> ArgConv11, Func<TResult, UResult> ResConv) {
    return (arg1, arg2, arg3, arg4, arg5, arg6, arg7, arg8, arg9, arg10, arg11) => ResConv(F(ArgConv1(arg1), ArgConv2(arg2), ArgConv3(arg3), ArgConv4(arg4), ArgConv5(arg5), ArgConv6(arg6), ArgConv7(arg7), ArgConv8(arg8), ArgConv9(arg9), ArgConv10(arg10), ArgConv11(arg11)));
  }
  public static Func<U1, U2, U3, U4, U5, U6, U7, U8, U9, U10, U11, U12, UResult> DowncastClone<T1, T2, T3, T4, T5, T6, T7, T8, T9, T10, T11, T12, TResult, U1, U2, U3, U4, U5, U6, U7, U8, U9, U10, U11, U12, UResult>(this Func<T1, T2, T3, T4, T5, T6, T7, T8, T9, T10, T11, T12, TResult> F, Func<U1, T1> ArgConv1, Func<U2, T2> ArgConv2, Func<U3, T3> ArgConv3, Func<U4, T4> ArgConv4, Func<U5, T5> ArgConv5, Func<U6, T6> ArgConv6, Func<U7, T7> ArgConv7, Func<U8, T8> ArgConv8, Func<U9, T9> ArgConv9, Func<U10, T10> ArgConv10, Func<U11, T11> ArgConv11, Func<U12, T12> ArgConv12, Func<TResult, UResult> ResConv) {
    return (arg1, arg2, arg3, arg4, arg5, arg6, arg7, arg8, arg9, arg10, arg11, arg12) => ResConv(F(ArgConv1(arg1), ArgConv2(arg2), ArgConv3(arg3), ArgConv4(arg4), ArgConv5(arg5), ArgConv6(arg6), ArgConv7(arg7), ArgConv8(arg8), ArgConv9(arg9), ArgConv10(arg10), ArgConv11(arg11), ArgConv12(arg12)));
  }
  public static Func<U1, U2, U3, U4, U5, U6, U7, U8, U9, U10, U11, U12, U13, UResult> DowncastClone<T1, T2, T3, T4, T5, T6, T7, T8, T9, T10, T11, T12, T13, TResult, U1, U2, U3, U4, U5, U6, U7, U8, U9, U10, U11, U12, U13, UResult>(this Func<T1, T2, T3, T4, T5, T6, T7, T8, T9, T10, T11, T12, T13, TResult> F, Func<U1, T1> ArgConv1, Func<U2, T2> ArgConv2, Func<U3, T3> ArgConv3, Func<U4, T4> ArgConv4, Func<U5, T5> ArgConv5, Func<U6, T6> ArgConv6, Func<U7, T7> ArgConv7, Func<U8, T8> ArgConv8, Func<U9, T9> ArgConv9, Func<U10, T10> ArgConv10, Func<U11, T11> ArgConv11, Func<U12, T12> ArgConv12, Func<U13, T13> ArgConv13, Func<TResult, UResult> ResConv) {
    return (arg1, arg2, arg3, arg4, arg5, arg6, arg7, arg8, arg9, arg10, arg11, arg12, arg13) => ResConv(F(ArgConv1(arg1), ArgConv2(arg2), ArgConv3(arg3), ArgConv4(arg4), ArgConv5(arg5), ArgConv6(arg6), ArgConv7(arg7), ArgConv8(arg8), ArgConv9(arg9), ArgConv10(arg10), ArgConv11(arg11), ArgConv12(arg12), ArgConv13(arg13)));
  }
  public static Func<U1, U2, U3, U4, U5, U6, U7, U8, U9, U10, U11, U12, U13, U14, UResult> DowncastClone<T1, T2, T3, T4, T5, T6, T7, T8, T9, T10, T11, T12, T13, T14, TResult, U1, U2, U3, U4, U5, U6, U7, U8, U9, U10, U11, U12, U13, U14, UResult>(this Func<T1, T2, T3, T4, T5, T6, T7, T8, T9, T10, T11, T12, T13, T14, TResult> F, Func<U1, T1> ArgConv1, Func<U2, T2> ArgConv2, Func<U3, T3> ArgConv3, Func<U4, T4> ArgConv4, Func<U5, T5> ArgConv5, Func<U6, T6> ArgConv6, Func<U7, T7> ArgConv7, Func<U8, T8> ArgConv8, Func<U9, T9> ArgConv9, Func<U10, T10> ArgConv10, Func<U11, T11> ArgConv11, Func<U12, T12> ArgConv12, Func<U13, T13> ArgConv13, Func<U14, T14> ArgConv14, Func<TResult, UResult> ResConv) {
    return (arg1, arg2, arg3, arg4, arg5, arg6, arg7, arg8, arg9, arg10, arg11, arg12, arg13, arg14) => ResConv(F(ArgConv1(arg1), ArgConv2(arg2), ArgConv3(arg3), ArgConv4(arg4), ArgConv5(arg5), ArgConv6(arg6), ArgConv7(arg7), ArgConv8(arg8), ArgConv9(arg9), ArgConv10(arg10), ArgConv11(arg11), ArgConv12(arg12), ArgConv13(arg13), ArgConv14(arg14)));
  }
  public static Func<U1, U2, U3, U4, U5, U6, U7, U8, U9, U10, U11, U12, U13, U14, U15, UResult> DowncastClone<T1, T2, T3, T4, T5, T6, T7, T8, T9, T10, T11, T12, T13, T14, T15, TResult, U1, U2, U3, U4, U5, U6, U7, U8, U9, U10, U11, U12, U13, U14, U15, UResult>(this Func<T1, T2, T3, T4, T5, T6, T7, T8, T9, T10, T11, T12, T13, T14, T15, TResult> F, Func<U1, T1> ArgConv1, Func<U2, T2> ArgConv2, Func<U3, T3> ArgConv3, Func<U4, T4> ArgConv4, Func<U5, T5> ArgConv5, Func<U6, T6> ArgConv6, Func<U7, T7> ArgConv7, Func<U8, T8> ArgConv8, Func<U9, T9> ArgConv9, Func<U10, T10> ArgConv10, Func<U11, T11> ArgConv11, Func<U12, T12> ArgConv12, Func<U13, T13> ArgConv13, Func<U14, T14> ArgConv14, Func<U15, T15> ArgConv15, Func<TResult, UResult> ResConv) {
    return (arg1, arg2, arg3, arg4, arg5, arg6, arg7, arg8, arg9, arg10, arg11, arg12, arg13, arg14, arg15) => ResConv(F(ArgConv1(arg1), ArgConv2(arg2), ArgConv3(arg3), ArgConv4(arg4), ArgConv5(arg5), ArgConv6(arg6), ArgConv7(arg7), ArgConv8(arg8), ArgConv9(arg9), ArgConv10(arg10), ArgConv11(arg11), ArgConv12(arg12), ArgConv13(arg13), ArgConv14(arg14), ArgConv15(arg15)));
  }
  public static Func<U1, U2, U3, U4, U5, U6, U7, U8, U9, U10, U11, U12, U13, U14, U15, U16, UResult> DowncastClone<T1, T2, T3, T4, T5, T6, T7, T8, T9, T10, T11, T12, T13, T14, T15, T16, TResult, U1, U2, U3, U4, U5, U6, U7, U8, U9, U10, U11, U12, U13, U14, U15, U16, UResult>(this Func<T1, T2, T3, T4, T5, T6, T7, T8, T9, T10, T11, T12, T13, T14, T15, T16, TResult> F, Func<U1, T1> ArgConv1, Func<U2, T2> ArgConv2, Func<U3, T3> ArgConv3, Func<U4, T4> ArgConv4, Func<U5, T5> ArgConv5, Func<U6, T6> ArgConv6, Func<U7, T7> ArgConv7, Func<U8, T8> ArgConv8, Func<U9, T9> ArgConv9, Func<U10, T10> ArgConv10, Func<U11, T11> ArgConv11, Func<U12, T12> ArgConv12, Func<U13, T13> ArgConv13, Func<U14, T14> ArgConv14, Func<U15, T15> ArgConv15, Func<U16, T16> ArgConv16, Func<TResult, UResult> ResConv) {
    return (arg1, arg2, arg3, arg4, arg5, arg6, arg7, arg8, arg9, arg10, arg11, arg12, arg13, arg14, arg15, arg16) => ResConv(F(ArgConv1(arg1), ArgConv2(arg2), ArgConv3(arg3), ArgConv4(arg4), ArgConv5(arg5), ArgConv6(arg6), ArgConv7(arg7), ArgConv8(arg8), ArgConv9(arg9), ArgConv10(arg10), ArgConv11(arg11), ArgConv12(arg12), ArgConv13(arg13), ArgConv14(arg14), ArgConv15(arg15), ArgConv16(arg16)));
  }
}
// end of class FuncExtensions
#endif
namespace _System {

  public partial class nat {
    private static readonly Dafny.TypeDescriptor<BigInteger> _TYPE = new Dafny.TypeDescriptor<BigInteger>(BigInteger.Zero);
    public static Dafny.TypeDescriptor<BigInteger> _TypeDescriptor() {
      return _TYPE;
    }
    public static bool _Is(BigInteger __source) {
      BigInteger _0_x = __source;
      return (_0_x).Sign != -1;
    }
  }

  public interface _ITuple2<out T0, out T1> {
    T0 dtor__0 { get; }
    T1 dtor__1 { get; }
    _ITuple2<__T0, __T1> DowncastClone<__T0, __T1>(Func<T0, __T0> converter0, Func<T1, __T1> converter1);
  }
  public class Tuple2<T0, T1> : _ITuple2<T0, T1> {
    public readonly T0 __0;
    public readonly T1 __1;
    public Tuple2(T0 _0, T1 _1) {
      this.__0 = _0;
      this.__1 = _1;
    }
    public _ITuple2<__T0, __T1> DowncastClone<__T0, __T1>(Func<T0, __T0> converter0, Func<T1, __T1> converter1) {
      if (this is _ITuple2<__T0, __T1> dt) { return dt; }
      return new Tuple2<__T0, __T1>(converter0(__0), converter1(__1));
    }
    public override bool Equals(object other) {
      var oth = other as _System.Tuple2<T0, T1>;
      return oth != null && object.Equals(this.__0, oth.__0) && object.Equals(this.__1, oth.__1);
    }
    public override int GetHashCode() {
      ulong hash = 5381;
      hash = ((hash << 5) + hash) + 0;
      hash = ((hash << 5) + hash) + ((ulong)Dafny.Helpers.GetHashCode(this.__0));
      hash = ((hash << 5) + hash) + ((ulong)Dafny.Helpers.GetHashCode(this.__1));
      return (int) hash;
    }
    public override string ToString() {
      string s = "";
      s += "(";
      s += Dafny.Helpers.ToString(this.__0);
      s += ", ";
      s += Dafny.Helpers.ToString(this.__1);
      s += ")";
      return s;
    }
    public static _System._ITuple2<T0, T1> Default(T0 _default_T0, T1 _default_T1) {
      return create(_default_T0, _default_T1);
    }
    public static Dafny.TypeDescriptor<_System._ITuple2<T0, T1>> _TypeDescriptor(Dafny.TypeDescriptor<T0> _td_T0, Dafny.TypeDescriptor<T1> _td_T1) {
      return new Dafny.TypeDescriptor<_System._ITuple2<T0, T1>>(_System.Tuple2<T0, T1>.Default(_td_T0.Default(), _td_T1.Default()));
    }
    public static _ITuple2<T0, T1> create(T0 _0, T1 _1) {
      return new Tuple2<T0, T1>(_0, _1);
    }
    public static _ITuple2<T0, T1> create____hMake2(T0 _0, T1 _1) {
      return create(_0, _1);
    }
    public T0 dtor__0 {
      get {
        return this.__0;
      }
    }
    public T1 dtor__1 {
      get {
        return this.__1;
      }
    }
  }

  public interface _ITuple0 {
    _ITuple0 DowncastClone();
  }
  public class Tuple0 : _ITuple0 {
    public Tuple0() {
    }
    public _ITuple0 DowncastClone() {
      if (this is _ITuple0 dt) { return dt; }
      return new Tuple0();
    }
    public override bool Equals(object other) {
      var oth = other as _System.Tuple0;
      return oth != null;
    }
    public override int GetHashCode() {
      ulong hash = 5381;
      hash = ((hash << 5) + hash) + 0;
      return (int) hash;
    }
    public override string ToString() {
      return "()";
    }
    private static readonly _System._ITuple0 theDefault = create();
    public static _System._ITuple0 Default() {
      return theDefault;
    }
    private static readonly Dafny.TypeDescriptor<_System._ITuple0> _TYPE = new Dafny.TypeDescriptor<_System._ITuple0>(_System.Tuple0.Default());
    public static Dafny.TypeDescriptor<_System._ITuple0> _TypeDescriptor() {
      return _TYPE;
    }
    public static _ITuple0 create() {
      return new Tuple0();
    }
    public static _ITuple0 create____hMake0() {
      return create();
    }
    public static System.Collections.Generic.IEnumerable<_ITuple0> AllSingletonConstructors {
      get {
        yield return Tuple0.create();
      }
    }
  }

  public interface _ITuple1<out T0> {
    T0 dtor__0 { get; }
    _ITuple1<__T0> DowncastClone<__T0>(Func<T0, __T0> converter0);
  }
  public class Tuple1<T0> : _ITuple1<T0> {
    public readonly T0 __0;
    public Tuple1(T0 _0) {
      this.__0 = _0;
    }
    public _ITuple1<__T0> DowncastClone<__T0>(Func<T0, __T0> converter0) {
      if (this is _ITuple1<__T0> dt) { return dt; }
      return new Tuple1<__T0>(converter0(__0));
    }
    public override bool Equals(object other) {
      var oth = other as _System.Tuple1<T0>;
      return oth != null && object.Equals(this.__0, oth.__0);
    }
    public override int GetHashCode() {
      ulong hash = 5381;
      hash = ((hash << 5) + hash) + 0;
      hash = ((hash << 5) + hash) + ((ulong)Dafny.Helpers.GetHashCode(this.__0));
      return (int) hash;
    }
    public override string ToString() {
      string s = "";
      s += "(";
      s += Dafny.Helpers.ToString(this.__0);
      s += ")";
      return s;
    }
    public static _System._ITuple1<T0> Default(T0 _default_T0) {
      return create(_default_T0);
    }
    public static Dafny.TypeDescriptor<_System._ITuple1<T0>> _TypeDescriptor(Dafny.TypeDescriptor<T0> _td_T0) {
      return new Dafny.TypeDescriptor<_System._ITuple1<T0>>(_System.Tuple1<T0>.Default(_td_T0.Default()));
    }
    public static _ITuple1<T0> create(T0 _0) {
      return new Tuple1<T0>(_0);
    }
    public static _ITuple1<T0> create____hMake1(T0 _0) {
      return create(_0);
    }
    public T0 dtor__0 {
      get {
        return this.__0;
      }
    }
  }

  public interface _ITuple3<out T0, out T1, out T2> {
    T0 dtor__0 { get; }
    T1 dtor__1 { get; }
    T2 dtor__2 { get; }
    _ITuple3<__T0, __T1, __T2> DowncastClone<__T0, __T1, __T2>(Func<T0, __T0> converter0, Func<T1, __T1> converter1, Func<T2, __T2> converter2);
  }
  public class Tuple3<T0, T1, T2> : _ITuple3<T0, T1, T2> {
    public readonly T0 __0;
    public readonly T1 __1;
    public readonly T2 __2;
    public Tuple3(T0 _0, T1 _1, T2 _2) {
      this.__0 = _0;
      this.__1 = _1;
      this.__2 = _2;
    }
    public _ITuple3<__T0, __T1, __T2> DowncastClone<__T0, __T1, __T2>(Func<T0, __T0> converter0, Func<T1, __T1> converter1, Func<T2, __T2> converter2) {
      if (this is _ITuple3<__T0, __T1, __T2> dt) { return dt; }
      return new Tuple3<__T0, __T1, __T2>(converter0(__0), converter1(__1), converter2(__2));
    }
    public override bool Equals(object other) {
      var oth = other as _System.Tuple3<T0, T1, T2>;
      return oth != null && object.Equals(this.__0, oth.__0) && object.Equals(this.__1, oth.__1) && object.Equals(this.__2, oth.__2);
    }
    public override int GetHashCode() {
      ulong hash = 5381;
      hash = ((hash << 5) + hash) + 0;
      hash = ((hash << 5) + hash) + ((ulong)Dafny.Helpers.GetHashCode(this.__0));
      hash = ((hash << 5) + hash) + ((ulong)Dafny.Helpers.GetHashCode(this.__1));
      hash = ((hash << 5) + hash) + ((ulong)Dafny.Helpers.GetHashCode(this.__2));
      return (int) hash;
    }
    public override string ToString() {
      string s = "";
      s += "(";
      s += Dafny.Helpers.ToString(this.__0);
      s += ", ";
      s += Dafny.Helpers.ToString(this.__1);
      s += ", ";
      s += Dafny.Helpers.ToString(this.__2);
      s += ")";
      return s;
    }
    public static _System._ITuple3<T0, T1, T2> Default(T0 _default_T0, T1 _default_T1, T2 _default_T2) {
      return create(_default_T0, _default_T1, _default_T2);
    }
    public static Dafny.TypeDescriptor<_System._ITuple3<T0, T1, T2>> _TypeDescriptor(Dafny.TypeDescriptor<T0> _td_T0, Dafny.TypeDescriptor<T1> _td_T1, Dafny.TypeDescriptor<T2> _td_T2) {
      return new Dafny.TypeDescriptor<_System._ITuple3<T0, T1, T2>>(_System.Tuple3<T0, T1, T2>.Default(_td_T0.Default(), _td_T1.Default(), _td_T2.Default()));
    }
    public static _ITuple3<T0, T1, T2> create(T0 _0, T1 _1, T2 _2) {
      return new Tuple3<T0, T1, T2>(_0, _1, _2);
    }
    public static _ITuple3<T0, T1, T2> create____hMake3(T0 _0, T1 _1, T2 _2) {
      return create(_0, _1, _2);
    }
    public T0 dtor__0 {
      get {
        return this.__0;
      }
    }
    public T1 dtor__1 {
      get {
        return this.__1;
      }
    }
    public T2 dtor__2 {
      get {
        return this.__2;
      }
    }
  }

  public interface _ITuple4<out T0, out T1, out T2, out T3> {
    T0 dtor__0 { get; }
    T1 dtor__1 { get; }
    T2 dtor__2 { get; }
    T3 dtor__3 { get; }
    _ITuple4<__T0, __T1, __T2, __T3> DowncastClone<__T0, __T1, __T2, __T3>(Func<T0, __T0> converter0, Func<T1, __T1> converter1, Func<T2, __T2> converter2, Func<T3, __T3> converter3);
  }
  public class Tuple4<T0, T1, T2, T3> : _ITuple4<T0, T1, T2, T3> {
    public readonly T0 __0;
    public readonly T1 __1;
    public readonly T2 __2;
    public readonly T3 __3;
    public Tuple4(T0 _0, T1 _1, T2 _2, T3 _3) {
      this.__0 = _0;
      this.__1 = _1;
      this.__2 = _2;
      this.__3 = _3;
    }
    public _ITuple4<__T0, __T1, __T2, __T3> DowncastClone<__T0, __T1, __T2, __T3>(Func<T0, __T0> converter0, Func<T1, __T1> converter1, Func<T2, __T2> converter2, Func<T3, __T3> converter3) {
      if (this is _ITuple4<__T0, __T1, __T2, __T3> dt) { return dt; }
      return new Tuple4<__T0, __T1, __T2, __T3>(converter0(__0), converter1(__1), converter2(__2), converter3(__3));
    }
    public override bool Equals(object other) {
      var oth = other as _System.Tuple4<T0, T1, T2, T3>;
      return oth != null && object.Equals(this.__0, oth.__0) && object.Equals(this.__1, oth.__1) && object.Equals(this.__2, oth.__2) && object.Equals(this.__3, oth.__3);
    }
    public override int GetHashCode() {
      ulong hash = 5381;
      hash = ((hash << 5) + hash) + 0;
      hash = ((hash << 5) + hash) + ((ulong)Dafny.Helpers.GetHashCode(this.__0));
      hash = ((hash << 5) + hash) + ((ulong)Dafny.Helpers.GetHashCode(this.__1));
      hash = ((hash << 5) + hash) + ((ulong)Dafny.Helpers.GetHashCode(this.__2));
      hash = ((hash << 5) + hash) + ((ulong)Dafny.Helpers.GetHashCode(this.__3));
      return (int) hash;
    }
    public override string ToString() {
      string s = "";
      s += "(";
      s += Dafny.Helpers.ToString(this.__0);
      s += ", ";
      s += Dafny.Helpers.ToString(this.__1);
      s += ", ";
      s += Dafny.Helpers.ToString(this.__2);
      s += ", ";
      s += Dafny.Helpers.ToString(this.__3);
      s += ")";
      return s;
    }
    public static _System._ITuple4<T0, T1, T2, T3> Default(T0 _default_T0, T1 _default_T1, T2 _default_T2, T3 _default_T3) {
      return create(_default_T0, _default_T1, _default_T2, _default_T3);
    }
    public static Dafny.TypeDescriptor<_System._ITuple4<T0, T1, T2, T3>> _TypeDescriptor(Dafny.TypeDescriptor<T0> _td_T0, Dafny.TypeDescriptor<T1> _td_T1, Dafny.TypeDescriptor<T2> _td_T2, Dafny.TypeDescriptor<T3> _td_T3) {
      return new Dafny.TypeDescriptor<_System._ITuple4<T0, T1, T2, T3>>(_System.Tuple4<T0, T1, T2, T3>.Default(_td_T0.Default(), _td_T1.Default(), _td_T2.Default(), _td_T3.Default()));
    }
    public static _ITuple4<T0, T1, T2, T3> create(T0 _0, T1 _1, T2 _2, T3 _3) {
      return new Tuple4<T0, T1, T2, T3>(_0, _1, _2, _3);
    }
    public static _ITuple4<T0, T1, T2, T3> create____hMake4(T0 _0, T1 _1, T2 _2, T3 _3) {
      return create(_0, _1, _2, _3);
    }
    public T0 dtor__0 {
      get {
        return this.__0;
      }
    }
    public T1 dtor__1 {
      get {
        return this.__1;
      }
    }
    public T2 dtor__2 {
      get {
        return this.__2;
      }
    }
    public T3 dtor__3 {
      get {
        return this.__3;
      }
    }
  }

  public interface _ITuple5<out T0, out T1, out T2, out T3, out T4> {
    T0 dtor__0 { get; }
    T1 dtor__1 { get; }
    T2 dtor__2 { get; }
    T3 dtor__3 { get; }
    T4 dtor__4 { get; }
    _ITuple5<__T0, __T1, __T2, __T3, __T4> DowncastClone<__T0, __T1, __T2, __T3, __T4>(Func<T0, __T0> converter0, Func<T1, __T1> converter1, Func<T2, __T2> converter2, Func<T3, __T3> converter3, Func<T4, __T4> converter4);
  }
  public class Tuple5<T0, T1, T2, T3, T4> : _ITuple5<T0, T1, T2, T3, T4> {
    public readonly T0 __0;
    public readonly T1 __1;
    public readonly T2 __2;
    public readonly T3 __3;
    public readonly T4 __4;
    public Tuple5(T0 _0, T1 _1, T2 _2, T3 _3, T4 _4) {
      this.__0 = _0;
      this.__1 = _1;
      this.__2 = _2;
      this.__3 = _3;
      this.__4 = _4;
    }
    public _ITuple5<__T0, __T1, __T2, __T3, __T4> DowncastClone<__T0, __T1, __T2, __T3, __T4>(Func<T0, __T0> converter0, Func<T1, __T1> converter1, Func<T2, __T2> converter2, Func<T3, __T3> converter3, Func<T4, __T4> converter4) {
      if (this is _ITuple5<__T0, __T1, __T2, __T3, __T4> dt) { return dt; }
      return new Tuple5<__T0, __T1, __T2, __T3, __T4>(converter0(__0), converter1(__1), converter2(__2), converter3(__3), converter4(__4));
    }
    public override bool Equals(object other) {
      var oth = other as _System.Tuple5<T0, T1, T2, T3, T4>;
      return oth != null && object.Equals(this.__0, oth.__0) && object.Equals(this.__1, oth.__1) && object.Equals(this.__2, oth.__2) && object.Equals(this.__3, oth.__3) && object.Equals(this.__4, oth.__4);
    }
    public override int GetHashCode() {
      ulong hash = 5381;
      hash = ((hash << 5) + hash) + 0;
      hash = ((hash << 5) + hash) + ((ulong)Dafny.Helpers.GetHashCode(this.__0));
      hash = ((hash << 5) + hash) + ((ulong)Dafny.Helpers.GetHashCode(this.__1));
      hash = ((hash << 5) + hash) + ((ulong)Dafny.Helpers.GetHashCode(this.__2));
      hash = ((hash << 5) + hash) + ((ulong)Dafny.Helpers.GetHashCode(this.__3));
      hash = ((hash << 5) + hash) + ((ulong)Dafny.Helpers.GetHashCode(this.__4));
      return (int) hash;
    }
    public override string ToString() {
      string s = "";
      s += "(";
      s += Dafny.Helpers.ToString(this.__0);
      s += ", ";
      s += Dafny.Helpers.ToString(this.__1);
      s += ", ";
      s += Dafny.Helpers.ToString(this.__2);
      s += ", ";
      s += Dafny.Helpers.ToString(this.__3);
      s += ", ";
      s += Dafny.Helpers.ToString(this.__4);
      s += ")";
      return s;
    }
    public static _System._ITuple5<T0, T1, T2, T3, T4> Default(T0 _default_T0, T1 _default_T1, T2 _default_T2, T3 _default_T3, T4 _default_T4) {
      return create(_default_T0, _default_T1, _default_T2, _default_T3, _default_T4);
    }
    public static Dafny.TypeDescriptor<_System._ITuple5<T0, T1, T2, T3, T4>> _TypeDescriptor(Dafny.TypeDescriptor<T0> _td_T0, Dafny.TypeDescriptor<T1> _td_T1, Dafny.TypeDescriptor<T2> _td_T2, Dafny.TypeDescriptor<T3> _td_T3, Dafny.TypeDescriptor<T4> _td_T4) {
      return new Dafny.TypeDescriptor<_System._ITuple5<T0, T1, T2, T3, T4>>(_System.Tuple5<T0, T1, T2, T3, T4>.Default(_td_T0.Default(), _td_T1.Default(), _td_T2.Default(), _td_T3.Default(), _td_T4.Default()));
    }
    public static _ITuple5<T0, T1, T2, T3, T4> create(T0 _0, T1 _1, T2 _2, T3 _3, T4 _4) {
      return new Tuple5<T0, T1, T2, T3, T4>(_0, _1, _2, _3, _4);
    }
    public static _ITuple5<T0, T1, T2, T3, T4> create____hMake5(T0 _0, T1 _1, T2 _2, T3 _3, T4 _4) {
      return create(_0, _1, _2, _3, _4);
    }
    public T0 dtor__0 {
      get {
        return this.__0;
      }
    }
    public T1 dtor__1 {
      get {
        return this.__1;
      }
    }
    public T2 dtor__2 {
      get {
        return this.__2;
      }
    }
    public T3 dtor__3 {
      get {
        return this.__3;
      }
    }
    public T4 dtor__4 {
      get {
        return this.__4;
      }
    }
  }

  public interface _ITuple6<out T0, out T1, out T2, out T3, out T4, out T5> {
    T0 dtor__0 { get; }
    T1 dtor__1 { get; }
    T2 dtor__2 { get; }
    T3 dtor__3 { get; }
    T4 dtor__4 { get; }
    T5 dtor__5 { get; }
    _ITuple6<__T0, __T1, __T2, __T3, __T4, __T5> DowncastClone<__T0, __T1, __T2, __T3, __T4, __T5>(Func<T0, __T0> converter0, Func<T1, __T1> converter1, Func<T2, __T2> converter2, Func<T3, __T3> converter3, Func<T4, __T4> converter4, Func<T5, __T5> converter5);
  }
  public class Tuple6<T0, T1, T2, T3, T4, T5> : _ITuple6<T0, T1, T2, T3, T4, T5> {
    public readonly T0 __0;
    public readonly T1 __1;
    public readonly T2 __2;
    public readonly T3 __3;
    public readonly T4 __4;
    public readonly T5 __5;
    public Tuple6(T0 _0, T1 _1, T2 _2, T3 _3, T4 _4, T5 _5) {
      this.__0 = _0;
      this.__1 = _1;
      this.__2 = _2;
      this.__3 = _3;
      this.__4 = _4;
      this.__5 = _5;
    }
    public _ITuple6<__T0, __T1, __T2, __T3, __T4, __T5> DowncastClone<__T0, __T1, __T2, __T3, __T4, __T5>(Func<T0, __T0> converter0, Func<T1, __T1> converter1, Func<T2, __T2> converter2, Func<T3, __T3> converter3, Func<T4, __T4> converter4, Func<T5, __T5> converter5) {
      if (this is _ITuple6<__T0, __T1, __T2, __T3, __T4, __T5> dt) { return dt; }
      return new Tuple6<__T0, __T1, __T2, __T3, __T4, __T5>(converter0(__0), converter1(__1), converter2(__2), converter3(__3), converter4(__4), converter5(__5));
    }
    public override bool Equals(object other) {
      var oth = other as _System.Tuple6<T0, T1, T2, T3, T4, T5>;
      return oth != null && object.Equals(this.__0, oth.__0) && object.Equals(this.__1, oth.__1) && object.Equals(this.__2, oth.__2) && object.Equals(this.__3, oth.__3) && object.Equals(this.__4, oth.__4) && object.Equals(this.__5, oth.__5);
    }
    public override int GetHashCode() {
      ulong hash = 5381;
      hash = ((hash << 5) + hash) + 0;
      hash = ((hash << 5) + hash) + ((ulong)Dafny.Helpers.GetHashCode(this.__0));
      hash = ((hash << 5) + hash) + ((ulong)Dafny.Helpers.GetHashCode(this.__1));
      hash = ((hash << 5) + hash) + ((ulong)Dafny.Helpers.GetHashCode(this.__2));
      hash = ((hash << 5) + hash) + ((ulong)Dafny.Helpers.GetHashCode(this.__3));
      hash = ((hash << 5) + hash) + ((ulong)Dafny.Helpers.GetHashCode(this.__4));
      hash = ((hash << 5) + hash) + ((ulong)Dafny.Helpers.GetHashCode(this.__5));
      return (int) hash;
    }
    public override string ToString() {
      string s = "";
      s += "(";
      s += Dafny.Helpers.ToString(this.__0);
      s += ", ";
      s += Dafny.Helpers.ToString(this.__1);
      s += ", ";
      s += Dafny.Helpers.ToString(this.__2);
      s += ", ";
      s += Dafny.Helpers.ToString(this.__3);
      s += ", ";
      s += Dafny.Helpers.ToString(this.__4);
      s += ", ";
      s += Dafny.Helpers.ToString(this.__5);
      s += ")";
      return s;
    }
    public static _System._ITuple6<T0, T1, T2, T3, T4, T5> Default(T0 _default_T0, T1 _default_T1, T2 _default_T2, T3 _default_T3, T4 _default_T4, T5 _default_T5) {
      return create(_default_T0, _default_T1, _default_T2, _default_T3, _default_T4, _default_T5);
    }
    public static Dafny.TypeDescriptor<_System._ITuple6<T0, T1, T2, T3, T4, T5>> _TypeDescriptor(Dafny.TypeDescriptor<T0> _td_T0, Dafny.TypeDescriptor<T1> _td_T1, Dafny.TypeDescriptor<T2> _td_T2, Dafny.TypeDescriptor<T3> _td_T3, Dafny.TypeDescriptor<T4> _td_T4, Dafny.TypeDescriptor<T5> _td_T5) {
      return new Dafny.TypeDescriptor<_System._ITuple6<T0, T1, T2, T3, T4, T5>>(_System.Tuple6<T0, T1, T2, T3, T4, T5>.Default(_td_T0.Default(), _td_T1.Default(), _td_T2.Default(), _td_T3.Default(), _td_T4.Default(), _td_T5.Default()));
    }
    public static _ITuple6<T0, T1, T2, T3, T4, T5> create(T0 _0, T1 _1, T2 _2, T3 _3, T4 _4, T5 _5) {
      return new Tuple6<T0, T1, T2, T3, T4, T5>(_0, _1, _2, _3, _4, _5);
    }
    public static _ITuple6<T0, T1, T2, T3, T4, T5> create____hMake6(T0 _0, T1 _1, T2 _2, T3 _3, T4 _4, T5 _5) {
      return create(_0, _1, _2, _3, _4, _5);
    }
    public T0 dtor__0 {
      get {
        return this.__0;
      }
    }
    public T1 dtor__1 {
      get {
        return this.__1;
      }
    }
    public T2 dtor__2 {
      get {
        return this.__2;
      }
    }
    public T3 dtor__3 {
      get {
        return this.__3;
      }
    }
    public T4 dtor__4 {
      get {
        return this.__4;
      }
    }
    public T5 dtor__5 {
      get {
        return this.__5;
      }
    }
  }

  public interface _ITuple7<out T0, out T1, out T2, out T3, out T4, out T5, out T6> {
    T0 dtor__0 { get; }
    T1 dtor__1 { get; }
    T2 dtor__2 { get; }
    T3 dtor__3 { get; }
    T4 dtor__4 { get; }
    T5 dtor__5 { get; }
    T6 dtor__6 { get; }
    _ITuple7<__T0, __T1, __T2, __T3, __T4, __T5, __T6> DowncastClone<__T0, __T1, __T2, __T3, __T4, __T5, __T6>(Func<T0, __T0> converter0, Func<T1, __T1> converter1, Func<T2, __T2> converter2, Func<T3, __T3> converter3, Func<T4, __T4> converter4, Func<T5, __T5> converter5, Func<T6, __T6> converter6);
  }
  public class Tuple7<T0, T1, T2, T3, T4, T5, T6> : _ITuple7<T0, T1, T2, T3, T4, T5, T6> {
    public readonly T0 __0;
    public readonly T1 __1;
    public readonly T2 __2;
    public readonly T3 __3;
    public readonly T4 __4;
    public readonly T5 __5;
    public readonly T6 __6;
    public Tuple7(T0 _0, T1 _1, T2 _2, T3 _3, T4 _4, T5 _5, T6 _6) {
      this.__0 = _0;
      this.__1 = _1;
      this.__2 = _2;
      this.__3 = _3;
      this.__4 = _4;
      this.__5 = _5;
      this.__6 = _6;
    }
    public _ITuple7<__T0, __T1, __T2, __T3, __T4, __T5, __T6> DowncastClone<__T0, __T1, __T2, __T3, __T4, __T5, __T6>(Func<T0, __T0> converter0, Func<T1, __T1> converter1, Func<T2, __T2> converter2, Func<T3, __T3> converter3, Func<T4, __T4> converter4, Func<T5, __T5> converter5, Func<T6, __T6> converter6) {
      if (this is _ITuple7<__T0, __T1, __T2, __T3, __T4, __T5, __T6> dt) { return dt; }
      return new Tuple7<__T0, __T1, __T2, __T3, __T4, __T5, __T6>(converter0(__0), converter1(__1), converter2(__2), converter3(__3), converter4(__4), converter5(__5), converter6(__6));
    }
    public override bool Equals(object other) {
      var oth = other as _System.Tuple7<T0, T1, T2, T3, T4, T5, T6>;
      return oth != null && object.Equals(this.__0, oth.__0) && object.Equals(this.__1, oth.__1) && object.Equals(this.__2, oth.__2) && object.Equals(this.__3, oth.__3) && object.Equals(this.__4, oth.__4) && object.Equals(this.__5, oth.__5) && object.Equals(this.__6, oth.__6);
    }
    public override int GetHashCode() {
      ulong hash = 5381;
      hash = ((hash << 5) + hash) + 0;
      hash = ((hash << 5) + hash) + ((ulong)Dafny.Helpers.GetHashCode(this.__0));
      hash = ((hash << 5) + hash) + ((ulong)Dafny.Helpers.GetHashCode(this.__1));
      hash = ((hash << 5) + hash) + ((ulong)Dafny.Helpers.GetHashCode(this.__2));
      hash = ((hash << 5) + hash) + ((ulong)Dafny.Helpers.GetHashCode(this.__3));
      hash = ((hash << 5) + hash) + ((ulong)Dafny.Helpers.GetHashCode(this.__4));
      hash = ((hash << 5) + hash) + ((ulong)Dafny.Helpers.GetHashCode(this.__5));
      hash = ((hash << 5) + hash) + ((ulong)Dafny.Helpers.GetHashCode(this.__6));
      return (int) hash;
    }
    public override string ToString() {
      string s = "";
      s += "(";
      s += Dafny.Helpers.ToString(this.__0);
      s += ", ";
      s += Dafny.Helpers.ToString(this.__1);
      s += ", ";
      s += Dafny.Helpers.ToString(this.__2);
      s += ", ";
      s += Dafny.Helpers.ToString(this.__3);
      s += ", ";
      s += Dafny.Helpers.ToString(this.__4);
      s += ", ";
      s += Dafny.Helpers.ToString(this.__5);
      s += ", ";
      s += Dafny.Helpers.ToString(this.__6);
      s += ")";
      return s;
    }
    public static _System._ITuple7<T0, T1, T2, T3, T4, T5, T6> Default(T0 _default_T0, T1 _default_T1, T2 _default_T2, T3 _default_T3, T4 _default_T4, T5 _default_T5, T6 _default_T6) {
      return create(_default_T0, _default_T1, _default_T2, _default_T3, _default_T4, _default_T5, _default_T6);
    }
    public static Dafny.TypeDescriptor<_System._ITuple7<T0, T1, T2, T3, T4, T5, T6>> _TypeDescriptor(Dafny.TypeDescriptor<T0> _td_T0, Dafny.TypeDescriptor<T1> _td_T1, Dafny.TypeDescriptor<T2> _td_T2, Dafny.TypeDescriptor<T3> _td_T3, Dafny.TypeDescriptor<T4> _td_T4, Dafny.TypeDescriptor<T5> _td_T5, Dafny.TypeDescriptor<T6> _td_T6) {
      return new Dafny.TypeDescriptor<_System._ITuple7<T0, T1, T2, T3, T4, T5, T6>>(_System.Tuple7<T0, T1, T2, T3, T4, T5, T6>.Default(_td_T0.Default(), _td_T1.Default(), _td_T2.Default(), _td_T3.Default(), _td_T4.Default(), _td_T5.Default(), _td_T6.Default()));
    }
    public static _ITuple7<T0, T1, T2, T3, T4, T5, T6> create(T0 _0, T1 _1, T2 _2, T3 _3, T4 _4, T5 _5, T6 _6) {
      return new Tuple7<T0, T1, T2, T3, T4, T5, T6>(_0, _1, _2, _3, _4, _5, _6);
    }
    public static _ITuple7<T0, T1, T2, T3, T4, T5, T6> create____hMake7(T0 _0, T1 _1, T2 _2, T3 _3, T4 _4, T5 _5, T6 _6) {
      return create(_0, _1, _2, _3, _4, _5, _6);
    }
    public T0 dtor__0 {
      get {
        return this.__0;
      }
    }
    public T1 dtor__1 {
      get {
        return this.__1;
      }
    }
    public T2 dtor__2 {
      get {
        return this.__2;
      }
    }
    public T3 dtor__3 {
      get {
        return this.__3;
      }
    }
    public T4 dtor__4 {
      get {
        return this.__4;
      }
    }
    public T5 dtor__5 {
      get {
        return this.__5;
      }
    }
    public T6 dtor__6 {
      get {
        return this.__6;
      }
    }
  }

  public interface _ITuple8<out T0, out T1, out T2, out T3, out T4, out T5, out T6, out T7> {
    T0 dtor__0 { get; }
    T1 dtor__1 { get; }
    T2 dtor__2 { get; }
    T3 dtor__3 { get; }
    T4 dtor__4 { get; }
    T5 dtor__5 { get; }
    T6 dtor__6 { get; }
    T7 dtor__7 { get; }
    _ITuple8<__T0, __T1, __T2, __T3, __T4, __T5, __T6, __T7> DowncastClone<__T0, __T1, __T2, __T3, __T4, __T5, __T6, __T7>(Func<T0, __T0> converter0, Func<T1, __T1> converter1, Func<T2, __T2> converter2, Func<T3, __T3> converter3, Func<T4, __T4> converter4, Func<T5, __T5> converter5, Func<T6, __T6> converter6, Func<T7, __T7> converter7);
  }
  public class Tuple8<T0, T1, T2, T3, T4, T5, T6, T7> : _ITuple8<T0, T1, T2, T3, T4, T5, T6, T7> {
    public readonly T0 __0;
    public readonly T1 __1;
    public readonly T2 __2;
    public readonly T3 __3;
    public readonly T4 __4;
    public readonly T5 __5;
    public readonly T6 __6;
    public readonly T7 __7;
    public Tuple8(T0 _0, T1 _1, T2 _2, T3 _3, T4 _4, T5 _5, T6 _6, T7 _7) {
      this.__0 = _0;
      this.__1 = _1;
      this.__2 = _2;
      this.__3 = _3;
      this.__4 = _4;
      this.__5 = _5;
      this.__6 = _6;
      this.__7 = _7;
    }
    public _ITuple8<__T0, __T1, __T2, __T3, __T4, __T5, __T6, __T7> DowncastClone<__T0, __T1, __T2, __T3, __T4, __T5, __T6, __T7>(Func<T0, __T0> converter0, Func<T1, __T1> converter1, Func<T2, __T2> converter2, Func<T3, __T3> converter3, Func<T4, __T4> converter4, Func<T5, __T5> converter5, Func<T6, __T6> converter6, Func<T7, __T7> converter7) {
      if (this is _ITuple8<__T0, __T1, __T2, __T3, __T4, __T5, __T6, __T7> dt) { return dt; }
      return new Tuple8<__T0, __T1, __T2, __T3, __T4, __T5, __T6, __T7>(converter0(__0), converter1(__1), converter2(__2), converter3(__3), converter4(__4), converter5(__5), converter6(__6), converter7(__7));
    }
    public override bool Equals(object other) {
      var oth = other as _System.Tuple8<T0, T1, T2, T3, T4, T5, T6, T7>;
      return oth != null && object.Equals(this.__0, oth.__0) && object.Equals(this.__1, oth.__1) && object.Equals(this.__2, oth.__2) && object.Equals(this.__3, oth.__3) && object.Equals(this.__4, oth.__4) && object.Equals(this.__5, oth.__5) && object.Equals(this.__6, oth.__6) && object.Equals(this.__7, oth.__7);
    }
    public override int GetHashCode() {
      ulong hash = 5381;
      hash = ((hash << 5) + hash) + 0;
      hash = ((hash << 5) + hash) + ((ulong)Dafny.Helpers.GetHashCode(this.__0));
      hash = ((hash << 5) + hash) + ((ulong)Dafny.Helpers.GetHashCode(this.__1));
      hash = ((hash << 5) + hash) + ((ulong)Dafny.Helpers.GetHashCode(this.__2));
      hash = ((hash << 5) + hash) + ((ulong)Dafny.Helpers.GetHashCode(this.__3));
      hash = ((hash << 5) + hash) + ((ulong)Dafny.Helpers.GetHashCode(this.__4));
      hash = ((hash << 5) + hash) + ((ulong)Dafny.Helpers.GetHashCode(this.__5));
      hash = ((hash << 5) + hash) + ((ulong)Dafny.Helpers.GetHashCode(this.__6));
      hash = ((hash << 5) + hash) + ((ulong)Dafny.Helpers.GetHashCode(this.__7));
      return (int) hash;
    }
    public override string ToString() {
      string s = "";
      s += "(";
      s += Dafny.Helpers.ToString(this.__0);
      s += ", ";
      s += Dafny.Helpers.ToString(this.__1);
      s += ", ";
      s += Dafny.Helpers.ToString(this.__2);
      s += ", ";
      s += Dafny.Helpers.ToString(this.__3);
      s += ", ";
      s += Dafny.Helpers.ToString(this.__4);
      s += ", ";
      s += Dafny.Helpers.ToString(this.__5);
      s += ", ";
      s += Dafny.Helpers.ToString(this.__6);
      s += ", ";
      s += Dafny.Helpers.ToString(this.__7);
      s += ")";
      return s;
    }
    public static _System._ITuple8<T0, T1, T2, T3, T4, T5, T6, T7> Default(T0 _default_T0, T1 _default_T1, T2 _default_T2, T3 _default_T3, T4 _default_T4, T5 _default_T5, T6 _default_T6, T7 _default_T7) {
      return create(_default_T0, _default_T1, _default_T2, _default_T3, _default_T4, _default_T5, _default_T6, _default_T7);
    }
    public static Dafny.TypeDescriptor<_System._ITuple8<T0, T1, T2, T3, T4, T5, T6, T7>> _TypeDescriptor(Dafny.TypeDescriptor<T0> _td_T0, Dafny.TypeDescriptor<T1> _td_T1, Dafny.TypeDescriptor<T2> _td_T2, Dafny.TypeDescriptor<T3> _td_T3, Dafny.TypeDescriptor<T4> _td_T4, Dafny.TypeDescriptor<T5> _td_T5, Dafny.TypeDescriptor<T6> _td_T6, Dafny.TypeDescriptor<T7> _td_T7) {
      return new Dafny.TypeDescriptor<_System._ITuple8<T0, T1, T2, T3, T4, T5, T6, T7>>(_System.Tuple8<T0, T1, T2, T3, T4, T5, T6, T7>.Default(_td_T0.Default(), _td_T1.Default(), _td_T2.Default(), _td_T3.Default(), _td_T4.Default(), _td_T5.Default(), _td_T6.Default(), _td_T7.Default()));
    }
    public static _ITuple8<T0, T1, T2, T3, T4, T5, T6, T7> create(T0 _0, T1 _1, T2 _2, T3 _3, T4 _4, T5 _5, T6 _6, T7 _7) {
      return new Tuple8<T0, T1, T2, T3, T4, T5, T6, T7>(_0, _1, _2, _3, _4, _5, _6, _7);
    }
    public static _ITuple8<T0, T1, T2, T3, T4, T5, T6, T7> create____hMake8(T0 _0, T1 _1, T2 _2, T3 _3, T4 _4, T5 _5, T6 _6, T7 _7) {
      return create(_0, _1, _2, _3, _4, _5, _6, _7);
    }
    public T0 dtor__0 {
      get {
        return this.__0;
      }
    }
    public T1 dtor__1 {
      get {
        return this.__1;
      }
    }
    public T2 dtor__2 {
      get {
        return this.__2;
      }
    }
    public T3 dtor__3 {
      get {
        return this.__3;
      }
    }
    public T4 dtor__4 {
      get {
        return this.__4;
      }
    }
    public T5 dtor__5 {
      get {
        return this.__5;
      }
    }
    public T6 dtor__6 {
      get {
        return this.__6;
      }
    }
    public T7 dtor__7 {
      get {
        return this.__7;
      }
    }
  }

  public interface _ITuple9<out T0, out T1, out T2, out T3, out T4, out T5, out T6, out T7, out T8> {
    T0 dtor__0 { get; }
    T1 dtor__1 { get; }
    T2 dtor__2 { get; }
    T3 dtor__3 { get; }
    T4 dtor__4 { get; }
    T5 dtor__5 { get; }
    T6 dtor__6 { get; }
    T7 dtor__7 { get; }
    T8 dtor__8 { get; }
    _ITuple9<__T0, __T1, __T2, __T3, __T4, __T5, __T6, __T7, __T8> DowncastClone<__T0, __T1, __T2, __T3, __T4, __T5, __T6, __T7, __T8>(Func<T0, __T0> converter0, Func<T1, __T1> converter1, Func<T2, __T2> converter2, Func<T3, __T3> converter3, Func<T4, __T4> converter4, Func<T5, __T5> converter5, Func<T6, __T6> converter6, Func<T7, __T7> converter7, Func<T8, __T8> converter8);
  }
  public class Tuple9<T0, T1, T2, T3, T4, T5, T6, T7, T8> : _ITuple9<T0, T1, T2, T3, T4, T5, T6, T7, T8> {
    public readonly T0 __0;
    public readonly T1 __1;
    public readonly T2 __2;
    public readonly T3 __3;
    public readonly T4 __4;
    public readonly T5 __5;
    public readonly T6 __6;
    public readonly T7 __7;
    public readonly T8 __8;
    public Tuple9(T0 _0, T1 _1, T2 _2, T3 _3, T4 _4, T5 _5, T6 _6, T7 _7, T8 _8) {
      this.__0 = _0;
      this.__1 = _1;
      this.__2 = _2;
      this.__3 = _3;
      this.__4 = _4;
      this.__5 = _5;
      this.__6 = _6;
      this.__7 = _7;
      this.__8 = _8;
    }
    public _ITuple9<__T0, __T1, __T2, __T3, __T4, __T5, __T6, __T7, __T8> DowncastClone<__T0, __T1, __T2, __T3, __T4, __T5, __T6, __T7, __T8>(Func<T0, __T0> converter0, Func<T1, __T1> converter1, Func<T2, __T2> converter2, Func<T3, __T3> converter3, Func<T4, __T4> converter4, Func<T5, __T5> converter5, Func<T6, __T6> converter6, Func<T7, __T7> converter7, Func<T8, __T8> converter8) {
      if (this is _ITuple9<__T0, __T1, __T2, __T3, __T4, __T5, __T6, __T7, __T8> dt) { return dt; }
      return new Tuple9<__T0, __T1, __T2, __T3, __T4, __T5, __T6, __T7, __T8>(converter0(__0), converter1(__1), converter2(__2), converter3(__3), converter4(__4), converter5(__5), converter6(__6), converter7(__7), converter8(__8));
    }
    public override bool Equals(object other) {
      var oth = other as _System.Tuple9<T0, T1, T2, T3, T4, T5, T6, T7, T8>;
      return oth != null && object.Equals(this.__0, oth.__0) && object.Equals(this.__1, oth.__1) && object.Equals(this.__2, oth.__2) && object.Equals(this.__3, oth.__3) && object.Equals(this.__4, oth.__4) && object.Equals(this.__5, oth.__5) && object.Equals(this.__6, oth.__6) && object.Equals(this.__7, oth.__7) && object.Equals(this.__8, oth.__8);
    }
    public override int GetHashCode() {
      ulong hash = 5381;
      hash = ((hash << 5) + hash) + 0;
      hash = ((hash << 5) + hash) + ((ulong)Dafny.Helpers.GetHashCode(this.__0));
      hash = ((hash << 5) + hash) + ((ulong)Dafny.Helpers.GetHashCode(this.__1));
      hash = ((hash << 5) + hash) + ((ulong)Dafny.Helpers.GetHashCode(this.__2));
      hash = ((hash << 5) + hash) + ((ulong)Dafny.Helpers.GetHashCode(this.__3));
      hash = ((hash << 5) + hash) + ((ulong)Dafny.Helpers.GetHashCode(this.__4));
      hash = ((hash << 5) + hash) + ((ulong)Dafny.Helpers.GetHashCode(this.__5));
      hash = ((hash << 5) + hash) + ((ulong)Dafny.Helpers.GetHashCode(this.__6));
      hash = ((hash << 5) + hash) + ((ulong)Dafny.Helpers.GetHashCode(this.__7));
      hash = ((hash << 5) + hash) + ((ulong)Dafny.Helpers.GetHashCode(this.__8));
      return (int) hash;
    }
    public override string ToString() {
      string s = "";
      s += "(";
      s += Dafny.Helpers.ToString(this.__0);
      s += ", ";
      s += Dafny.Helpers.ToString(this.__1);
      s += ", ";
      s += Dafny.Helpers.ToString(this.__2);
      s += ", ";
      s += Dafny.Helpers.ToString(this.__3);
      s += ", ";
      s += Dafny.Helpers.ToString(this.__4);
      s += ", ";
      s += Dafny.Helpers.ToString(this.__5);
      s += ", ";
      s += Dafny.Helpers.ToString(this.__6);
      s += ", ";
      s += Dafny.Helpers.ToString(this.__7);
      s += ", ";
      s += Dafny.Helpers.ToString(this.__8);
      s += ")";
      return s;
    }
    public static _System._ITuple9<T0, T1, T2, T3, T4, T5, T6, T7, T8> Default(T0 _default_T0, T1 _default_T1, T2 _default_T2, T3 _default_T3, T4 _default_T4, T5 _default_T5, T6 _default_T6, T7 _default_T7, T8 _default_T8) {
      return create(_default_T0, _default_T1, _default_T2, _default_T3, _default_T4, _default_T5, _default_T6, _default_T7, _default_T8);
    }
    public static Dafny.TypeDescriptor<_System._ITuple9<T0, T1, T2, T3, T4, T5, T6, T7, T8>> _TypeDescriptor(Dafny.TypeDescriptor<T0> _td_T0, Dafny.TypeDescriptor<T1> _td_T1, Dafny.TypeDescriptor<T2> _td_T2, Dafny.TypeDescriptor<T3> _td_T3, Dafny.TypeDescriptor<T4> _td_T4, Dafny.TypeDescriptor<T5> _td_T5, Dafny.TypeDescriptor<T6> _td_T6, Dafny.TypeDescriptor<T7> _td_T7, Dafny.TypeDescriptor<T8> _td_T8) {
      return new Dafny.TypeDescriptor<_System._ITuple9<T0, T1, T2, T3, T4, T5, T6, T7, T8>>(_System.Tuple9<T0, T1, T2, T3, T4, T5, T6, T7, T8>.Default(_td_T0.Default(), _td_T1.Default(), _td_T2.Default(), _td_T3.Default(), _td_T4.Default(), _td_T5.Default(), _td_T6.Default(), _td_T7.Default(), _td_T8.Default()));
    }
    public static _ITuple9<T0, T1, T2, T3, T4, T5, T6, T7, T8> create(T0 _0, T1 _1, T2 _2, T3 _3, T4 _4, T5 _5, T6 _6, T7 _7, T8 _8) {
      return new Tuple9<T0, T1, T2, T3, T4, T5, T6, T7, T8>(_0, _1, _2, _3, _4, _5, _6, _7, _8);
    }
    public static _ITuple9<T0, T1, T2, T3, T4, T5, T6, T7, T8> create____hMake9(T0 _0, T1 _1, T2 _2, T3 _3, T4 _4, T5 _5, T6 _6, T7 _7, T8 _8) {
      return create(_0, _1, _2, _3, _4, _5, _6, _7, _8);
    }
    public T0 dtor__0 {
      get {
        return this.__0;
      }
    }
    public T1 dtor__1 {
      get {
        return this.__1;
      }
    }
    public T2 dtor__2 {
      get {
        return this.__2;
      }
    }
    public T3 dtor__3 {
      get {
        return this.__3;
      }
    }
    public T4 dtor__4 {
      get {
        return this.__4;
      }
    }
    public T5 dtor__5 {
      get {
        return this.__5;
      }
    }
    public T6 dtor__6 {
      get {
        return this.__6;
      }
    }
    public T7 dtor__7 {
      get {
        return this.__7;
      }
    }
    public T8 dtor__8 {
      get {
        return this.__8;
      }
    }
  }

  public interface _ITuple10<out T0, out T1, out T2, out T3, out T4, out T5, out T6, out T7, out T8, out T9> {
    T0 dtor__0 { get; }
    T1 dtor__1 { get; }
    T2 dtor__2 { get; }
    T3 dtor__3 { get; }
    T4 dtor__4 { get; }
    T5 dtor__5 { get; }
    T6 dtor__6 { get; }
    T7 dtor__7 { get; }
    T8 dtor__8 { get; }
    T9 dtor__9 { get; }
    _ITuple10<__T0, __T1, __T2, __T3, __T4, __T5, __T6, __T7, __T8, __T9> DowncastClone<__T0, __T1, __T2, __T3, __T4, __T5, __T6, __T7, __T8, __T9>(Func<T0, __T0> converter0, Func<T1, __T1> converter1, Func<T2, __T2> converter2, Func<T3, __T3> converter3, Func<T4, __T4> converter4, Func<T5, __T5> converter5, Func<T6, __T6> converter6, Func<T7, __T7> converter7, Func<T8, __T8> converter8, Func<T9, __T9> converter9);
  }
  public class Tuple10<T0, T1, T2, T3, T4, T5, T6, T7, T8, T9> : _ITuple10<T0, T1, T2, T3, T4, T5, T6, T7, T8, T9> {
    public readonly T0 __0;
    public readonly T1 __1;
    public readonly T2 __2;
    public readonly T3 __3;
    public readonly T4 __4;
    public readonly T5 __5;
    public readonly T6 __6;
    public readonly T7 __7;
    public readonly T8 __8;
    public readonly T9 __9;
    public Tuple10(T0 _0, T1 _1, T2 _2, T3 _3, T4 _4, T5 _5, T6 _6, T7 _7, T8 _8, T9 _9) {
      this.__0 = _0;
      this.__1 = _1;
      this.__2 = _2;
      this.__3 = _3;
      this.__4 = _4;
      this.__5 = _5;
      this.__6 = _6;
      this.__7 = _7;
      this.__8 = _8;
      this.__9 = _9;
    }
    public _ITuple10<__T0, __T1, __T2, __T3, __T4, __T5, __T6, __T7, __T8, __T9> DowncastClone<__T0, __T1, __T2, __T3, __T4, __T5, __T6, __T7, __T8, __T9>(Func<T0, __T0> converter0, Func<T1, __T1> converter1, Func<T2, __T2> converter2, Func<T3, __T3> converter3, Func<T4, __T4> converter4, Func<T5, __T5> converter5, Func<T6, __T6> converter6, Func<T7, __T7> converter7, Func<T8, __T8> converter8, Func<T9, __T9> converter9) {
      if (this is _ITuple10<__T0, __T1, __T2, __T3, __T4, __T5, __T6, __T7, __T8, __T9> dt) { return dt; }
      return new Tuple10<__T0, __T1, __T2, __T3, __T4, __T5, __T6, __T7, __T8, __T9>(converter0(__0), converter1(__1), converter2(__2), converter3(__3), converter4(__4), converter5(__5), converter6(__6), converter7(__7), converter8(__8), converter9(__9));
    }
    public override bool Equals(object other) {
      var oth = other as _System.Tuple10<T0, T1, T2, T3, T4, T5, T6, T7, T8, T9>;
      return oth != null && object.Equals(this.__0, oth.__0) && object.Equals(this.__1, oth.__1) && object.Equals(this.__2, oth.__2) && object.Equals(this.__3, oth.__3) && object.Equals(this.__4, oth.__4) && object.Equals(this.__5, oth.__5) && object.Equals(this.__6, oth.__6) && object.Equals(this.__7, oth.__7) && object.Equals(this.__8, oth.__8) && object.Equals(this.__9, oth.__9);
    }
    public override int GetHashCode() {
      ulong hash = 5381;
      hash = ((hash << 5) + hash) + 0;
      hash = ((hash << 5) + hash) + ((ulong)Dafny.Helpers.GetHashCode(this.__0));
      hash = ((hash << 5) + hash) + ((ulong)Dafny.Helpers.GetHashCode(this.__1));
      hash = ((hash << 5) + hash) + ((ulong)Dafny.Helpers.GetHashCode(this.__2));
      hash = ((hash << 5) + hash) + ((ulong)Dafny.Helpers.GetHashCode(this.__3));
      hash = ((hash << 5) + hash) + ((ulong)Dafny.Helpers.GetHashCode(this.__4));
      hash = ((hash << 5) + hash) + ((ulong)Dafny.Helpers.GetHashCode(this.__5));
      hash = ((hash << 5) + hash) + ((ulong)Dafny.Helpers.GetHashCode(this.__6));
      hash = ((hash << 5) + hash) + ((ulong)Dafny.Helpers.GetHashCode(this.__7));
      hash = ((hash << 5) + hash) + ((ulong)Dafny.Helpers.GetHashCode(this.__8));
      hash = ((hash << 5) + hash) + ((ulong)Dafny.Helpers.GetHashCode(this.__9));
      return (int) hash;
    }
    public override string ToString() {
      string s = "";
      s += "(";
      s += Dafny.Helpers.ToString(this.__0);
      s += ", ";
      s += Dafny.Helpers.ToString(this.__1);
      s += ", ";
      s += Dafny.Helpers.ToString(this.__2);
      s += ", ";
      s += Dafny.Helpers.ToString(this.__3);
      s += ", ";
      s += Dafny.Helpers.ToString(this.__4);
      s += ", ";
      s += Dafny.Helpers.ToString(this.__5);
      s += ", ";
      s += Dafny.Helpers.ToString(this.__6);
      s += ", ";
      s += Dafny.Helpers.ToString(this.__7);
      s += ", ";
      s += Dafny.Helpers.ToString(this.__8);
      s += ", ";
      s += Dafny.Helpers.ToString(this.__9);
      s += ")";
      return s;
    }
    public static _System._ITuple10<T0, T1, T2, T3, T4, T5, T6, T7, T8, T9> Default(T0 _default_T0, T1 _default_T1, T2 _default_T2, T3 _default_T3, T4 _default_T4, T5 _default_T5, T6 _default_T6, T7 _default_T7, T8 _default_T8, T9 _default_T9) {
      return create(_default_T0, _default_T1, _default_T2, _default_T3, _default_T4, _default_T5, _default_T6, _default_T7, _default_T8, _default_T9);
    }
    public static Dafny.TypeDescriptor<_System._ITuple10<T0, T1, T2, T3, T4, T5, T6, T7, T8, T9>> _TypeDescriptor(Dafny.TypeDescriptor<T0> _td_T0, Dafny.TypeDescriptor<T1> _td_T1, Dafny.TypeDescriptor<T2> _td_T2, Dafny.TypeDescriptor<T3> _td_T3, Dafny.TypeDescriptor<T4> _td_T4, Dafny.TypeDescriptor<T5> _td_T5, Dafny.TypeDescriptor<T6> _td_T6, Dafny.TypeDescriptor<T7> _td_T7, Dafny.TypeDescriptor<T8> _td_T8, Dafny.TypeDescriptor<T9> _td_T9) {
      return new Dafny.TypeDescriptor<_System._ITuple10<T0, T1, T2, T3, T4, T5, T6, T7, T8, T9>>(_System.Tuple10<T0, T1, T2, T3, T4, T5, T6, T7, T8, T9>.Default(_td_T0.Default(), _td_T1.Default(), _td_T2.Default(), _td_T3.Default(), _td_T4.Default(), _td_T5.Default(), _td_T6.Default(), _td_T7.Default(), _td_T8.Default(), _td_T9.Default()));
    }
    public static _ITuple10<T0, T1, T2, T3, T4, T5, T6, T7, T8, T9> create(T0 _0, T1 _1, T2 _2, T3 _3, T4 _4, T5 _5, T6 _6, T7 _7, T8 _8, T9 _9) {
      return new Tuple10<T0, T1, T2, T3, T4, T5, T6, T7, T8, T9>(_0, _1, _2, _3, _4, _5, _6, _7, _8, _9);
    }
    public static _ITuple10<T0, T1, T2, T3, T4, T5, T6, T7, T8, T9> create____hMake10(T0 _0, T1 _1, T2 _2, T3 _3, T4 _4, T5 _5, T6 _6, T7 _7, T8 _8, T9 _9) {
      return create(_0, _1, _2, _3, _4, _5, _6, _7, _8, _9);
    }
    public T0 dtor__0 {
      get {
        return this.__0;
      }
    }
    public T1 dtor__1 {
      get {
        return this.__1;
      }
    }
    public T2 dtor__2 {
      get {
        return this.__2;
      }
    }
    public T3 dtor__3 {
      get {
        return this.__3;
      }
    }
    public T4 dtor__4 {
      get {
        return this.__4;
      }
    }
    public T5 dtor__5 {
      get {
        return this.__5;
      }
    }
    public T6 dtor__6 {
      get {
        return this.__6;
      }
    }
    public T7 dtor__7 {
      get {
        return this.__7;
      }
    }
    public T8 dtor__8 {
      get {
        return this.__8;
      }
    }
    public T9 dtor__9 {
      get {
        return this.__9;
      }
    }
  }

  public interface _ITuple11<out T0, out T1, out T2, out T3, out T4, out T5, out T6, out T7, out T8, out T9, out T10> {
    T0 dtor__0 { get; }
    T1 dtor__1 { get; }
    T2 dtor__2 { get; }
    T3 dtor__3 { get; }
    T4 dtor__4 { get; }
    T5 dtor__5 { get; }
    T6 dtor__6 { get; }
    T7 dtor__7 { get; }
    T8 dtor__8 { get; }
    T9 dtor__9 { get; }
    T10 dtor__10 { get; }
    _ITuple11<__T0, __T1, __T2, __T3, __T4, __T5, __T6, __T7, __T8, __T9, __T10> DowncastClone<__T0, __T1, __T2, __T3, __T4, __T5, __T6, __T7, __T8, __T9, __T10>(Func<T0, __T0> converter0, Func<T1, __T1> converter1, Func<T2, __T2> converter2, Func<T3, __T3> converter3, Func<T4, __T4> converter4, Func<T5, __T5> converter5, Func<T6, __T6> converter6, Func<T7, __T7> converter7, Func<T8, __T8> converter8, Func<T9, __T9> converter9, Func<T10, __T10> converter10);
  }
  public class Tuple11<T0, T1, T2, T3, T4, T5, T6, T7, T8, T9, T10> : _ITuple11<T0, T1, T2, T3, T4, T5, T6, T7, T8, T9, T10> {
    public readonly T0 __0;
    public readonly T1 __1;
    public readonly T2 __2;
    public readonly T3 __3;
    public readonly T4 __4;
    public readonly T5 __5;
    public readonly T6 __6;
    public readonly T7 __7;
    public readonly T8 __8;
    public readonly T9 __9;
    public readonly T10 __10;
    public Tuple11(T0 _0, T1 _1, T2 _2, T3 _3, T4 _4, T5 _5, T6 _6, T7 _7, T8 _8, T9 _9, T10 _10) {
      this.__0 = _0;
      this.__1 = _1;
      this.__2 = _2;
      this.__3 = _3;
      this.__4 = _4;
      this.__5 = _5;
      this.__6 = _6;
      this.__7 = _7;
      this.__8 = _8;
      this.__9 = _9;
      this.__10 = _10;
    }
    public _ITuple11<__T0, __T1, __T2, __T3, __T4, __T5, __T6, __T7, __T8, __T9, __T10> DowncastClone<__T0, __T1, __T2, __T3, __T4, __T5, __T6, __T7, __T8, __T9, __T10>(Func<T0, __T0> converter0, Func<T1, __T1> converter1, Func<T2, __T2> converter2, Func<T3, __T3> converter3, Func<T4, __T4> converter4, Func<T5, __T5> converter5, Func<T6, __T6> converter6, Func<T7, __T7> converter7, Func<T8, __T8> converter8, Func<T9, __T9> converter9, Func<T10, __T10> converter10) {
      if (this is _ITuple11<__T0, __T1, __T2, __T3, __T4, __T5, __T6, __T7, __T8, __T9, __T10> dt) { return dt; }
      return new Tuple11<__T0, __T1, __T2, __T3, __T4, __T5, __T6, __T7, __T8, __T9, __T10>(converter0(__0), converter1(__1), converter2(__2), converter3(__3), converter4(__4), converter5(__5), converter6(__6), converter7(__7), converter8(__8), converter9(__9), converter10(__10));
    }
    public override bool Equals(object other) {
      var oth = other as _System.Tuple11<T0, T1, T2, T3, T4, T5, T6, T7, T8, T9, T10>;
      return oth != null && object.Equals(this.__0, oth.__0) && object.Equals(this.__1, oth.__1) && object.Equals(this.__2, oth.__2) && object.Equals(this.__3, oth.__3) && object.Equals(this.__4, oth.__4) && object.Equals(this.__5, oth.__5) && object.Equals(this.__6, oth.__6) && object.Equals(this.__7, oth.__7) && object.Equals(this.__8, oth.__8) && object.Equals(this.__9, oth.__9) && object.Equals(this.__10, oth.__10);
    }
    public override int GetHashCode() {
      ulong hash = 5381;
      hash = ((hash << 5) + hash) + 0;
      hash = ((hash << 5) + hash) + ((ulong)Dafny.Helpers.GetHashCode(this.__0));
      hash = ((hash << 5) + hash) + ((ulong)Dafny.Helpers.GetHashCode(this.__1));
      hash = ((hash << 5) + hash) + ((ulong)Dafny.Helpers.GetHashCode(this.__2));
      hash = ((hash << 5) + hash) + ((ulong)Dafny.Helpers.GetHashCode(this.__3));
      hash = ((hash << 5) + hash) + ((ulong)Dafny.Helpers.GetHashCode(this.__4));
      hash = ((hash << 5) + hash) + ((ulong)Dafny.Helpers.GetHashCode(this.__5));
      hash = ((hash << 5) + hash) + ((ulong)Dafny.Helpers.GetHashCode(this.__6));
      hash = ((hash << 5) + hash) + ((ulong)Dafny.Helpers.GetHashCode(this.__7));
      hash = ((hash << 5) + hash) + ((ulong)Dafny.Helpers.GetHashCode(this.__8));
      hash = ((hash << 5) + hash) + ((ulong)Dafny.Helpers.GetHashCode(this.__9));
      hash = ((hash << 5) + hash) + ((ulong)Dafny.Helpers.GetHashCode(this.__10));
      return (int) hash;
    }
    public override string ToString() {
      string s = "";
      s += "(";
      s += Dafny.Helpers.ToString(this.__0);
      s += ", ";
      s += Dafny.Helpers.ToString(this.__1);
      s += ", ";
      s += Dafny.Helpers.ToString(this.__2);
      s += ", ";
      s += Dafny.Helpers.ToString(this.__3);
      s += ", ";
      s += Dafny.Helpers.ToString(this.__4);
      s += ", ";
      s += Dafny.Helpers.ToString(this.__5);
      s += ", ";
      s += Dafny.Helpers.ToString(this.__6);
      s += ", ";
      s += Dafny.Helpers.ToString(this.__7);
      s += ", ";
      s += Dafny.Helpers.ToString(this.__8);
      s += ", ";
      s += Dafny.Helpers.ToString(this.__9);
      s += ", ";
      s += Dafny.Helpers.ToString(this.__10);
      s += ")";
      return s;
    }
    public static _System._ITuple11<T0, T1, T2, T3, T4, T5, T6, T7, T8, T9, T10> Default(T0 _default_T0, T1 _default_T1, T2 _default_T2, T3 _default_T3, T4 _default_T4, T5 _default_T5, T6 _default_T6, T7 _default_T7, T8 _default_T8, T9 _default_T9, T10 _default_T10) {
      return create(_default_T0, _default_T1, _default_T2, _default_T3, _default_T4, _default_T5, _default_T6, _default_T7, _default_T8, _default_T9, _default_T10);
    }
    public static Dafny.TypeDescriptor<_System._ITuple11<T0, T1, T2, T3, T4, T5, T6, T7, T8, T9, T10>> _TypeDescriptor(Dafny.TypeDescriptor<T0> _td_T0, Dafny.TypeDescriptor<T1> _td_T1, Dafny.TypeDescriptor<T2> _td_T2, Dafny.TypeDescriptor<T3> _td_T3, Dafny.TypeDescriptor<T4> _td_T4, Dafny.TypeDescriptor<T5> _td_T5, Dafny.TypeDescriptor<T6> _td_T6, Dafny.TypeDescriptor<T7> _td_T7, Dafny.TypeDescriptor<T8> _td_T8, Dafny.TypeDescriptor<T9> _td_T9, Dafny.TypeDescriptor<T10> _td_T10) {
      return new Dafny.TypeDescriptor<_System._ITuple11<T0, T1, T2, T3, T4, T5, T6, T7, T8, T9, T10>>(_System.Tuple11<T0, T1, T2, T3, T4, T5, T6, T7, T8, T9, T10>.Default(_td_T0.Default(), _td_T1.Default(), _td_T2.Default(), _td_T3.Default(), _td_T4.Default(), _td_T5.Default(), _td_T6.Default(), _td_T7.Default(), _td_T8.Default(), _td_T9.Default(), _td_T10.Default()));
    }
    public static _ITuple11<T0, T1, T2, T3, T4, T5, T6, T7, T8, T9, T10> create(T0 _0, T1 _1, T2 _2, T3 _3, T4 _4, T5 _5, T6 _6, T7 _7, T8 _8, T9 _9, T10 _10) {
      return new Tuple11<T0, T1, T2, T3, T4, T5, T6, T7, T8, T9, T10>(_0, _1, _2, _3, _4, _5, _6, _7, _8, _9, _10);
    }
    public static _ITuple11<T0, T1, T2, T3, T4, T5, T6, T7, T8, T9, T10> create____hMake11(T0 _0, T1 _1, T2 _2, T3 _3, T4 _4, T5 _5, T6 _6, T7 _7, T8 _8, T9 _9, T10 _10) {
      return create(_0, _1, _2, _3, _4, _5, _6, _7, _8, _9, _10);
    }
    public T0 dtor__0 {
      get {
        return this.__0;
      }
    }
    public T1 dtor__1 {
      get {
        return this.__1;
      }
    }
    public T2 dtor__2 {
      get {
        return this.__2;
      }
    }
    public T3 dtor__3 {
      get {
        return this.__3;
      }
    }
    public T4 dtor__4 {
      get {
        return this.__4;
      }
    }
    public T5 dtor__5 {
      get {
        return this.__5;
      }
    }
    public T6 dtor__6 {
      get {
        return this.__6;
      }
    }
    public T7 dtor__7 {
      get {
        return this.__7;
      }
    }
    public T8 dtor__8 {
      get {
        return this.__8;
      }
    }
    public T9 dtor__9 {
      get {
        return this.__9;
      }
    }
    public T10 dtor__10 {
      get {
        return this.__10;
      }
    }
  }

  public interface _ITuple12<out T0, out T1, out T2, out T3, out T4, out T5, out T6, out T7, out T8, out T9, out T10, out T11> {
    T0 dtor__0 { get; }
    T1 dtor__1 { get; }
    T2 dtor__2 { get; }
    T3 dtor__3 { get; }
    T4 dtor__4 { get; }
    T5 dtor__5 { get; }
    T6 dtor__6 { get; }
    T7 dtor__7 { get; }
    T8 dtor__8 { get; }
    T9 dtor__9 { get; }
    T10 dtor__10 { get; }
    T11 dtor__11 { get; }
    _ITuple12<__T0, __T1, __T2, __T3, __T4, __T5, __T6, __T7, __T8, __T9, __T10, __T11> DowncastClone<__T0, __T1, __T2, __T3, __T4, __T5, __T6, __T7, __T8, __T9, __T10, __T11>(Func<T0, __T0> converter0, Func<T1, __T1> converter1, Func<T2, __T2> converter2, Func<T3, __T3> converter3, Func<T4, __T4> converter4, Func<T5, __T5> converter5, Func<T6, __T6> converter6, Func<T7, __T7> converter7, Func<T8, __T8> converter8, Func<T9, __T9> converter9, Func<T10, __T10> converter10, Func<T11, __T11> converter11);
  }
  public class Tuple12<T0, T1, T2, T3, T4, T5, T6, T7, T8, T9, T10, T11> : _ITuple12<T0, T1, T2, T3, T4, T5, T6, T7, T8, T9, T10, T11> {
    public readonly T0 __0;
    public readonly T1 __1;
    public readonly T2 __2;
    public readonly T3 __3;
    public readonly T4 __4;
    public readonly T5 __5;
    public readonly T6 __6;
    public readonly T7 __7;
    public readonly T8 __8;
    public readonly T9 __9;
    public readonly T10 __10;
    public readonly T11 __11;
    public Tuple12(T0 _0, T1 _1, T2 _2, T3 _3, T4 _4, T5 _5, T6 _6, T7 _7, T8 _8, T9 _9, T10 _10, T11 _11) {
      this.__0 = _0;
      this.__1 = _1;
      this.__2 = _2;
      this.__3 = _3;
      this.__4 = _4;
      this.__5 = _5;
      this.__6 = _6;
      this.__7 = _7;
      this.__8 = _8;
      this.__9 = _9;
      this.__10 = _10;
      this.__11 = _11;
    }
    public _ITuple12<__T0, __T1, __T2, __T3, __T4, __T5, __T6, __T7, __T8, __T9, __T10, __T11> DowncastClone<__T0, __T1, __T2, __T3, __T4, __T5, __T6, __T7, __T8, __T9, __T10, __T11>(Func<T0, __T0> converter0, Func<T1, __T1> converter1, Func<T2, __T2> converter2, Func<T3, __T3> converter3, Func<T4, __T4> converter4, Func<T5, __T5> converter5, Func<T6, __T6> converter6, Func<T7, __T7> converter7, Func<T8, __T8> converter8, Func<T9, __T9> converter9, Func<T10, __T10> converter10, Func<T11, __T11> converter11) {
      if (this is _ITuple12<__T0, __T1, __T2, __T3, __T4, __T5, __T6, __T7, __T8, __T9, __T10, __T11> dt) { return dt; }
      return new Tuple12<__T0, __T1, __T2, __T3, __T4, __T5, __T6, __T7, __T8, __T9, __T10, __T11>(converter0(__0), converter1(__1), converter2(__2), converter3(__3), converter4(__4), converter5(__5), converter6(__6), converter7(__7), converter8(__8), converter9(__9), converter10(__10), converter11(__11));
    }
    public override bool Equals(object other) {
      var oth = other as _System.Tuple12<T0, T1, T2, T3, T4, T5, T6, T7, T8, T9, T10, T11>;
      return oth != null && object.Equals(this.__0, oth.__0) && object.Equals(this.__1, oth.__1) && object.Equals(this.__2, oth.__2) && object.Equals(this.__3, oth.__3) && object.Equals(this.__4, oth.__4) && object.Equals(this.__5, oth.__5) && object.Equals(this.__6, oth.__6) && object.Equals(this.__7, oth.__7) && object.Equals(this.__8, oth.__8) && object.Equals(this.__9, oth.__9) && object.Equals(this.__10, oth.__10) && object.Equals(this.__11, oth.__11);
    }
    public override int GetHashCode() {
      ulong hash = 5381;
      hash = ((hash << 5) + hash) + 0;
      hash = ((hash << 5) + hash) + ((ulong)Dafny.Helpers.GetHashCode(this.__0));
      hash = ((hash << 5) + hash) + ((ulong)Dafny.Helpers.GetHashCode(this.__1));
      hash = ((hash << 5) + hash) + ((ulong)Dafny.Helpers.GetHashCode(this.__2));
      hash = ((hash << 5) + hash) + ((ulong)Dafny.Helpers.GetHashCode(this.__3));
      hash = ((hash << 5) + hash) + ((ulong)Dafny.Helpers.GetHashCode(this.__4));
      hash = ((hash << 5) + hash) + ((ulong)Dafny.Helpers.GetHashCode(this.__5));
      hash = ((hash << 5) + hash) + ((ulong)Dafny.Helpers.GetHashCode(this.__6));
      hash = ((hash << 5) + hash) + ((ulong)Dafny.Helpers.GetHashCode(this.__7));
      hash = ((hash << 5) + hash) + ((ulong)Dafny.Helpers.GetHashCode(this.__8));
      hash = ((hash << 5) + hash) + ((ulong)Dafny.Helpers.GetHashCode(this.__9));
      hash = ((hash << 5) + hash) + ((ulong)Dafny.Helpers.GetHashCode(this.__10));
      hash = ((hash << 5) + hash) + ((ulong)Dafny.Helpers.GetHashCode(this.__11));
      return (int) hash;
    }
    public override string ToString() {
      string s = "";
      s += "(";
      s += Dafny.Helpers.ToString(this.__0);
      s += ", ";
      s += Dafny.Helpers.ToString(this.__1);
      s += ", ";
      s += Dafny.Helpers.ToString(this.__2);
      s += ", ";
      s += Dafny.Helpers.ToString(this.__3);
      s += ", ";
      s += Dafny.Helpers.ToString(this.__4);
      s += ", ";
      s += Dafny.Helpers.ToString(this.__5);
      s += ", ";
      s += Dafny.Helpers.ToString(this.__6);
      s += ", ";
      s += Dafny.Helpers.ToString(this.__7);
      s += ", ";
      s += Dafny.Helpers.ToString(this.__8);
      s += ", ";
      s += Dafny.Helpers.ToString(this.__9);
      s += ", ";
      s += Dafny.Helpers.ToString(this.__10);
      s += ", ";
      s += Dafny.Helpers.ToString(this.__11);
      s += ")";
      return s;
    }
    public static _System._ITuple12<T0, T1, T2, T3, T4, T5, T6, T7, T8, T9, T10, T11> Default(T0 _default_T0, T1 _default_T1, T2 _default_T2, T3 _default_T3, T4 _default_T4, T5 _default_T5, T6 _default_T6, T7 _default_T7, T8 _default_T8, T9 _default_T9, T10 _default_T10, T11 _default_T11) {
      return create(_default_T0, _default_T1, _default_T2, _default_T3, _default_T4, _default_T5, _default_T6, _default_T7, _default_T8, _default_T9, _default_T10, _default_T11);
    }
    public static Dafny.TypeDescriptor<_System._ITuple12<T0, T1, T2, T3, T4, T5, T6, T7, T8, T9, T10, T11>> _TypeDescriptor(Dafny.TypeDescriptor<T0> _td_T0, Dafny.TypeDescriptor<T1> _td_T1, Dafny.TypeDescriptor<T2> _td_T2, Dafny.TypeDescriptor<T3> _td_T3, Dafny.TypeDescriptor<T4> _td_T4, Dafny.TypeDescriptor<T5> _td_T5, Dafny.TypeDescriptor<T6> _td_T6, Dafny.TypeDescriptor<T7> _td_T7, Dafny.TypeDescriptor<T8> _td_T8, Dafny.TypeDescriptor<T9> _td_T9, Dafny.TypeDescriptor<T10> _td_T10, Dafny.TypeDescriptor<T11> _td_T11) {
      return new Dafny.TypeDescriptor<_System._ITuple12<T0, T1, T2, T3, T4, T5, T6, T7, T8, T9, T10, T11>>(_System.Tuple12<T0, T1, T2, T3, T4, T5, T6, T7, T8, T9, T10, T11>.Default(_td_T0.Default(), _td_T1.Default(), _td_T2.Default(), _td_T3.Default(), _td_T4.Default(), _td_T5.Default(), _td_T6.Default(), _td_T7.Default(), _td_T8.Default(), _td_T9.Default(), _td_T10.Default(), _td_T11.Default()));
    }
    public static _ITuple12<T0, T1, T2, T3, T4, T5, T6, T7, T8, T9, T10, T11> create(T0 _0, T1 _1, T2 _2, T3 _3, T4 _4, T5 _5, T6 _6, T7 _7, T8 _8, T9 _9, T10 _10, T11 _11) {
      return new Tuple12<T0, T1, T2, T3, T4, T5, T6, T7, T8, T9, T10, T11>(_0, _1, _2, _3, _4, _5, _6, _7, _8, _9, _10, _11);
    }
    public static _ITuple12<T0, T1, T2, T3, T4, T5, T6, T7, T8, T9, T10, T11> create____hMake12(T0 _0, T1 _1, T2 _2, T3 _3, T4 _4, T5 _5, T6 _6, T7 _7, T8 _8, T9 _9, T10 _10, T11 _11) {
      return create(_0, _1, _2, _3, _4, _5, _6, _7, _8, _9, _10, _11);
    }
    public T0 dtor__0 {
      get {
        return this.__0;
      }
    }
    public T1 dtor__1 {
      get {
        return this.__1;
      }
    }
    public T2 dtor__2 {
      get {
        return this.__2;
      }
    }
    public T3 dtor__3 {
      get {
        return this.__3;
      }
    }
    public T4 dtor__4 {
      get {
        return this.__4;
      }
    }
    public T5 dtor__5 {
      get {
        return this.__5;
      }
    }
    public T6 dtor__6 {
      get {
        return this.__6;
      }
    }
    public T7 dtor__7 {
      get {
        return this.__7;
      }
    }
    public T8 dtor__8 {
      get {
        return this.__8;
      }
    }
    public T9 dtor__9 {
      get {
        return this.__9;
      }
    }
    public T10 dtor__10 {
      get {
        return this.__10;
      }
    }
    public T11 dtor__11 {
      get {
        return this.__11;
      }
    }
  }

  public interface _ITuple13<out T0, out T1, out T2, out T3, out T4, out T5, out T6, out T7, out T8, out T9, out T10, out T11, out T12> {
    T0 dtor__0 { get; }
    T1 dtor__1 { get; }
    T2 dtor__2 { get; }
    T3 dtor__3 { get; }
    T4 dtor__4 { get; }
    T5 dtor__5 { get; }
    T6 dtor__6 { get; }
    T7 dtor__7 { get; }
    T8 dtor__8 { get; }
    T9 dtor__9 { get; }
    T10 dtor__10 { get; }
    T11 dtor__11 { get; }
    T12 dtor__12 { get; }
    _ITuple13<__T0, __T1, __T2, __T3, __T4, __T5, __T6, __T7, __T8, __T9, __T10, __T11, __T12> DowncastClone<__T0, __T1, __T2, __T3, __T4, __T5, __T6, __T7, __T8, __T9, __T10, __T11, __T12>(Func<T0, __T0> converter0, Func<T1, __T1> converter1, Func<T2, __T2> converter2, Func<T3, __T3> converter3, Func<T4, __T4> converter4, Func<T5, __T5> converter5, Func<T6, __T6> converter6, Func<T7, __T7> converter7, Func<T8, __T8> converter8, Func<T9, __T9> converter9, Func<T10, __T10> converter10, Func<T11, __T11> converter11, Func<T12, __T12> converter12);
  }
  public class Tuple13<T0, T1, T2, T3, T4, T5, T6, T7, T8, T9, T10, T11, T12> : _ITuple13<T0, T1, T2, T3, T4, T5, T6, T7, T8, T9, T10, T11, T12> {
    public readonly T0 __0;
    public readonly T1 __1;
    public readonly T2 __2;
    public readonly T3 __3;
    public readonly T4 __4;
    public readonly T5 __5;
    public readonly T6 __6;
    public readonly T7 __7;
    public readonly T8 __8;
    public readonly T9 __9;
    public readonly T10 __10;
    public readonly T11 __11;
    public readonly T12 __12;
    public Tuple13(T0 _0, T1 _1, T2 _2, T3 _3, T4 _4, T5 _5, T6 _6, T7 _7, T8 _8, T9 _9, T10 _10, T11 _11, T12 _12) {
      this.__0 = _0;
      this.__1 = _1;
      this.__2 = _2;
      this.__3 = _3;
      this.__4 = _4;
      this.__5 = _5;
      this.__6 = _6;
      this.__7 = _7;
      this.__8 = _8;
      this.__9 = _9;
      this.__10 = _10;
      this.__11 = _11;
      this.__12 = _12;
    }
    public _ITuple13<__T0, __T1, __T2, __T3, __T4, __T5, __T6, __T7, __T8, __T9, __T10, __T11, __T12> DowncastClone<__T0, __T1, __T2, __T3, __T4, __T5, __T6, __T7, __T8, __T9, __T10, __T11, __T12>(Func<T0, __T0> converter0, Func<T1, __T1> converter1, Func<T2, __T2> converter2, Func<T3, __T3> converter3, Func<T4, __T4> converter4, Func<T5, __T5> converter5, Func<T6, __T6> converter6, Func<T7, __T7> converter7, Func<T8, __T8> converter8, Func<T9, __T9> converter9, Func<T10, __T10> converter10, Func<T11, __T11> converter11, Func<T12, __T12> converter12) {
      if (this is _ITuple13<__T0, __T1, __T2, __T3, __T4, __T5, __T6, __T7, __T8, __T9, __T10, __T11, __T12> dt) { return dt; }
      return new Tuple13<__T0, __T1, __T2, __T3, __T4, __T5, __T6, __T7, __T8, __T9, __T10, __T11, __T12>(converter0(__0), converter1(__1), converter2(__2), converter3(__3), converter4(__4), converter5(__5), converter6(__6), converter7(__7), converter8(__8), converter9(__9), converter10(__10), converter11(__11), converter12(__12));
    }
    public override bool Equals(object other) {
      var oth = other as _System.Tuple13<T0, T1, T2, T3, T4, T5, T6, T7, T8, T9, T10, T11, T12>;
      return oth != null && object.Equals(this.__0, oth.__0) && object.Equals(this.__1, oth.__1) && object.Equals(this.__2, oth.__2) && object.Equals(this.__3, oth.__3) && object.Equals(this.__4, oth.__4) && object.Equals(this.__5, oth.__5) && object.Equals(this.__6, oth.__6) && object.Equals(this.__7, oth.__7) && object.Equals(this.__8, oth.__8) && object.Equals(this.__9, oth.__9) && object.Equals(this.__10, oth.__10) && object.Equals(this.__11, oth.__11) && object.Equals(this.__12, oth.__12);
    }
    public override int GetHashCode() {
      ulong hash = 5381;
      hash = ((hash << 5) + hash) + 0;
      hash = ((hash << 5) + hash) + ((ulong)Dafny.Helpers.GetHashCode(this.__0));
      hash = ((hash << 5) + hash) + ((ulong)Dafny.Helpers.GetHashCode(this.__1));
      hash = ((hash << 5) + hash) + ((ulong)Dafny.Helpers.GetHashCode(this.__2));
      hash = ((hash << 5) + hash) + ((ulong)Dafny.Helpers.GetHashCode(this.__3));
      hash = ((hash << 5) + hash) + ((ulong)Dafny.Helpers.GetHashCode(this.__4));
      hash = ((hash << 5) + hash) + ((ulong)Dafny.Helpers.GetHashCode(this.__5));
      hash = ((hash << 5) + hash) + ((ulong)Dafny.Helpers.GetHashCode(this.__6));
      hash = ((hash << 5) + hash) + ((ulong)Dafny.Helpers.GetHashCode(this.__7));
      hash = ((hash << 5) + hash) + ((ulong)Dafny.Helpers.GetHashCode(this.__8));
      hash = ((hash << 5) + hash) + ((ulong)Dafny.Helpers.GetHashCode(this.__9));
      hash = ((hash << 5) + hash) + ((ulong)Dafny.Helpers.GetHashCode(this.__10));
      hash = ((hash << 5) + hash) + ((ulong)Dafny.Helpers.GetHashCode(this.__11));
      hash = ((hash << 5) + hash) + ((ulong)Dafny.Helpers.GetHashCode(this.__12));
      return (int) hash;
    }
    public override string ToString() {
      string s = "";
      s += "(";
      s += Dafny.Helpers.ToString(this.__0);
      s += ", ";
      s += Dafny.Helpers.ToString(this.__1);
      s += ", ";
      s += Dafny.Helpers.ToString(this.__2);
      s += ", ";
      s += Dafny.Helpers.ToString(this.__3);
      s += ", ";
      s += Dafny.Helpers.ToString(this.__4);
      s += ", ";
      s += Dafny.Helpers.ToString(this.__5);
      s += ", ";
      s += Dafny.Helpers.ToString(this.__6);
      s += ", ";
      s += Dafny.Helpers.ToString(this.__7);
      s += ", ";
      s += Dafny.Helpers.ToString(this.__8);
      s += ", ";
      s += Dafny.Helpers.ToString(this.__9);
      s += ", ";
      s += Dafny.Helpers.ToString(this.__10);
      s += ", ";
      s += Dafny.Helpers.ToString(this.__11);
      s += ", ";
      s += Dafny.Helpers.ToString(this.__12);
      s += ")";
      return s;
    }
    public static _System._ITuple13<T0, T1, T2, T3, T4, T5, T6, T7, T8, T9, T10, T11, T12> Default(T0 _default_T0, T1 _default_T1, T2 _default_T2, T3 _default_T3, T4 _default_T4, T5 _default_T5, T6 _default_T6, T7 _default_T7, T8 _default_T8, T9 _default_T9, T10 _default_T10, T11 _default_T11, T12 _default_T12) {
      return create(_default_T0, _default_T1, _default_T2, _default_T3, _default_T4, _default_T5, _default_T6, _default_T7, _default_T8, _default_T9, _default_T10, _default_T11, _default_T12);
    }
    public static Dafny.TypeDescriptor<_System._ITuple13<T0, T1, T2, T3, T4, T5, T6, T7, T8, T9, T10, T11, T12>> _TypeDescriptor(Dafny.TypeDescriptor<T0> _td_T0, Dafny.TypeDescriptor<T1> _td_T1, Dafny.TypeDescriptor<T2> _td_T2, Dafny.TypeDescriptor<T3> _td_T3, Dafny.TypeDescriptor<T4> _td_T4, Dafny.TypeDescriptor<T5> _td_T5, Dafny.TypeDescriptor<T6> _td_T6, Dafny.TypeDescriptor<T7> _td_T7, Dafny.TypeDescriptor<T8> _td_T8, Dafny.TypeDescriptor<T9> _td_T9, Dafny.TypeDescriptor<T10> _td_T10, Dafny.TypeDescriptor<T11> _td_T11, Dafny.TypeDescriptor<T12> _td_T12) {
      return new Dafny.TypeDescriptor<_System._ITuple13<T0, T1, T2, T3, T4, T5, T6, T7, T8, T9, T10, T11, T12>>(_System.Tuple13<T0, T1, T2, T3, T4, T5, T6, T7, T8, T9, T10, T11, T12>.Default(_td_T0.Default(), _td_T1.Default(), _td_T2.Default(), _td_T3.Default(), _td_T4.Default(), _td_T5.Default(), _td_T6.Default(), _td_T7.Default(), _td_T8.Default(), _td_T9.Default(), _td_T10.Default(), _td_T11.Default(), _td_T12.Default()));
    }
    public static _ITuple13<T0, T1, T2, T3, T4, T5, T6, T7, T8, T9, T10, T11, T12> create(T0 _0, T1 _1, T2 _2, T3 _3, T4 _4, T5 _5, T6 _6, T7 _7, T8 _8, T9 _9, T10 _10, T11 _11, T12 _12) {
      return new Tuple13<T0, T1, T2, T3, T4, T5, T6, T7, T8, T9, T10, T11, T12>(_0, _1, _2, _3, _4, _5, _6, _7, _8, _9, _10, _11, _12);
    }
    public static _ITuple13<T0, T1, T2, T3, T4, T5, T6, T7, T8, T9, T10, T11, T12> create____hMake13(T0 _0, T1 _1, T2 _2, T3 _3, T4 _4, T5 _5, T6 _6, T7 _7, T8 _8, T9 _9, T10 _10, T11 _11, T12 _12) {
      return create(_0, _1, _2, _3, _4, _5, _6, _7, _8, _9, _10, _11, _12);
    }
    public T0 dtor__0 {
      get {
        return this.__0;
      }
    }
    public T1 dtor__1 {
      get {
        return this.__1;
      }
    }
    public T2 dtor__2 {
      get {
        return this.__2;
      }
    }
    public T3 dtor__3 {
      get {
        return this.__3;
      }
    }
    public T4 dtor__4 {
      get {
        return this.__4;
      }
    }
    public T5 dtor__5 {
      get {
        return this.__5;
      }
    }
    public T6 dtor__6 {
      get {
        return this.__6;
      }
    }
    public T7 dtor__7 {
      get {
        return this.__7;
      }
    }
    public T8 dtor__8 {
      get {
        return this.__8;
      }
    }
    public T9 dtor__9 {
      get {
        return this.__9;
      }
    }
    public T10 dtor__10 {
      get {
        return this.__10;
      }
    }
    public T11 dtor__11 {
      get {
        return this.__11;
      }
    }
    public T12 dtor__12 {
      get {
        return this.__12;
      }
    }
  }

  public interface _ITuple14<out T0, out T1, out T2, out T3, out T4, out T5, out T6, out T7, out T8, out T9, out T10, out T11, out T12, out T13> {
    T0 dtor__0 { get; }
    T1 dtor__1 { get; }
    T2 dtor__2 { get; }
    T3 dtor__3 { get; }
    T4 dtor__4 { get; }
    T5 dtor__5 { get; }
    T6 dtor__6 { get; }
    T7 dtor__7 { get; }
    T8 dtor__8 { get; }
    T9 dtor__9 { get; }
    T10 dtor__10 { get; }
    T11 dtor__11 { get; }
    T12 dtor__12 { get; }
    T13 dtor__13 { get; }
    _ITuple14<__T0, __T1, __T2, __T3, __T4, __T5, __T6, __T7, __T8, __T9, __T10, __T11, __T12, __T13> DowncastClone<__T0, __T1, __T2, __T3, __T4, __T5, __T6, __T7, __T8, __T9, __T10, __T11, __T12, __T13>(Func<T0, __T0> converter0, Func<T1, __T1> converter1, Func<T2, __T2> converter2, Func<T3, __T3> converter3, Func<T4, __T4> converter4, Func<T5, __T5> converter5, Func<T6, __T6> converter6, Func<T7, __T7> converter7, Func<T8, __T8> converter8, Func<T9, __T9> converter9, Func<T10, __T10> converter10, Func<T11, __T11> converter11, Func<T12, __T12> converter12, Func<T13, __T13> converter13);
  }
  public class Tuple14<T0, T1, T2, T3, T4, T5, T6, T7, T8, T9, T10, T11, T12, T13> : _ITuple14<T0, T1, T2, T3, T4, T5, T6, T7, T8, T9, T10, T11, T12, T13> {
    public readonly T0 __0;
    public readonly T1 __1;
    public readonly T2 __2;
    public readonly T3 __3;
    public readonly T4 __4;
    public readonly T5 __5;
    public readonly T6 __6;
    public readonly T7 __7;
    public readonly T8 __8;
    public readonly T9 __9;
    public readonly T10 __10;
    public readonly T11 __11;
    public readonly T12 __12;
    public readonly T13 __13;
    public Tuple14(T0 _0, T1 _1, T2 _2, T3 _3, T4 _4, T5 _5, T6 _6, T7 _7, T8 _8, T9 _9, T10 _10, T11 _11, T12 _12, T13 _13) {
      this.__0 = _0;
      this.__1 = _1;
      this.__2 = _2;
      this.__3 = _3;
      this.__4 = _4;
      this.__5 = _5;
      this.__6 = _6;
      this.__7 = _7;
      this.__8 = _8;
      this.__9 = _9;
      this.__10 = _10;
      this.__11 = _11;
      this.__12 = _12;
      this.__13 = _13;
    }
    public _ITuple14<__T0, __T1, __T2, __T3, __T4, __T5, __T6, __T7, __T8, __T9, __T10, __T11, __T12, __T13> DowncastClone<__T0, __T1, __T2, __T3, __T4, __T5, __T6, __T7, __T8, __T9, __T10, __T11, __T12, __T13>(Func<T0, __T0> converter0, Func<T1, __T1> converter1, Func<T2, __T2> converter2, Func<T3, __T3> converter3, Func<T4, __T4> converter4, Func<T5, __T5> converter5, Func<T6, __T6> converter6, Func<T7, __T7> converter7, Func<T8, __T8> converter8, Func<T9, __T9> converter9, Func<T10, __T10> converter10, Func<T11, __T11> converter11, Func<T12, __T12> converter12, Func<T13, __T13> converter13) {
      if (this is _ITuple14<__T0, __T1, __T2, __T3, __T4, __T5, __T6, __T7, __T8, __T9, __T10, __T11, __T12, __T13> dt) { return dt; }
      return new Tuple14<__T0, __T1, __T2, __T3, __T4, __T5, __T6, __T7, __T8, __T9, __T10, __T11, __T12, __T13>(converter0(__0), converter1(__1), converter2(__2), converter3(__3), converter4(__4), converter5(__5), converter6(__6), converter7(__7), converter8(__8), converter9(__9), converter10(__10), converter11(__11), converter12(__12), converter13(__13));
    }
    public override bool Equals(object other) {
      var oth = other as _System.Tuple14<T0, T1, T2, T3, T4, T5, T6, T7, T8, T9, T10, T11, T12, T13>;
      return oth != null && object.Equals(this.__0, oth.__0) && object.Equals(this.__1, oth.__1) && object.Equals(this.__2, oth.__2) && object.Equals(this.__3, oth.__3) && object.Equals(this.__4, oth.__4) && object.Equals(this.__5, oth.__5) && object.Equals(this.__6, oth.__6) && object.Equals(this.__7, oth.__7) && object.Equals(this.__8, oth.__8) && object.Equals(this.__9, oth.__9) && object.Equals(this.__10, oth.__10) && object.Equals(this.__11, oth.__11) && object.Equals(this.__12, oth.__12) && object.Equals(this.__13, oth.__13);
    }
    public override int GetHashCode() {
      ulong hash = 5381;
      hash = ((hash << 5) + hash) + 0;
      hash = ((hash << 5) + hash) + ((ulong)Dafny.Helpers.GetHashCode(this.__0));
      hash = ((hash << 5) + hash) + ((ulong)Dafny.Helpers.GetHashCode(this.__1));
      hash = ((hash << 5) + hash) + ((ulong)Dafny.Helpers.GetHashCode(this.__2));
      hash = ((hash << 5) + hash) + ((ulong)Dafny.Helpers.GetHashCode(this.__3));
      hash = ((hash << 5) + hash) + ((ulong)Dafny.Helpers.GetHashCode(this.__4));
      hash = ((hash << 5) + hash) + ((ulong)Dafny.Helpers.GetHashCode(this.__5));
      hash = ((hash << 5) + hash) + ((ulong)Dafny.Helpers.GetHashCode(this.__6));
      hash = ((hash << 5) + hash) + ((ulong)Dafny.Helpers.GetHashCode(this.__7));
      hash = ((hash << 5) + hash) + ((ulong)Dafny.Helpers.GetHashCode(this.__8));
      hash = ((hash << 5) + hash) + ((ulong)Dafny.Helpers.GetHashCode(this.__9));
      hash = ((hash << 5) + hash) + ((ulong)Dafny.Helpers.GetHashCode(this.__10));
      hash = ((hash << 5) + hash) + ((ulong)Dafny.Helpers.GetHashCode(this.__11));
      hash = ((hash << 5) + hash) + ((ulong)Dafny.Helpers.GetHashCode(this.__12));
      hash = ((hash << 5) + hash) + ((ulong)Dafny.Helpers.GetHashCode(this.__13));
      return (int) hash;
    }
    public override string ToString() {
      string s = "";
      s += "(";
      s += Dafny.Helpers.ToString(this.__0);
      s += ", ";
      s += Dafny.Helpers.ToString(this.__1);
      s += ", ";
      s += Dafny.Helpers.ToString(this.__2);
      s += ", ";
      s += Dafny.Helpers.ToString(this.__3);
      s += ", ";
      s += Dafny.Helpers.ToString(this.__4);
      s += ", ";
      s += Dafny.Helpers.ToString(this.__5);
      s += ", ";
      s += Dafny.Helpers.ToString(this.__6);
      s += ", ";
      s += Dafny.Helpers.ToString(this.__7);
      s += ", ";
      s += Dafny.Helpers.ToString(this.__8);
      s += ", ";
      s += Dafny.Helpers.ToString(this.__9);
      s += ", ";
      s += Dafny.Helpers.ToString(this.__10);
      s += ", ";
      s += Dafny.Helpers.ToString(this.__11);
      s += ", ";
      s += Dafny.Helpers.ToString(this.__12);
      s += ", ";
      s += Dafny.Helpers.ToString(this.__13);
      s += ")";
      return s;
    }
    public static _System._ITuple14<T0, T1, T2, T3, T4, T5, T6, T7, T8, T9, T10, T11, T12, T13> Default(T0 _default_T0, T1 _default_T1, T2 _default_T2, T3 _default_T3, T4 _default_T4, T5 _default_T5, T6 _default_T6, T7 _default_T7, T8 _default_T8, T9 _default_T9, T10 _default_T10, T11 _default_T11, T12 _default_T12, T13 _default_T13) {
      return create(_default_T0, _default_T1, _default_T2, _default_T3, _default_T4, _default_T5, _default_T6, _default_T7, _default_T8, _default_T9, _default_T10, _default_T11, _default_T12, _default_T13);
    }
    public static Dafny.TypeDescriptor<_System._ITuple14<T0, T1, T2, T3, T4, T5, T6, T7, T8, T9, T10, T11, T12, T13>> _TypeDescriptor(Dafny.TypeDescriptor<T0> _td_T0, Dafny.TypeDescriptor<T1> _td_T1, Dafny.TypeDescriptor<T2> _td_T2, Dafny.TypeDescriptor<T3> _td_T3, Dafny.TypeDescriptor<T4> _td_T4, Dafny.TypeDescriptor<T5> _td_T5, Dafny.TypeDescriptor<T6> _td_T6, Dafny.TypeDescriptor<T7> _td_T7, Dafny.TypeDescriptor<T8> _td_T8, Dafny.TypeDescriptor<T9> _td_T9, Dafny.TypeDescriptor<T10> _td_T10, Dafny.TypeDescriptor<T11> _td_T11, Dafny.TypeDescriptor<T12> _td_T12, Dafny.TypeDescriptor<T13> _td_T13) {
      return new Dafny.TypeDescriptor<_System._ITuple14<T0, T1, T2, T3, T4, T5, T6, T7, T8, T9, T10, T11, T12, T13>>(_System.Tuple14<T0, T1, T2, T3, T4, T5, T6, T7, T8, T9, T10, T11, T12, T13>.Default(_td_T0.Default(), _td_T1.Default(), _td_T2.Default(), _td_T3.Default(), _td_T4.Default(), _td_T5.Default(), _td_T6.Default(), _td_T7.Default(), _td_T8.Default(), _td_T9.Default(), _td_T10.Default(), _td_T11.Default(), _td_T12.Default(), _td_T13.Default()));
    }
    public static _ITuple14<T0, T1, T2, T3, T4, T5, T6, T7, T8, T9, T10, T11, T12, T13> create(T0 _0, T1 _1, T2 _2, T3 _3, T4 _4, T5 _5, T6 _6, T7 _7, T8 _8, T9 _9, T10 _10, T11 _11, T12 _12, T13 _13) {
      return new Tuple14<T0, T1, T2, T3, T4, T5, T6, T7, T8, T9, T10, T11, T12, T13>(_0, _1, _2, _3, _4, _5, _6, _7, _8, _9, _10, _11, _12, _13);
    }
    public static _ITuple14<T0, T1, T2, T3, T4, T5, T6, T7, T8, T9, T10, T11, T12, T13> create____hMake14(T0 _0, T1 _1, T2 _2, T3 _3, T4 _4, T5 _5, T6 _6, T7 _7, T8 _8, T9 _9, T10 _10, T11 _11, T12 _12, T13 _13) {
      return create(_0, _1, _2, _3, _4, _5, _6, _7, _8, _9, _10, _11, _12, _13);
    }
    public T0 dtor__0 {
      get {
        return this.__0;
      }
    }
    public T1 dtor__1 {
      get {
        return this.__1;
      }
    }
    public T2 dtor__2 {
      get {
        return this.__2;
      }
    }
    public T3 dtor__3 {
      get {
        return this.__3;
      }
    }
    public T4 dtor__4 {
      get {
        return this.__4;
      }
    }
    public T5 dtor__5 {
      get {
        return this.__5;
      }
    }
    public T6 dtor__6 {
      get {
        return this.__6;
      }
    }
    public T7 dtor__7 {
      get {
        return this.__7;
      }
    }
    public T8 dtor__8 {
      get {
        return this.__8;
      }
    }
    public T9 dtor__9 {
      get {
        return this.__9;
      }
    }
    public T10 dtor__10 {
      get {
        return this.__10;
      }
    }
    public T11 dtor__11 {
      get {
        return this.__11;
      }
    }
    public T12 dtor__12 {
      get {
        return this.__12;
      }
    }
    public T13 dtor__13 {
      get {
        return this.__13;
      }
    }
  }

  public interface _ITuple15<out T0, out T1, out T2, out T3, out T4, out T5, out T6, out T7, out T8, out T9, out T10, out T11, out T12, out T13, out T14> {
    T0 dtor__0 { get; }
    T1 dtor__1 { get; }
    T2 dtor__2 { get; }
    T3 dtor__3 { get; }
    T4 dtor__4 { get; }
    T5 dtor__5 { get; }
    T6 dtor__6 { get; }
    T7 dtor__7 { get; }
    T8 dtor__8 { get; }
    T9 dtor__9 { get; }
    T10 dtor__10 { get; }
    T11 dtor__11 { get; }
    T12 dtor__12 { get; }
    T13 dtor__13 { get; }
    T14 dtor__14 { get; }
    _ITuple15<__T0, __T1, __T2, __T3, __T4, __T5, __T6, __T7, __T8, __T9, __T10, __T11, __T12, __T13, __T14> DowncastClone<__T0, __T1, __T2, __T3, __T4, __T5, __T6, __T7, __T8, __T9, __T10, __T11, __T12, __T13, __T14>(Func<T0, __T0> converter0, Func<T1, __T1> converter1, Func<T2, __T2> converter2, Func<T3, __T3> converter3, Func<T4, __T4> converter4, Func<T5, __T5> converter5, Func<T6, __T6> converter6, Func<T7, __T7> converter7, Func<T8, __T8> converter8, Func<T9, __T9> converter9, Func<T10, __T10> converter10, Func<T11, __T11> converter11, Func<T12, __T12> converter12, Func<T13, __T13> converter13, Func<T14, __T14> converter14);
  }
  public class Tuple15<T0, T1, T2, T3, T4, T5, T6, T7, T8, T9, T10, T11, T12, T13, T14> : _ITuple15<T0, T1, T2, T3, T4, T5, T6, T7, T8, T9, T10, T11, T12, T13, T14> {
    public readonly T0 __0;
    public readonly T1 __1;
    public readonly T2 __2;
    public readonly T3 __3;
    public readonly T4 __4;
    public readonly T5 __5;
    public readonly T6 __6;
    public readonly T7 __7;
    public readonly T8 __8;
    public readonly T9 __9;
    public readonly T10 __10;
    public readonly T11 __11;
    public readonly T12 __12;
    public readonly T13 __13;
    public readonly T14 __14;
    public Tuple15(T0 _0, T1 _1, T2 _2, T3 _3, T4 _4, T5 _5, T6 _6, T7 _7, T8 _8, T9 _9, T10 _10, T11 _11, T12 _12, T13 _13, T14 _14) {
      this.__0 = _0;
      this.__1 = _1;
      this.__2 = _2;
      this.__3 = _3;
      this.__4 = _4;
      this.__5 = _5;
      this.__6 = _6;
      this.__7 = _7;
      this.__8 = _8;
      this.__9 = _9;
      this.__10 = _10;
      this.__11 = _11;
      this.__12 = _12;
      this.__13 = _13;
      this.__14 = _14;
    }
    public _ITuple15<__T0, __T1, __T2, __T3, __T4, __T5, __T6, __T7, __T8, __T9, __T10, __T11, __T12, __T13, __T14> DowncastClone<__T0, __T1, __T2, __T3, __T4, __T5, __T6, __T7, __T8, __T9, __T10, __T11, __T12, __T13, __T14>(Func<T0, __T0> converter0, Func<T1, __T1> converter1, Func<T2, __T2> converter2, Func<T3, __T3> converter3, Func<T4, __T4> converter4, Func<T5, __T5> converter5, Func<T6, __T6> converter6, Func<T7, __T7> converter7, Func<T8, __T8> converter8, Func<T9, __T9> converter9, Func<T10, __T10> converter10, Func<T11, __T11> converter11, Func<T12, __T12> converter12, Func<T13, __T13> converter13, Func<T14, __T14> converter14) {
      if (this is _ITuple15<__T0, __T1, __T2, __T3, __T4, __T5, __T6, __T7, __T8, __T9, __T10, __T11, __T12, __T13, __T14> dt) { return dt; }
      return new Tuple15<__T0, __T1, __T2, __T3, __T4, __T5, __T6, __T7, __T8, __T9, __T10, __T11, __T12, __T13, __T14>(converter0(__0), converter1(__1), converter2(__2), converter3(__3), converter4(__4), converter5(__5), converter6(__6), converter7(__7), converter8(__8), converter9(__9), converter10(__10), converter11(__11), converter12(__12), converter13(__13), converter14(__14));
    }
    public override bool Equals(object other) {
      var oth = other as _System.Tuple15<T0, T1, T2, T3, T4, T5, T6, T7, T8, T9, T10, T11, T12, T13, T14>;
      return oth != null && object.Equals(this.__0, oth.__0) && object.Equals(this.__1, oth.__1) && object.Equals(this.__2, oth.__2) && object.Equals(this.__3, oth.__3) && object.Equals(this.__4, oth.__4) && object.Equals(this.__5, oth.__5) && object.Equals(this.__6, oth.__6) && object.Equals(this.__7, oth.__7) && object.Equals(this.__8, oth.__8) && object.Equals(this.__9, oth.__9) && object.Equals(this.__10, oth.__10) && object.Equals(this.__11, oth.__11) && object.Equals(this.__12, oth.__12) && object.Equals(this.__13, oth.__13) && object.Equals(this.__14, oth.__14);
    }
    public override int GetHashCode() {
      ulong hash = 5381;
      hash = ((hash << 5) + hash) + 0;
      hash = ((hash << 5) + hash) + ((ulong)Dafny.Helpers.GetHashCode(this.__0));
      hash = ((hash << 5) + hash) + ((ulong)Dafny.Helpers.GetHashCode(this.__1));
      hash = ((hash << 5) + hash) + ((ulong)Dafny.Helpers.GetHashCode(this.__2));
      hash = ((hash << 5) + hash) + ((ulong)Dafny.Helpers.GetHashCode(this.__3));
      hash = ((hash << 5) + hash) + ((ulong)Dafny.Helpers.GetHashCode(this.__4));
      hash = ((hash << 5) + hash) + ((ulong)Dafny.Helpers.GetHashCode(this.__5));
      hash = ((hash << 5) + hash) + ((ulong)Dafny.Helpers.GetHashCode(this.__6));
      hash = ((hash << 5) + hash) + ((ulong)Dafny.Helpers.GetHashCode(this.__7));
      hash = ((hash << 5) + hash) + ((ulong)Dafny.Helpers.GetHashCode(this.__8));
      hash = ((hash << 5) + hash) + ((ulong)Dafny.Helpers.GetHashCode(this.__9));
      hash = ((hash << 5) + hash) + ((ulong)Dafny.Helpers.GetHashCode(this.__10));
      hash = ((hash << 5) + hash) + ((ulong)Dafny.Helpers.GetHashCode(this.__11));
      hash = ((hash << 5) + hash) + ((ulong)Dafny.Helpers.GetHashCode(this.__12));
      hash = ((hash << 5) + hash) + ((ulong)Dafny.Helpers.GetHashCode(this.__13));
      hash = ((hash << 5) + hash) + ((ulong)Dafny.Helpers.GetHashCode(this.__14));
      return (int) hash;
    }
    public override string ToString() {
      string s = "";
      s += "(";
      s += Dafny.Helpers.ToString(this.__0);
      s += ", ";
      s += Dafny.Helpers.ToString(this.__1);
      s += ", ";
      s += Dafny.Helpers.ToString(this.__2);
      s += ", ";
      s += Dafny.Helpers.ToString(this.__3);
      s += ", ";
      s += Dafny.Helpers.ToString(this.__4);
      s += ", ";
      s += Dafny.Helpers.ToString(this.__5);
      s += ", ";
      s += Dafny.Helpers.ToString(this.__6);
      s += ", ";
      s += Dafny.Helpers.ToString(this.__7);
      s += ", ";
      s += Dafny.Helpers.ToString(this.__8);
      s += ", ";
      s += Dafny.Helpers.ToString(this.__9);
      s += ", ";
      s += Dafny.Helpers.ToString(this.__10);
      s += ", ";
      s += Dafny.Helpers.ToString(this.__11);
      s += ", ";
      s += Dafny.Helpers.ToString(this.__12);
      s += ", ";
      s += Dafny.Helpers.ToString(this.__13);
      s += ", ";
      s += Dafny.Helpers.ToString(this.__14);
      s += ")";
      return s;
    }
    public static _System._ITuple15<T0, T1, T2, T3, T4, T5, T6, T7, T8, T9, T10, T11, T12, T13, T14> Default(T0 _default_T0, T1 _default_T1, T2 _default_T2, T3 _default_T3, T4 _default_T4, T5 _default_T5, T6 _default_T6, T7 _default_T7, T8 _default_T8, T9 _default_T9, T10 _default_T10, T11 _default_T11, T12 _default_T12, T13 _default_T13, T14 _default_T14) {
      return create(_default_T0, _default_T1, _default_T2, _default_T3, _default_T4, _default_T5, _default_T6, _default_T7, _default_T8, _default_T9, _default_T10, _default_T11, _default_T12, _default_T13, _default_T14);
    }
    public static Dafny.TypeDescriptor<_System._ITuple15<T0, T1, T2, T3, T4, T5, T6, T7, T8, T9, T10, T11, T12, T13, T14>> _TypeDescriptor(Dafny.TypeDescriptor<T0> _td_T0, Dafny.TypeDescriptor<T1> _td_T1, Dafny.TypeDescriptor<T2> _td_T2, Dafny.TypeDescriptor<T3> _td_T3, Dafny.TypeDescriptor<T4> _td_T4, Dafny.TypeDescriptor<T5> _td_T5, Dafny.TypeDescriptor<T6> _td_T6, Dafny.TypeDescriptor<T7> _td_T7, Dafny.TypeDescriptor<T8> _td_T8, Dafny.TypeDescriptor<T9> _td_T9, Dafny.TypeDescriptor<T10> _td_T10, Dafny.TypeDescriptor<T11> _td_T11, Dafny.TypeDescriptor<T12> _td_T12, Dafny.TypeDescriptor<T13> _td_T13, Dafny.TypeDescriptor<T14> _td_T14) {
      return new Dafny.TypeDescriptor<_System._ITuple15<T0, T1, T2, T3, T4, T5, T6, T7, T8, T9, T10, T11, T12, T13, T14>>(_System.Tuple15<T0, T1, T2, T3, T4, T5, T6, T7, T8, T9, T10, T11, T12, T13, T14>.Default(_td_T0.Default(), _td_T1.Default(), _td_T2.Default(), _td_T3.Default(), _td_T4.Default(), _td_T5.Default(), _td_T6.Default(), _td_T7.Default(), _td_T8.Default(), _td_T9.Default(), _td_T10.Default(), _td_T11.Default(), _td_T12.Default(), _td_T13.Default(), _td_T14.Default()));
    }
    public static _ITuple15<T0, T1, T2, T3, T4, T5, T6, T7, T8, T9, T10, T11, T12, T13, T14> create(T0 _0, T1 _1, T2 _2, T3 _3, T4 _4, T5 _5, T6 _6, T7 _7, T8 _8, T9 _9, T10 _10, T11 _11, T12 _12, T13 _13, T14 _14) {
      return new Tuple15<T0, T1, T2, T3, T4, T5, T6, T7, T8, T9, T10, T11, T12, T13, T14>(_0, _1, _2, _3, _4, _5, _6, _7, _8, _9, _10, _11, _12, _13, _14);
    }
    public static _ITuple15<T0, T1, T2, T3, T4, T5, T6, T7, T8, T9, T10, T11, T12, T13, T14> create____hMake15(T0 _0, T1 _1, T2 _2, T3 _3, T4 _4, T5 _5, T6 _6, T7 _7, T8 _8, T9 _9, T10 _10, T11 _11, T12 _12, T13 _13, T14 _14) {
      return create(_0, _1, _2, _3, _4, _5, _6, _7, _8, _9, _10, _11, _12, _13, _14);
    }
    public T0 dtor__0 {
      get {
        return this.__0;
      }
    }
    public T1 dtor__1 {
      get {
        return this.__1;
      }
    }
    public T2 dtor__2 {
      get {
        return this.__2;
      }
    }
    public T3 dtor__3 {
      get {
        return this.__3;
      }
    }
    public T4 dtor__4 {
      get {
        return this.__4;
      }
    }
    public T5 dtor__5 {
      get {
        return this.__5;
      }
    }
    public T6 dtor__6 {
      get {
        return this.__6;
      }
    }
    public T7 dtor__7 {
      get {
        return this.__7;
      }
    }
    public T8 dtor__8 {
      get {
        return this.__8;
      }
    }
    public T9 dtor__9 {
      get {
        return this.__9;
      }
    }
    public T10 dtor__10 {
      get {
        return this.__10;
      }
    }
    public T11 dtor__11 {
      get {
        return this.__11;
      }
    }
    public T12 dtor__12 {
      get {
        return this.__12;
      }
    }
    public T13 dtor__13 {
      get {
        return this.__13;
      }
    }
    public T14 dtor__14 {
      get {
        return this.__14;
      }
    }
  }

  public interface _ITuple16<out T0, out T1, out T2, out T3, out T4, out T5, out T6, out T7, out T8, out T9, out T10, out T11, out T12, out T13, out T14, out T15> {
    T0 dtor__0 { get; }
    T1 dtor__1 { get; }
    T2 dtor__2 { get; }
    T3 dtor__3 { get; }
    T4 dtor__4 { get; }
    T5 dtor__5 { get; }
    T6 dtor__6 { get; }
    T7 dtor__7 { get; }
    T8 dtor__8 { get; }
    T9 dtor__9 { get; }
    T10 dtor__10 { get; }
    T11 dtor__11 { get; }
    T12 dtor__12 { get; }
    T13 dtor__13 { get; }
    T14 dtor__14 { get; }
    T15 dtor__15 { get; }
    _ITuple16<__T0, __T1, __T2, __T3, __T4, __T5, __T6, __T7, __T8, __T9, __T10, __T11, __T12, __T13, __T14, __T15> DowncastClone<__T0, __T1, __T2, __T3, __T4, __T5, __T6, __T7, __T8, __T9, __T10, __T11, __T12, __T13, __T14, __T15>(Func<T0, __T0> converter0, Func<T1, __T1> converter1, Func<T2, __T2> converter2, Func<T3, __T3> converter3, Func<T4, __T4> converter4, Func<T5, __T5> converter5, Func<T6, __T6> converter6, Func<T7, __T7> converter7, Func<T8, __T8> converter8, Func<T9, __T9> converter9, Func<T10, __T10> converter10, Func<T11, __T11> converter11, Func<T12, __T12> converter12, Func<T13, __T13> converter13, Func<T14, __T14> converter14, Func<T15, __T15> converter15);
  }
  public class Tuple16<T0, T1, T2, T3, T4, T5, T6, T7, T8, T9, T10, T11, T12, T13, T14, T15> : _ITuple16<T0, T1, T2, T3, T4, T5, T6, T7, T8, T9, T10, T11, T12, T13, T14, T15> {
    public readonly T0 __0;
    public readonly T1 __1;
    public readonly T2 __2;
    public readonly T3 __3;
    public readonly T4 __4;
    public readonly T5 __5;
    public readonly T6 __6;
    public readonly T7 __7;
    public readonly T8 __8;
    public readonly T9 __9;
    public readonly T10 __10;
    public readonly T11 __11;
    public readonly T12 __12;
    public readonly T13 __13;
    public readonly T14 __14;
    public readonly T15 __15;
    public Tuple16(T0 _0, T1 _1, T2 _2, T3 _3, T4 _4, T5 _5, T6 _6, T7 _7, T8 _8, T9 _9, T10 _10, T11 _11, T12 _12, T13 _13, T14 _14, T15 _15) {
      this.__0 = _0;
      this.__1 = _1;
      this.__2 = _2;
      this.__3 = _3;
      this.__4 = _4;
      this.__5 = _5;
      this.__6 = _6;
      this.__7 = _7;
      this.__8 = _8;
      this.__9 = _9;
      this.__10 = _10;
      this.__11 = _11;
      this.__12 = _12;
      this.__13 = _13;
      this.__14 = _14;
      this.__15 = _15;
    }
    public _ITuple16<__T0, __T1, __T2, __T3, __T4, __T5, __T6, __T7, __T8, __T9, __T10, __T11, __T12, __T13, __T14, __T15> DowncastClone<__T0, __T1, __T2, __T3, __T4, __T5, __T6, __T7, __T8, __T9, __T10, __T11, __T12, __T13, __T14, __T15>(Func<T0, __T0> converter0, Func<T1, __T1> converter1, Func<T2, __T2> converter2, Func<T3, __T3> converter3, Func<T4, __T4> converter4, Func<T5, __T5> converter5, Func<T6, __T6> converter6, Func<T7, __T7> converter7, Func<T8, __T8> converter8, Func<T9, __T9> converter9, Func<T10, __T10> converter10, Func<T11, __T11> converter11, Func<T12, __T12> converter12, Func<T13, __T13> converter13, Func<T14, __T14> converter14, Func<T15, __T15> converter15) {
      if (this is _ITuple16<__T0, __T1, __T2, __T3, __T4, __T5, __T6, __T7, __T8, __T9, __T10, __T11, __T12, __T13, __T14, __T15> dt) { return dt; }
      return new Tuple16<__T0, __T1, __T2, __T3, __T4, __T5, __T6, __T7, __T8, __T9, __T10, __T11, __T12, __T13, __T14, __T15>(converter0(__0), converter1(__1), converter2(__2), converter3(__3), converter4(__4), converter5(__5), converter6(__6), converter7(__7), converter8(__8), converter9(__9), converter10(__10), converter11(__11), converter12(__12), converter13(__13), converter14(__14), converter15(__15));
    }
    public override bool Equals(object other) {
      var oth = other as _System.Tuple16<T0, T1, T2, T3, T4, T5, T6, T7, T8, T9, T10, T11, T12, T13, T14, T15>;
      return oth != null && object.Equals(this.__0, oth.__0) && object.Equals(this.__1, oth.__1) && object.Equals(this.__2, oth.__2) && object.Equals(this.__3, oth.__3) && object.Equals(this.__4, oth.__4) && object.Equals(this.__5, oth.__5) && object.Equals(this.__6, oth.__6) && object.Equals(this.__7, oth.__7) && object.Equals(this.__8, oth.__8) && object.Equals(this.__9, oth.__9) && object.Equals(this.__10, oth.__10) && object.Equals(this.__11, oth.__11) && object.Equals(this.__12, oth.__12) && object.Equals(this.__13, oth.__13) && object.Equals(this.__14, oth.__14) && object.Equals(this.__15, oth.__15);
    }
    public override int GetHashCode() {
      ulong hash = 5381;
      hash = ((hash << 5) + hash) + 0;
      hash = ((hash << 5) + hash) + ((ulong)Dafny.Helpers.GetHashCode(this.__0));
      hash = ((hash << 5) + hash) + ((ulong)Dafny.Helpers.GetHashCode(this.__1));
      hash = ((hash << 5) + hash) + ((ulong)Dafny.Helpers.GetHashCode(this.__2));
      hash = ((hash << 5) + hash) + ((ulong)Dafny.Helpers.GetHashCode(this.__3));
      hash = ((hash << 5) + hash) + ((ulong)Dafny.Helpers.GetHashCode(this.__4));
      hash = ((hash << 5) + hash) + ((ulong)Dafny.Helpers.GetHashCode(this.__5));
      hash = ((hash << 5) + hash) + ((ulong)Dafny.Helpers.GetHashCode(this.__6));
      hash = ((hash << 5) + hash) + ((ulong)Dafny.Helpers.GetHashCode(this.__7));
      hash = ((hash << 5) + hash) + ((ulong)Dafny.Helpers.GetHashCode(this.__8));
      hash = ((hash << 5) + hash) + ((ulong)Dafny.Helpers.GetHashCode(this.__9));
      hash = ((hash << 5) + hash) + ((ulong)Dafny.Helpers.GetHashCode(this.__10));
      hash = ((hash << 5) + hash) + ((ulong)Dafny.Helpers.GetHashCode(this.__11));
      hash = ((hash << 5) + hash) + ((ulong)Dafny.Helpers.GetHashCode(this.__12));
      hash = ((hash << 5) + hash) + ((ulong)Dafny.Helpers.GetHashCode(this.__13));
      hash = ((hash << 5) + hash) + ((ulong)Dafny.Helpers.GetHashCode(this.__14));
      hash = ((hash << 5) + hash) + ((ulong)Dafny.Helpers.GetHashCode(this.__15));
      return (int) hash;
    }
    public override string ToString() {
      string s = "";
      s += "(";
      s += Dafny.Helpers.ToString(this.__0);
      s += ", ";
      s += Dafny.Helpers.ToString(this.__1);
      s += ", ";
      s += Dafny.Helpers.ToString(this.__2);
      s += ", ";
      s += Dafny.Helpers.ToString(this.__3);
      s += ", ";
      s += Dafny.Helpers.ToString(this.__4);
      s += ", ";
      s += Dafny.Helpers.ToString(this.__5);
      s += ", ";
      s += Dafny.Helpers.ToString(this.__6);
      s += ", ";
      s += Dafny.Helpers.ToString(this.__7);
      s += ", ";
      s += Dafny.Helpers.ToString(this.__8);
      s += ", ";
      s += Dafny.Helpers.ToString(this.__9);
      s += ", ";
      s += Dafny.Helpers.ToString(this.__10);
      s += ", ";
      s += Dafny.Helpers.ToString(this.__11);
      s += ", ";
      s += Dafny.Helpers.ToString(this.__12);
      s += ", ";
      s += Dafny.Helpers.ToString(this.__13);
      s += ", ";
      s += Dafny.Helpers.ToString(this.__14);
      s += ", ";
      s += Dafny.Helpers.ToString(this.__15);
      s += ")";
      return s;
    }
    public static _System._ITuple16<T0, T1, T2, T3, T4, T5, T6, T7, T8, T9, T10, T11, T12, T13, T14, T15> Default(T0 _default_T0, T1 _default_T1, T2 _default_T2, T3 _default_T3, T4 _default_T4, T5 _default_T5, T6 _default_T6, T7 _default_T7, T8 _default_T8, T9 _default_T9, T10 _default_T10, T11 _default_T11, T12 _default_T12, T13 _default_T13, T14 _default_T14, T15 _default_T15) {
      return create(_default_T0, _default_T1, _default_T2, _default_T3, _default_T4, _default_T5, _default_T6, _default_T7, _default_T8, _default_T9, _default_T10, _default_T11, _default_T12, _default_T13, _default_T14, _default_T15);
    }
    public static Dafny.TypeDescriptor<_System._ITuple16<T0, T1, T2, T3, T4, T5, T6, T7, T8, T9, T10, T11, T12, T13, T14, T15>> _TypeDescriptor(Dafny.TypeDescriptor<T0> _td_T0, Dafny.TypeDescriptor<T1> _td_T1, Dafny.TypeDescriptor<T2> _td_T2, Dafny.TypeDescriptor<T3> _td_T3, Dafny.TypeDescriptor<T4> _td_T4, Dafny.TypeDescriptor<T5> _td_T5, Dafny.TypeDescriptor<T6> _td_T6, Dafny.TypeDescriptor<T7> _td_T7, Dafny.TypeDescriptor<T8> _td_T8, Dafny.TypeDescriptor<T9> _td_T9, Dafny.TypeDescriptor<T10> _td_T10, Dafny.TypeDescriptor<T11> _td_T11, Dafny.TypeDescriptor<T12> _td_T12, Dafny.TypeDescriptor<T13> _td_T13, Dafny.TypeDescriptor<T14> _td_T14, Dafny.TypeDescriptor<T15> _td_T15) {
      return new Dafny.TypeDescriptor<_System._ITuple16<T0, T1, T2, T3, T4, T5, T6, T7, T8, T9, T10, T11, T12, T13, T14, T15>>(_System.Tuple16<T0, T1, T2, T3, T4, T5, T6, T7, T8, T9, T10, T11, T12, T13, T14, T15>.Default(_td_T0.Default(), _td_T1.Default(), _td_T2.Default(), _td_T3.Default(), _td_T4.Default(), _td_T5.Default(), _td_T6.Default(), _td_T7.Default(), _td_T8.Default(), _td_T9.Default(), _td_T10.Default(), _td_T11.Default(), _td_T12.Default(), _td_T13.Default(), _td_T14.Default(), _td_T15.Default()));
    }
    public static _ITuple16<T0, T1, T2, T3, T4, T5, T6, T7, T8, T9, T10, T11, T12, T13, T14, T15> create(T0 _0, T1 _1, T2 _2, T3 _3, T4 _4, T5 _5, T6 _6, T7 _7, T8 _8, T9 _9, T10 _10, T11 _11, T12 _12, T13 _13, T14 _14, T15 _15) {
      return new Tuple16<T0, T1, T2, T3, T4, T5, T6, T7, T8, T9, T10, T11, T12, T13, T14, T15>(_0, _1, _2, _3, _4, _5, _6, _7, _8, _9, _10, _11, _12, _13, _14, _15);
    }
    public static _ITuple16<T0, T1, T2, T3, T4, T5, T6, T7, T8, T9, T10, T11, T12, T13, T14, T15> create____hMake16(T0 _0, T1 _1, T2 _2, T3 _3, T4 _4, T5 _5, T6 _6, T7 _7, T8 _8, T9 _9, T10 _10, T11 _11, T12 _12, T13 _13, T14 _14, T15 _15) {
      return create(_0, _1, _2, _3, _4, _5, _6, _7, _8, _9, _10, _11, _12, _13, _14, _15);
    }
    public T0 dtor__0 {
      get {
        return this.__0;
      }
    }
    public T1 dtor__1 {
      get {
        return this.__1;
      }
    }
    public T2 dtor__2 {
      get {
        return this.__2;
      }
    }
    public T3 dtor__3 {
      get {
        return this.__3;
      }
    }
    public T4 dtor__4 {
      get {
        return this.__4;
      }
    }
    public T5 dtor__5 {
      get {
        return this.__5;
      }
    }
    public T6 dtor__6 {
      get {
        return this.__6;
      }
    }
    public T7 dtor__7 {
      get {
        return this.__7;
      }
    }
    public T8 dtor__8 {
      get {
        return this.__8;
      }
    }
    public T9 dtor__9 {
      get {
        return this.__9;
      }
    }
    public T10 dtor__10 {
      get {
        return this.__10;
      }
    }
    public T11 dtor__11 {
      get {
        return this.__11;
      }
    }
    public T12 dtor__12 {
      get {
        return this.__12;
      }
    }
    public T13 dtor__13 {
      get {
        return this.__13;
      }
    }
    public T14 dtor__14 {
      get {
        return this.__14;
      }
    }
    public T15 dtor__15 {
      get {
        return this.__15;
      }
    }
  }

  public interface _ITuple17<out T0, out T1, out T2, out T3, out T4, out T5, out T6, out T7, out T8, out T9, out T10, out T11, out T12, out T13, out T14, out T15, out T16> {
    T0 dtor__0 { get; }
    T1 dtor__1 { get; }
    T2 dtor__2 { get; }
    T3 dtor__3 { get; }
    T4 dtor__4 { get; }
    T5 dtor__5 { get; }
    T6 dtor__6 { get; }
    T7 dtor__7 { get; }
    T8 dtor__8 { get; }
    T9 dtor__9 { get; }
    T10 dtor__10 { get; }
    T11 dtor__11 { get; }
    T12 dtor__12 { get; }
    T13 dtor__13 { get; }
    T14 dtor__14 { get; }
    T15 dtor__15 { get; }
    T16 dtor__16 { get; }
    _ITuple17<__T0, __T1, __T2, __T3, __T4, __T5, __T6, __T7, __T8, __T9, __T10, __T11, __T12, __T13, __T14, __T15, __T16> DowncastClone<__T0, __T1, __T2, __T3, __T4, __T5, __T6, __T7, __T8, __T9, __T10, __T11, __T12, __T13, __T14, __T15, __T16>(Func<T0, __T0> converter0, Func<T1, __T1> converter1, Func<T2, __T2> converter2, Func<T3, __T3> converter3, Func<T4, __T4> converter4, Func<T5, __T5> converter5, Func<T6, __T6> converter6, Func<T7, __T7> converter7, Func<T8, __T8> converter8, Func<T9, __T9> converter9, Func<T10, __T10> converter10, Func<T11, __T11> converter11, Func<T12, __T12> converter12, Func<T13, __T13> converter13, Func<T14, __T14> converter14, Func<T15, __T15> converter15, Func<T16, __T16> converter16);
  }
  public class Tuple17<T0, T1, T2, T3, T4, T5, T6, T7, T8, T9, T10, T11, T12, T13, T14, T15, T16> : _ITuple17<T0, T1, T2, T3, T4, T5, T6, T7, T8, T9, T10, T11, T12, T13, T14, T15, T16> {
    public readonly T0 __0;
    public readonly T1 __1;
    public readonly T2 __2;
    public readonly T3 __3;
    public readonly T4 __4;
    public readonly T5 __5;
    public readonly T6 __6;
    public readonly T7 __7;
    public readonly T8 __8;
    public readonly T9 __9;
    public readonly T10 __10;
    public readonly T11 __11;
    public readonly T12 __12;
    public readonly T13 __13;
    public readonly T14 __14;
    public readonly T15 __15;
    public readonly T16 __16;
    public Tuple17(T0 _0, T1 _1, T2 _2, T3 _3, T4 _4, T5 _5, T6 _6, T7 _7, T8 _8, T9 _9, T10 _10, T11 _11, T12 _12, T13 _13, T14 _14, T15 _15, T16 _16) {
      this.__0 = _0;
      this.__1 = _1;
      this.__2 = _2;
      this.__3 = _3;
      this.__4 = _4;
      this.__5 = _5;
      this.__6 = _6;
      this.__7 = _7;
      this.__8 = _8;
      this.__9 = _9;
      this.__10 = _10;
      this.__11 = _11;
      this.__12 = _12;
      this.__13 = _13;
      this.__14 = _14;
      this.__15 = _15;
      this.__16 = _16;
    }
    public _ITuple17<__T0, __T1, __T2, __T3, __T4, __T5, __T6, __T7, __T8, __T9, __T10, __T11, __T12, __T13, __T14, __T15, __T16> DowncastClone<__T0, __T1, __T2, __T3, __T4, __T5, __T6, __T7, __T8, __T9, __T10, __T11, __T12, __T13, __T14, __T15, __T16>(Func<T0, __T0> converter0, Func<T1, __T1> converter1, Func<T2, __T2> converter2, Func<T3, __T3> converter3, Func<T4, __T4> converter4, Func<T5, __T5> converter5, Func<T6, __T6> converter6, Func<T7, __T7> converter7, Func<T8, __T8> converter8, Func<T9, __T9> converter9, Func<T10, __T10> converter10, Func<T11, __T11> converter11, Func<T12, __T12> converter12, Func<T13, __T13> converter13, Func<T14, __T14> converter14, Func<T15, __T15> converter15, Func<T16, __T16> converter16) {
      if (this is _ITuple17<__T0, __T1, __T2, __T3, __T4, __T5, __T6, __T7, __T8, __T9, __T10, __T11, __T12, __T13, __T14, __T15, __T16> dt) { return dt; }
      return new Tuple17<__T0, __T1, __T2, __T3, __T4, __T5, __T6, __T7, __T8, __T9, __T10, __T11, __T12, __T13, __T14, __T15, __T16>(converter0(__0), converter1(__1), converter2(__2), converter3(__3), converter4(__4), converter5(__5), converter6(__6), converter7(__7), converter8(__8), converter9(__9), converter10(__10), converter11(__11), converter12(__12), converter13(__13), converter14(__14), converter15(__15), converter16(__16));
    }
    public override bool Equals(object other) {
      var oth = other as _System.Tuple17<T0, T1, T2, T3, T4, T5, T6, T7, T8, T9, T10, T11, T12, T13, T14, T15, T16>;
      return oth != null && object.Equals(this.__0, oth.__0) && object.Equals(this.__1, oth.__1) && object.Equals(this.__2, oth.__2) && object.Equals(this.__3, oth.__3) && object.Equals(this.__4, oth.__4) && object.Equals(this.__5, oth.__5) && object.Equals(this.__6, oth.__6) && object.Equals(this.__7, oth.__7) && object.Equals(this.__8, oth.__8) && object.Equals(this.__9, oth.__9) && object.Equals(this.__10, oth.__10) && object.Equals(this.__11, oth.__11) && object.Equals(this.__12, oth.__12) && object.Equals(this.__13, oth.__13) && object.Equals(this.__14, oth.__14) && object.Equals(this.__15, oth.__15) && object.Equals(this.__16, oth.__16);
    }
    public override int GetHashCode() {
      ulong hash = 5381;
      hash = ((hash << 5) + hash) + 0;
      hash = ((hash << 5) + hash) + ((ulong)Dafny.Helpers.GetHashCode(this.__0));
      hash = ((hash << 5) + hash) + ((ulong)Dafny.Helpers.GetHashCode(this.__1));
      hash = ((hash << 5) + hash) + ((ulong)Dafny.Helpers.GetHashCode(this.__2));
      hash = ((hash << 5) + hash) + ((ulong)Dafny.Helpers.GetHashCode(this.__3));
      hash = ((hash << 5) + hash) + ((ulong)Dafny.Helpers.GetHashCode(this.__4));
      hash = ((hash << 5) + hash) + ((ulong)Dafny.Helpers.GetHashCode(this.__5));
      hash = ((hash << 5) + hash) + ((ulong)Dafny.Helpers.GetHashCode(this.__6));
      hash = ((hash << 5) + hash) + ((ulong)Dafny.Helpers.GetHashCode(this.__7));
      hash = ((hash << 5) + hash) + ((ulong)Dafny.Helpers.GetHashCode(this.__8));
      hash = ((hash << 5) + hash) + ((ulong)Dafny.Helpers.GetHashCode(this.__9));
      hash = ((hash << 5) + hash) + ((ulong)Dafny.Helpers.GetHashCode(this.__10));
      hash = ((hash << 5) + hash) + ((ulong)Dafny.Helpers.GetHashCode(this.__11));
      hash = ((hash << 5) + hash) + ((ulong)Dafny.Helpers.GetHashCode(this.__12));
      hash = ((hash << 5) + hash) + ((ulong)Dafny.Helpers.GetHashCode(this.__13));
      hash = ((hash << 5) + hash) + ((ulong)Dafny.Helpers.GetHashCode(this.__14));
      hash = ((hash << 5) + hash) + ((ulong)Dafny.Helpers.GetHashCode(this.__15));
      hash = ((hash << 5) + hash) + ((ulong)Dafny.Helpers.GetHashCode(this.__16));
      return (int) hash;
    }
    public override string ToString() {
      string s = "";
      s += "(";
      s += Dafny.Helpers.ToString(this.__0);
      s += ", ";
      s += Dafny.Helpers.ToString(this.__1);
      s += ", ";
      s += Dafny.Helpers.ToString(this.__2);
      s += ", ";
      s += Dafny.Helpers.ToString(this.__3);
      s += ", ";
      s += Dafny.Helpers.ToString(this.__4);
      s += ", ";
      s += Dafny.Helpers.ToString(this.__5);
      s += ", ";
      s += Dafny.Helpers.ToString(this.__6);
      s += ", ";
      s += Dafny.Helpers.ToString(this.__7);
      s += ", ";
      s += Dafny.Helpers.ToString(this.__8);
      s += ", ";
      s += Dafny.Helpers.ToString(this.__9);
      s += ", ";
      s += Dafny.Helpers.ToString(this.__10);
      s += ", ";
      s += Dafny.Helpers.ToString(this.__11);
      s += ", ";
      s += Dafny.Helpers.ToString(this.__12);
      s += ", ";
      s += Dafny.Helpers.ToString(this.__13);
      s += ", ";
      s += Dafny.Helpers.ToString(this.__14);
      s += ", ";
      s += Dafny.Helpers.ToString(this.__15);
      s += ", ";
      s += Dafny.Helpers.ToString(this.__16);
      s += ")";
      return s;
    }
    public static _System._ITuple17<T0, T1, T2, T3, T4, T5, T6, T7, T8, T9, T10, T11, T12, T13, T14, T15, T16> Default(T0 _default_T0, T1 _default_T1, T2 _default_T2, T3 _default_T3, T4 _default_T4, T5 _default_T5, T6 _default_T6, T7 _default_T7, T8 _default_T8, T9 _default_T9, T10 _default_T10, T11 _default_T11, T12 _default_T12, T13 _default_T13, T14 _default_T14, T15 _default_T15, T16 _default_T16) {
      return create(_default_T0, _default_T1, _default_T2, _default_T3, _default_T4, _default_T5, _default_T6, _default_T7, _default_T8, _default_T9, _default_T10, _default_T11, _default_T12, _default_T13, _default_T14, _default_T15, _default_T16);
    }
    public static Dafny.TypeDescriptor<_System._ITuple17<T0, T1, T2, T3, T4, T5, T6, T7, T8, T9, T10, T11, T12, T13, T14, T15, T16>> _TypeDescriptor(Dafny.TypeDescriptor<T0> _td_T0, Dafny.TypeDescriptor<T1> _td_T1, Dafny.TypeDescriptor<T2> _td_T2, Dafny.TypeDescriptor<T3> _td_T3, Dafny.TypeDescriptor<T4> _td_T4, Dafny.TypeDescriptor<T5> _td_T5, Dafny.TypeDescriptor<T6> _td_T6, Dafny.TypeDescriptor<T7> _td_T7, Dafny.TypeDescriptor<T8> _td_T8, Dafny.TypeDescriptor<T9> _td_T9, Dafny.TypeDescriptor<T10> _td_T10, Dafny.TypeDescriptor<T11> _td_T11, Dafny.TypeDescriptor<T12> _td_T12, Dafny.TypeDescriptor<T13> _td_T13, Dafny.TypeDescriptor<T14> _td_T14, Dafny.TypeDescriptor<T15> _td_T15, Dafny.TypeDescriptor<T16> _td_T16) {
      return new Dafny.TypeDescriptor<_System._ITuple17<T0, T1, T2, T3, T4, T5, T6, T7, T8, T9, T10, T11, T12, T13, T14, T15, T16>>(_System.Tuple17<T0, T1, T2, T3, T4, T5, T6, T7, T8, T9, T10, T11, T12, T13, T14, T15, T16>.Default(_td_T0.Default(), _td_T1.Default(), _td_T2.Default(), _td_T3.Default(), _td_T4.Default(), _td_T5.Default(), _td_T6.Default(), _td_T7.Default(), _td_T8.Default(), _td_T9.Default(), _td_T10.Default(), _td_T11.Default(), _td_T12.Default(), _td_T13.Default(), _td_T14.Default(), _td_T15.Default(), _td_T16.Default()));
    }
    public static _ITuple17<T0, T1, T2, T3, T4, T5, T6, T7, T8, T9, T10, T11, T12, T13, T14, T15, T16> create(T0 _0, T1 _1, T2 _2, T3 _3, T4 _4, T5 _5, T6 _6, T7 _7, T8 _8, T9 _9, T10 _10, T11 _11, T12 _12, T13 _13, T14 _14, T15 _15, T16 _16) {
      return new Tuple17<T0, T1, T2, T3, T4, T5, T6, T7, T8, T9, T10, T11, T12, T13, T14, T15, T16>(_0, _1, _2, _3, _4, _5, _6, _7, _8, _9, _10, _11, _12, _13, _14, _15, _16);
    }
    public static _ITuple17<T0, T1, T2, T3, T4, T5, T6, T7, T8, T9, T10, T11, T12, T13, T14, T15, T16> create____hMake17(T0 _0, T1 _1, T2 _2, T3 _3, T4 _4, T5 _5, T6 _6, T7 _7, T8 _8, T9 _9, T10 _10, T11 _11, T12 _12, T13 _13, T14 _14, T15 _15, T16 _16) {
      return create(_0, _1, _2, _3, _4, _5, _6, _7, _8, _9, _10, _11, _12, _13, _14, _15, _16);
    }
    public T0 dtor__0 {
      get {
        return this.__0;
      }
    }
    public T1 dtor__1 {
      get {
        return this.__1;
      }
    }
    public T2 dtor__2 {
      get {
        return this.__2;
      }
    }
    public T3 dtor__3 {
      get {
        return this.__3;
      }
    }
    public T4 dtor__4 {
      get {
        return this.__4;
      }
    }
    public T5 dtor__5 {
      get {
        return this.__5;
      }
    }
    public T6 dtor__6 {
      get {
        return this.__6;
      }
    }
    public T7 dtor__7 {
      get {
        return this.__7;
      }
    }
    public T8 dtor__8 {
      get {
        return this.__8;
      }
    }
    public T9 dtor__9 {
      get {
        return this.__9;
      }
    }
    public T10 dtor__10 {
      get {
        return this.__10;
      }
    }
    public T11 dtor__11 {
      get {
        return this.__11;
      }
    }
    public T12 dtor__12 {
      get {
        return this.__12;
      }
    }
    public T13 dtor__13 {
      get {
        return this.__13;
      }
    }
    public T14 dtor__14 {
      get {
        return this.__14;
      }
    }
    public T15 dtor__15 {
      get {
        return this.__15;
      }
    }
    public T16 dtor__16 {
      get {
        return this.__16;
      }
    }
  }

  public interface _ITuple18<out T0, out T1, out T2, out T3, out T4, out T5, out T6, out T7, out T8, out T9, out T10, out T11, out T12, out T13, out T14, out T15, out T16, out T17> {
    T0 dtor__0 { get; }
    T1 dtor__1 { get; }
    T2 dtor__2 { get; }
    T3 dtor__3 { get; }
    T4 dtor__4 { get; }
    T5 dtor__5 { get; }
    T6 dtor__6 { get; }
    T7 dtor__7 { get; }
    T8 dtor__8 { get; }
    T9 dtor__9 { get; }
    T10 dtor__10 { get; }
    T11 dtor__11 { get; }
    T12 dtor__12 { get; }
    T13 dtor__13 { get; }
    T14 dtor__14 { get; }
    T15 dtor__15 { get; }
    T16 dtor__16 { get; }
    T17 dtor__17 { get; }
    _ITuple18<__T0, __T1, __T2, __T3, __T4, __T5, __T6, __T7, __T8, __T9, __T10, __T11, __T12, __T13, __T14, __T15, __T16, __T17> DowncastClone<__T0, __T1, __T2, __T3, __T4, __T5, __T6, __T7, __T8, __T9, __T10, __T11, __T12, __T13, __T14, __T15, __T16, __T17>(Func<T0, __T0> converter0, Func<T1, __T1> converter1, Func<T2, __T2> converter2, Func<T3, __T3> converter3, Func<T4, __T4> converter4, Func<T5, __T5> converter5, Func<T6, __T6> converter6, Func<T7, __T7> converter7, Func<T8, __T8> converter8, Func<T9, __T9> converter9, Func<T10, __T10> converter10, Func<T11, __T11> converter11, Func<T12, __T12> converter12, Func<T13, __T13> converter13, Func<T14, __T14> converter14, Func<T15, __T15> converter15, Func<T16, __T16> converter16, Func<T17, __T17> converter17);
  }
  public class Tuple18<T0, T1, T2, T3, T4, T5, T6, T7, T8, T9, T10, T11, T12, T13, T14, T15, T16, T17> : _ITuple18<T0, T1, T2, T3, T4, T5, T6, T7, T8, T9, T10, T11, T12, T13, T14, T15, T16, T17> {
    public readonly T0 __0;
    public readonly T1 __1;
    public readonly T2 __2;
    public readonly T3 __3;
    public readonly T4 __4;
    public readonly T5 __5;
    public readonly T6 __6;
    public readonly T7 __7;
    public readonly T8 __8;
    public readonly T9 __9;
    public readonly T10 __10;
    public readonly T11 __11;
    public readonly T12 __12;
    public readonly T13 __13;
    public readonly T14 __14;
    public readonly T15 __15;
    public readonly T16 __16;
    public readonly T17 __17;
    public Tuple18(T0 _0, T1 _1, T2 _2, T3 _3, T4 _4, T5 _5, T6 _6, T7 _7, T8 _8, T9 _9, T10 _10, T11 _11, T12 _12, T13 _13, T14 _14, T15 _15, T16 _16, T17 _17) {
      this.__0 = _0;
      this.__1 = _1;
      this.__2 = _2;
      this.__3 = _3;
      this.__4 = _4;
      this.__5 = _5;
      this.__6 = _6;
      this.__7 = _7;
      this.__8 = _8;
      this.__9 = _9;
      this.__10 = _10;
      this.__11 = _11;
      this.__12 = _12;
      this.__13 = _13;
      this.__14 = _14;
      this.__15 = _15;
      this.__16 = _16;
      this.__17 = _17;
    }
    public _ITuple18<__T0, __T1, __T2, __T3, __T4, __T5, __T6, __T7, __T8, __T9, __T10, __T11, __T12, __T13, __T14, __T15, __T16, __T17> DowncastClone<__T0, __T1, __T2, __T3, __T4, __T5, __T6, __T7, __T8, __T9, __T10, __T11, __T12, __T13, __T14, __T15, __T16, __T17>(Func<T0, __T0> converter0, Func<T1, __T1> converter1, Func<T2, __T2> converter2, Func<T3, __T3> converter3, Func<T4, __T4> converter4, Func<T5, __T5> converter5, Func<T6, __T6> converter6, Func<T7, __T7> converter7, Func<T8, __T8> converter8, Func<T9, __T9> converter9, Func<T10, __T10> converter10, Func<T11, __T11> converter11, Func<T12, __T12> converter12, Func<T13, __T13> converter13, Func<T14, __T14> converter14, Func<T15, __T15> converter15, Func<T16, __T16> converter16, Func<T17, __T17> converter17) {
      if (this is _ITuple18<__T0, __T1, __T2, __T3, __T4, __T5, __T6, __T7, __T8, __T9, __T10, __T11, __T12, __T13, __T14, __T15, __T16, __T17> dt) { return dt; }
      return new Tuple18<__T0, __T1, __T2, __T3, __T4, __T5, __T6, __T7, __T8, __T9, __T10, __T11, __T12, __T13, __T14, __T15, __T16, __T17>(converter0(__0), converter1(__1), converter2(__2), converter3(__3), converter4(__4), converter5(__5), converter6(__6), converter7(__7), converter8(__8), converter9(__9), converter10(__10), converter11(__11), converter12(__12), converter13(__13), converter14(__14), converter15(__15), converter16(__16), converter17(__17));
    }
    public override bool Equals(object other) {
      var oth = other as _System.Tuple18<T0, T1, T2, T3, T4, T5, T6, T7, T8, T9, T10, T11, T12, T13, T14, T15, T16, T17>;
      return oth != null && object.Equals(this.__0, oth.__0) && object.Equals(this.__1, oth.__1) && object.Equals(this.__2, oth.__2) && object.Equals(this.__3, oth.__3) && object.Equals(this.__4, oth.__4) && object.Equals(this.__5, oth.__5) && object.Equals(this.__6, oth.__6) && object.Equals(this.__7, oth.__7) && object.Equals(this.__8, oth.__8) && object.Equals(this.__9, oth.__9) && object.Equals(this.__10, oth.__10) && object.Equals(this.__11, oth.__11) && object.Equals(this.__12, oth.__12) && object.Equals(this.__13, oth.__13) && object.Equals(this.__14, oth.__14) && object.Equals(this.__15, oth.__15) && object.Equals(this.__16, oth.__16) && object.Equals(this.__17, oth.__17);
    }
    public override int GetHashCode() {
      ulong hash = 5381;
      hash = ((hash << 5) + hash) + 0;
      hash = ((hash << 5) + hash) + ((ulong)Dafny.Helpers.GetHashCode(this.__0));
      hash = ((hash << 5) + hash) + ((ulong)Dafny.Helpers.GetHashCode(this.__1));
      hash = ((hash << 5) + hash) + ((ulong)Dafny.Helpers.GetHashCode(this.__2));
      hash = ((hash << 5) + hash) + ((ulong)Dafny.Helpers.GetHashCode(this.__3));
      hash = ((hash << 5) + hash) + ((ulong)Dafny.Helpers.GetHashCode(this.__4));
      hash = ((hash << 5) + hash) + ((ulong)Dafny.Helpers.GetHashCode(this.__5));
      hash = ((hash << 5) + hash) + ((ulong)Dafny.Helpers.GetHashCode(this.__6));
      hash = ((hash << 5) + hash) + ((ulong)Dafny.Helpers.GetHashCode(this.__7));
      hash = ((hash << 5) + hash) + ((ulong)Dafny.Helpers.GetHashCode(this.__8));
      hash = ((hash << 5) + hash) + ((ulong)Dafny.Helpers.GetHashCode(this.__9));
      hash = ((hash << 5) + hash) + ((ulong)Dafny.Helpers.GetHashCode(this.__10));
      hash = ((hash << 5) + hash) + ((ulong)Dafny.Helpers.GetHashCode(this.__11));
      hash = ((hash << 5) + hash) + ((ulong)Dafny.Helpers.GetHashCode(this.__12));
      hash = ((hash << 5) + hash) + ((ulong)Dafny.Helpers.GetHashCode(this.__13));
      hash = ((hash << 5) + hash) + ((ulong)Dafny.Helpers.GetHashCode(this.__14));
      hash = ((hash << 5) + hash) + ((ulong)Dafny.Helpers.GetHashCode(this.__15));
      hash = ((hash << 5) + hash) + ((ulong)Dafny.Helpers.GetHashCode(this.__16));
      hash = ((hash << 5) + hash) + ((ulong)Dafny.Helpers.GetHashCode(this.__17));
      return (int) hash;
    }
    public override string ToString() {
      string s = "";
      s += "(";
      s += Dafny.Helpers.ToString(this.__0);
      s += ", ";
      s += Dafny.Helpers.ToString(this.__1);
      s += ", ";
      s += Dafny.Helpers.ToString(this.__2);
      s += ", ";
      s += Dafny.Helpers.ToString(this.__3);
      s += ", ";
      s += Dafny.Helpers.ToString(this.__4);
      s += ", ";
      s += Dafny.Helpers.ToString(this.__5);
      s += ", ";
      s += Dafny.Helpers.ToString(this.__6);
      s += ", ";
      s += Dafny.Helpers.ToString(this.__7);
      s += ", ";
      s += Dafny.Helpers.ToString(this.__8);
      s += ", ";
      s += Dafny.Helpers.ToString(this.__9);
      s += ", ";
      s += Dafny.Helpers.ToString(this.__10);
      s += ", ";
      s += Dafny.Helpers.ToString(this.__11);
      s += ", ";
      s += Dafny.Helpers.ToString(this.__12);
      s += ", ";
      s += Dafny.Helpers.ToString(this.__13);
      s += ", ";
      s += Dafny.Helpers.ToString(this.__14);
      s += ", ";
      s += Dafny.Helpers.ToString(this.__15);
      s += ", ";
      s += Dafny.Helpers.ToString(this.__16);
      s += ", ";
      s += Dafny.Helpers.ToString(this.__17);
      s += ")";
      return s;
    }
    public static _System._ITuple18<T0, T1, T2, T3, T4, T5, T6, T7, T8, T9, T10, T11, T12, T13, T14, T15, T16, T17> Default(T0 _default_T0, T1 _default_T1, T2 _default_T2, T3 _default_T3, T4 _default_T4, T5 _default_T5, T6 _default_T6, T7 _default_T7, T8 _default_T8, T9 _default_T9, T10 _default_T10, T11 _default_T11, T12 _default_T12, T13 _default_T13, T14 _default_T14, T15 _default_T15, T16 _default_T16, T17 _default_T17) {
      return create(_default_T0, _default_T1, _default_T2, _default_T3, _default_T4, _default_T5, _default_T6, _default_T7, _default_T8, _default_T9, _default_T10, _default_T11, _default_T12, _default_T13, _default_T14, _default_T15, _default_T16, _default_T17);
    }
    public static Dafny.TypeDescriptor<_System._ITuple18<T0, T1, T2, T3, T4, T5, T6, T7, T8, T9, T10, T11, T12, T13, T14, T15, T16, T17>> _TypeDescriptor(Dafny.TypeDescriptor<T0> _td_T0, Dafny.TypeDescriptor<T1> _td_T1, Dafny.TypeDescriptor<T2> _td_T2, Dafny.TypeDescriptor<T3> _td_T3, Dafny.TypeDescriptor<T4> _td_T4, Dafny.TypeDescriptor<T5> _td_T5, Dafny.TypeDescriptor<T6> _td_T6, Dafny.TypeDescriptor<T7> _td_T7, Dafny.TypeDescriptor<T8> _td_T8, Dafny.TypeDescriptor<T9> _td_T9, Dafny.TypeDescriptor<T10> _td_T10, Dafny.TypeDescriptor<T11> _td_T11, Dafny.TypeDescriptor<T12> _td_T12, Dafny.TypeDescriptor<T13> _td_T13, Dafny.TypeDescriptor<T14> _td_T14, Dafny.TypeDescriptor<T15> _td_T15, Dafny.TypeDescriptor<T16> _td_T16, Dafny.TypeDescriptor<T17> _td_T17) {
      return new Dafny.TypeDescriptor<_System._ITuple18<T0, T1, T2, T3, T4, T5, T6, T7, T8, T9, T10, T11, T12, T13, T14, T15, T16, T17>>(_System.Tuple18<T0, T1, T2, T3, T4, T5, T6, T7, T8, T9, T10, T11, T12, T13, T14, T15, T16, T17>.Default(_td_T0.Default(), _td_T1.Default(), _td_T2.Default(), _td_T3.Default(), _td_T4.Default(), _td_T5.Default(), _td_T6.Default(), _td_T7.Default(), _td_T8.Default(), _td_T9.Default(), _td_T10.Default(), _td_T11.Default(), _td_T12.Default(), _td_T13.Default(), _td_T14.Default(), _td_T15.Default(), _td_T16.Default(), _td_T17.Default()));
    }
    public static _ITuple18<T0, T1, T2, T3, T4, T5, T6, T7, T8, T9, T10, T11, T12, T13, T14, T15, T16, T17> create(T0 _0, T1 _1, T2 _2, T3 _3, T4 _4, T5 _5, T6 _6, T7 _7, T8 _8, T9 _9, T10 _10, T11 _11, T12 _12, T13 _13, T14 _14, T15 _15, T16 _16, T17 _17) {
      return new Tuple18<T0, T1, T2, T3, T4, T5, T6, T7, T8, T9, T10, T11, T12, T13, T14, T15, T16, T17>(_0, _1, _2, _3, _4, _5, _6, _7, _8, _9, _10, _11, _12, _13, _14, _15, _16, _17);
    }
    public static _ITuple18<T0, T1, T2, T3, T4, T5, T6, T7, T8, T9, T10, T11, T12, T13, T14, T15, T16, T17> create____hMake18(T0 _0, T1 _1, T2 _2, T3 _3, T4 _4, T5 _5, T6 _6, T7 _7, T8 _8, T9 _9, T10 _10, T11 _11, T12 _12, T13 _13, T14 _14, T15 _15, T16 _16, T17 _17) {
      return create(_0, _1, _2, _3, _4, _5, _6, _7, _8, _9, _10, _11, _12, _13, _14, _15, _16, _17);
    }
    public T0 dtor__0 {
      get {
        return this.__0;
      }
    }
    public T1 dtor__1 {
      get {
        return this.__1;
      }
    }
    public T2 dtor__2 {
      get {
        return this.__2;
      }
    }
    public T3 dtor__3 {
      get {
        return this.__3;
      }
    }
    public T4 dtor__4 {
      get {
        return this.__4;
      }
    }
    public T5 dtor__5 {
      get {
        return this.__5;
      }
    }
    public T6 dtor__6 {
      get {
        return this.__6;
      }
    }
    public T7 dtor__7 {
      get {
        return this.__7;
      }
    }
    public T8 dtor__8 {
      get {
        return this.__8;
      }
    }
    public T9 dtor__9 {
      get {
        return this.__9;
      }
    }
    public T10 dtor__10 {
      get {
        return this.__10;
      }
    }
    public T11 dtor__11 {
      get {
        return this.__11;
      }
    }
    public T12 dtor__12 {
      get {
        return this.__12;
      }
    }
    public T13 dtor__13 {
      get {
        return this.__13;
      }
    }
    public T14 dtor__14 {
      get {
        return this.__14;
      }
    }
    public T15 dtor__15 {
      get {
        return this.__15;
      }
    }
    public T16 dtor__16 {
      get {
        return this.__16;
      }
    }
    public T17 dtor__17 {
      get {
        return this.__17;
      }
    }
  }

  public interface _ITuple19<out T0, out T1, out T2, out T3, out T4, out T5, out T6, out T7, out T8, out T9, out T10, out T11, out T12, out T13, out T14, out T15, out T16, out T17, out T18> {
    T0 dtor__0 { get; }
    T1 dtor__1 { get; }
    T2 dtor__2 { get; }
    T3 dtor__3 { get; }
    T4 dtor__4 { get; }
    T5 dtor__5 { get; }
    T6 dtor__6 { get; }
    T7 dtor__7 { get; }
    T8 dtor__8 { get; }
    T9 dtor__9 { get; }
    T10 dtor__10 { get; }
    T11 dtor__11 { get; }
    T12 dtor__12 { get; }
    T13 dtor__13 { get; }
    T14 dtor__14 { get; }
    T15 dtor__15 { get; }
    T16 dtor__16 { get; }
    T17 dtor__17 { get; }
    T18 dtor__18 { get; }
    _ITuple19<__T0, __T1, __T2, __T3, __T4, __T5, __T6, __T7, __T8, __T9, __T10, __T11, __T12, __T13, __T14, __T15, __T16, __T17, __T18> DowncastClone<__T0, __T1, __T2, __T3, __T4, __T5, __T6, __T7, __T8, __T9, __T10, __T11, __T12, __T13, __T14, __T15, __T16, __T17, __T18>(Func<T0, __T0> converter0, Func<T1, __T1> converter1, Func<T2, __T2> converter2, Func<T3, __T3> converter3, Func<T4, __T4> converter4, Func<T5, __T5> converter5, Func<T6, __T6> converter6, Func<T7, __T7> converter7, Func<T8, __T8> converter8, Func<T9, __T9> converter9, Func<T10, __T10> converter10, Func<T11, __T11> converter11, Func<T12, __T12> converter12, Func<T13, __T13> converter13, Func<T14, __T14> converter14, Func<T15, __T15> converter15, Func<T16, __T16> converter16, Func<T17, __T17> converter17, Func<T18, __T18> converter18);
  }
  public class Tuple19<T0, T1, T2, T3, T4, T5, T6, T7, T8, T9, T10, T11, T12, T13, T14, T15, T16, T17, T18> : _ITuple19<T0, T1, T2, T3, T4, T5, T6, T7, T8, T9, T10, T11, T12, T13, T14, T15, T16, T17, T18> {
    public readonly T0 __0;
    public readonly T1 __1;
    public readonly T2 __2;
    public readonly T3 __3;
    public readonly T4 __4;
    public readonly T5 __5;
    public readonly T6 __6;
    public readonly T7 __7;
    public readonly T8 __8;
    public readonly T9 __9;
    public readonly T10 __10;
    public readonly T11 __11;
    public readonly T12 __12;
    public readonly T13 __13;
    public readonly T14 __14;
    public readonly T15 __15;
    public readonly T16 __16;
    public readonly T17 __17;
    public readonly T18 __18;
    public Tuple19(T0 _0, T1 _1, T2 _2, T3 _3, T4 _4, T5 _5, T6 _6, T7 _7, T8 _8, T9 _9, T10 _10, T11 _11, T12 _12, T13 _13, T14 _14, T15 _15, T16 _16, T17 _17, T18 _18) {
      this.__0 = _0;
      this.__1 = _1;
      this.__2 = _2;
      this.__3 = _3;
      this.__4 = _4;
      this.__5 = _5;
      this.__6 = _6;
      this.__7 = _7;
      this.__8 = _8;
      this.__9 = _9;
      this.__10 = _10;
      this.__11 = _11;
      this.__12 = _12;
      this.__13 = _13;
      this.__14 = _14;
      this.__15 = _15;
      this.__16 = _16;
      this.__17 = _17;
      this.__18 = _18;
    }
    public _ITuple19<__T0, __T1, __T2, __T3, __T4, __T5, __T6, __T7, __T8, __T9, __T10, __T11, __T12, __T13, __T14, __T15, __T16, __T17, __T18> DowncastClone<__T0, __T1, __T2, __T3, __T4, __T5, __T6, __T7, __T8, __T9, __T10, __T11, __T12, __T13, __T14, __T15, __T16, __T17, __T18>(Func<T0, __T0> converter0, Func<T1, __T1> converter1, Func<T2, __T2> converter2, Func<T3, __T3> converter3, Func<T4, __T4> converter4, Func<T5, __T5> converter5, Func<T6, __T6> converter6, Func<T7, __T7> converter7, Func<T8, __T8> converter8, Func<T9, __T9> converter9, Func<T10, __T10> converter10, Func<T11, __T11> converter11, Func<T12, __T12> converter12, Func<T13, __T13> converter13, Func<T14, __T14> converter14, Func<T15, __T15> converter15, Func<T16, __T16> converter16, Func<T17, __T17> converter17, Func<T18, __T18> converter18) {
      if (this is _ITuple19<__T0, __T1, __T2, __T3, __T4, __T5, __T6, __T7, __T8, __T9, __T10, __T11, __T12, __T13, __T14, __T15, __T16, __T17, __T18> dt) { return dt; }
      return new Tuple19<__T0, __T1, __T2, __T3, __T4, __T5, __T6, __T7, __T8, __T9, __T10, __T11, __T12, __T13, __T14, __T15, __T16, __T17, __T18>(converter0(__0), converter1(__1), converter2(__2), converter3(__3), converter4(__4), converter5(__5), converter6(__6), converter7(__7), converter8(__8), converter9(__9), converter10(__10), converter11(__11), converter12(__12), converter13(__13), converter14(__14), converter15(__15), converter16(__16), converter17(__17), converter18(__18));
    }
    public override bool Equals(object other) {
      var oth = other as _System.Tuple19<T0, T1, T2, T3, T4, T5, T6, T7, T8, T9, T10, T11, T12, T13, T14, T15, T16, T17, T18>;
      return oth != null && object.Equals(this.__0, oth.__0) && object.Equals(this.__1, oth.__1) && object.Equals(this.__2, oth.__2) && object.Equals(this.__3, oth.__3) && object.Equals(this.__4, oth.__4) && object.Equals(this.__5, oth.__5) && object.Equals(this.__6, oth.__6) && object.Equals(this.__7, oth.__7) && object.Equals(this.__8, oth.__8) && object.Equals(this.__9, oth.__9) && object.Equals(this.__10, oth.__10) && object.Equals(this.__11, oth.__11) && object.Equals(this.__12, oth.__12) && object.Equals(this.__13, oth.__13) && object.Equals(this.__14, oth.__14) && object.Equals(this.__15, oth.__15) && object.Equals(this.__16, oth.__16) && object.Equals(this.__17, oth.__17) && object.Equals(this.__18, oth.__18);
    }
    public override int GetHashCode() {
      ulong hash = 5381;
      hash = ((hash << 5) + hash) + 0;
      hash = ((hash << 5) + hash) + ((ulong)Dafny.Helpers.GetHashCode(this.__0));
      hash = ((hash << 5) + hash) + ((ulong)Dafny.Helpers.GetHashCode(this.__1));
      hash = ((hash << 5) + hash) + ((ulong)Dafny.Helpers.GetHashCode(this.__2));
      hash = ((hash << 5) + hash) + ((ulong)Dafny.Helpers.GetHashCode(this.__3));
      hash = ((hash << 5) + hash) + ((ulong)Dafny.Helpers.GetHashCode(this.__4));
      hash = ((hash << 5) + hash) + ((ulong)Dafny.Helpers.GetHashCode(this.__5));
      hash = ((hash << 5) + hash) + ((ulong)Dafny.Helpers.GetHashCode(this.__6));
      hash = ((hash << 5) + hash) + ((ulong)Dafny.Helpers.GetHashCode(this.__7));
      hash = ((hash << 5) + hash) + ((ulong)Dafny.Helpers.GetHashCode(this.__8));
      hash = ((hash << 5) + hash) + ((ulong)Dafny.Helpers.GetHashCode(this.__9));
      hash = ((hash << 5) + hash) + ((ulong)Dafny.Helpers.GetHashCode(this.__10));
      hash = ((hash << 5) + hash) + ((ulong)Dafny.Helpers.GetHashCode(this.__11));
      hash = ((hash << 5) + hash) + ((ulong)Dafny.Helpers.GetHashCode(this.__12));
      hash = ((hash << 5) + hash) + ((ulong)Dafny.Helpers.GetHashCode(this.__13));
      hash = ((hash << 5) + hash) + ((ulong)Dafny.Helpers.GetHashCode(this.__14));
      hash = ((hash << 5) + hash) + ((ulong)Dafny.Helpers.GetHashCode(this.__15));
      hash = ((hash << 5) + hash) + ((ulong)Dafny.Helpers.GetHashCode(this.__16));
      hash = ((hash << 5) + hash) + ((ulong)Dafny.Helpers.GetHashCode(this.__17));
      hash = ((hash << 5) + hash) + ((ulong)Dafny.Helpers.GetHashCode(this.__18));
      return (int) hash;
    }
    public override string ToString() {
      string s = "";
      s += "(";
      s += Dafny.Helpers.ToString(this.__0);
      s += ", ";
      s += Dafny.Helpers.ToString(this.__1);
      s += ", ";
      s += Dafny.Helpers.ToString(this.__2);
      s += ", ";
      s += Dafny.Helpers.ToString(this.__3);
      s += ", ";
      s += Dafny.Helpers.ToString(this.__4);
      s += ", ";
      s += Dafny.Helpers.ToString(this.__5);
      s += ", ";
      s += Dafny.Helpers.ToString(this.__6);
      s += ", ";
      s += Dafny.Helpers.ToString(this.__7);
      s += ", ";
      s += Dafny.Helpers.ToString(this.__8);
      s += ", ";
      s += Dafny.Helpers.ToString(this.__9);
      s += ", ";
      s += Dafny.Helpers.ToString(this.__10);
      s += ", ";
      s += Dafny.Helpers.ToString(this.__11);
      s += ", ";
      s += Dafny.Helpers.ToString(this.__12);
      s += ", ";
      s += Dafny.Helpers.ToString(this.__13);
      s += ", ";
      s += Dafny.Helpers.ToString(this.__14);
      s += ", ";
      s += Dafny.Helpers.ToString(this.__15);
      s += ", ";
      s += Dafny.Helpers.ToString(this.__16);
      s += ", ";
      s += Dafny.Helpers.ToString(this.__17);
      s += ", ";
      s += Dafny.Helpers.ToString(this.__18);
      s += ")";
      return s;
    }
    public static _System._ITuple19<T0, T1, T2, T3, T4, T5, T6, T7, T8, T9, T10, T11, T12, T13, T14, T15, T16, T17, T18> Default(T0 _default_T0, T1 _default_T1, T2 _default_T2, T3 _default_T3, T4 _default_T4, T5 _default_T5, T6 _default_T6, T7 _default_T7, T8 _default_T8, T9 _default_T9, T10 _default_T10, T11 _default_T11, T12 _default_T12, T13 _default_T13, T14 _default_T14, T15 _default_T15, T16 _default_T16, T17 _default_T17, T18 _default_T18) {
      return create(_default_T0, _default_T1, _default_T2, _default_T3, _default_T4, _default_T5, _default_T6, _default_T7, _default_T8, _default_T9, _default_T10, _default_T11, _default_T12, _default_T13, _default_T14, _default_T15, _default_T16, _default_T17, _default_T18);
    }
    public static Dafny.TypeDescriptor<_System._ITuple19<T0, T1, T2, T3, T4, T5, T6, T7, T8, T9, T10, T11, T12, T13, T14, T15, T16, T17, T18>> _TypeDescriptor(Dafny.TypeDescriptor<T0> _td_T0, Dafny.TypeDescriptor<T1> _td_T1, Dafny.TypeDescriptor<T2> _td_T2, Dafny.TypeDescriptor<T3> _td_T3, Dafny.TypeDescriptor<T4> _td_T4, Dafny.TypeDescriptor<T5> _td_T5, Dafny.TypeDescriptor<T6> _td_T6, Dafny.TypeDescriptor<T7> _td_T7, Dafny.TypeDescriptor<T8> _td_T8, Dafny.TypeDescriptor<T9> _td_T9, Dafny.TypeDescriptor<T10> _td_T10, Dafny.TypeDescriptor<T11> _td_T11, Dafny.TypeDescriptor<T12> _td_T12, Dafny.TypeDescriptor<T13> _td_T13, Dafny.TypeDescriptor<T14> _td_T14, Dafny.TypeDescriptor<T15> _td_T15, Dafny.TypeDescriptor<T16> _td_T16, Dafny.TypeDescriptor<T17> _td_T17, Dafny.TypeDescriptor<T18> _td_T18) {
      return new Dafny.TypeDescriptor<_System._ITuple19<T0, T1, T2, T3, T4, T5, T6, T7, T8, T9, T10, T11, T12, T13, T14, T15, T16, T17, T18>>(_System.Tuple19<T0, T1, T2, T3, T4, T5, T6, T7, T8, T9, T10, T11, T12, T13, T14, T15, T16, T17, T18>.Default(_td_T0.Default(), _td_T1.Default(), _td_T2.Default(), _td_T3.Default(), _td_T4.Default(), _td_T5.Default(), _td_T6.Default(), _td_T7.Default(), _td_T8.Default(), _td_T9.Default(), _td_T10.Default(), _td_T11.Default(), _td_T12.Default(), _td_T13.Default(), _td_T14.Default(), _td_T15.Default(), _td_T16.Default(), _td_T17.Default(), _td_T18.Default()));
    }
    public static _ITuple19<T0, T1, T2, T3, T4, T5, T6, T7, T8, T9, T10, T11, T12, T13, T14, T15, T16, T17, T18> create(T0 _0, T1 _1, T2 _2, T3 _3, T4 _4, T5 _5, T6 _6, T7 _7, T8 _8, T9 _9, T10 _10, T11 _11, T12 _12, T13 _13, T14 _14, T15 _15, T16 _16, T17 _17, T18 _18) {
      return new Tuple19<T0, T1, T2, T3, T4, T5, T6, T7, T8, T9, T10, T11, T12, T13, T14, T15, T16, T17, T18>(_0, _1, _2, _3, _4, _5, _6, _7, _8, _9, _10, _11, _12, _13, _14, _15, _16, _17, _18);
    }
    public static _ITuple19<T0, T1, T2, T3, T4, T5, T6, T7, T8, T9, T10, T11, T12, T13, T14, T15, T16, T17, T18> create____hMake19(T0 _0, T1 _1, T2 _2, T3 _3, T4 _4, T5 _5, T6 _6, T7 _7, T8 _8, T9 _9, T10 _10, T11 _11, T12 _12, T13 _13, T14 _14, T15 _15, T16 _16, T17 _17, T18 _18) {
      return create(_0, _1, _2, _3, _4, _5, _6, _7, _8, _9, _10, _11, _12, _13, _14, _15, _16, _17, _18);
    }
    public T0 dtor__0 {
      get {
        return this.__0;
      }
    }
    public T1 dtor__1 {
      get {
        return this.__1;
      }
    }
    public T2 dtor__2 {
      get {
        return this.__2;
      }
    }
    public T3 dtor__3 {
      get {
        return this.__3;
      }
    }
    public T4 dtor__4 {
      get {
        return this.__4;
      }
    }
    public T5 dtor__5 {
      get {
        return this.__5;
      }
    }
    public T6 dtor__6 {
      get {
        return this.__6;
      }
    }
    public T7 dtor__7 {
      get {
        return this.__7;
      }
    }
    public T8 dtor__8 {
      get {
        return this.__8;
      }
    }
    public T9 dtor__9 {
      get {
        return this.__9;
      }
    }
    public T10 dtor__10 {
      get {
        return this.__10;
      }
    }
    public T11 dtor__11 {
      get {
        return this.__11;
      }
    }
    public T12 dtor__12 {
      get {
        return this.__12;
      }
    }
    public T13 dtor__13 {
      get {
        return this.__13;
      }
    }
    public T14 dtor__14 {
      get {
        return this.__14;
      }
    }
    public T15 dtor__15 {
      get {
        return this.__15;
      }
    }
    public T16 dtor__16 {
      get {
        return this.__16;
      }
    }
    public T17 dtor__17 {
      get {
        return this.__17;
      }
    }
    public T18 dtor__18 {
      get {
        return this.__18;
      }
    }
  }

  public interface _ITuple20<out T0, out T1, out T2, out T3, out T4, out T5, out T6, out T7, out T8, out T9, out T10, out T11, out T12, out T13, out T14, out T15, out T16, out T17, out T18, out T19> {
    T0 dtor__0 { get; }
    T1 dtor__1 { get; }
    T2 dtor__2 { get; }
    T3 dtor__3 { get; }
    T4 dtor__4 { get; }
    T5 dtor__5 { get; }
    T6 dtor__6 { get; }
    T7 dtor__7 { get; }
    T8 dtor__8 { get; }
    T9 dtor__9 { get; }
    T10 dtor__10 { get; }
    T11 dtor__11 { get; }
    T12 dtor__12 { get; }
    T13 dtor__13 { get; }
    T14 dtor__14 { get; }
    T15 dtor__15 { get; }
    T16 dtor__16 { get; }
    T17 dtor__17 { get; }
    T18 dtor__18 { get; }
    T19 dtor__19 { get; }
    _ITuple20<__T0, __T1, __T2, __T3, __T4, __T5, __T6, __T7, __T8, __T9, __T10, __T11, __T12, __T13, __T14, __T15, __T16, __T17, __T18, __T19> DowncastClone<__T0, __T1, __T2, __T3, __T4, __T5, __T6, __T7, __T8, __T9, __T10, __T11, __T12, __T13, __T14, __T15, __T16, __T17, __T18, __T19>(Func<T0, __T0> converter0, Func<T1, __T1> converter1, Func<T2, __T2> converter2, Func<T3, __T3> converter3, Func<T4, __T4> converter4, Func<T5, __T5> converter5, Func<T6, __T6> converter6, Func<T7, __T7> converter7, Func<T8, __T8> converter8, Func<T9, __T9> converter9, Func<T10, __T10> converter10, Func<T11, __T11> converter11, Func<T12, __T12> converter12, Func<T13, __T13> converter13, Func<T14, __T14> converter14, Func<T15, __T15> converter15, Func<T16, __T16> converter16, Func<T17, __T17> converter17, Func<T18, __T18> converter18, Func<T19, __T19> converter19);
  }
  public class Tuple20<T0, T1, T2, T3, T4, T5, T6, T7, T8, T9, T10, T11, T12, T13, T14, T15, T16, T17, T18, T19> : _ITuple20<T0, T1, T2, T3, T4, T5, T6, T7, T8, T9, T10, T11, T12, T13, T14, T15, T16, T17, T18, T19> {
    public readonly T0 __0;
    public readonly T1 __1;
    public readonly T2 __2;
    public readonly T3 __3;
    public readonly T4 __4;
    public readonly T5 __5;
    public readonly T6 __6;
    public readonly T7 __7;
    public readonly T8 __8;
    public readonly T9 __9;
    public readonly T10 __10;
    public readonly T11 __11;
    public readonly T12 __12;
    public readonly T13 __13;
    public readonly T14 __14;
    public readonly T15 __15;
    public readonly T16 __16;
    public readonly T17 __17;
    public readonly T18 __18;
    public readonly T19 __19;
    public Tuple20(T0 _0, T1 _1, T2 _2, T3 _3, T4 _4, T5 _5, T6 _6, T7 _7, T8 _8, T9 _9, T10 _10, T11 _11, T12 _12, T13 _13, T14 _14, T15 _15, T16 _16, T17 _17, T18 _18, T19 _19) {
      this.__0 = _0;
      this.__1 = _1;
      this.__2 = _2;
      this.__3 = _3;
      this.__4 = _4;
      this.__5 = _5;
      this.__6 = _6;
      this.__7 = _7;
      this.__8 = _8;
      this.__9 = _9;
      this.__10 = _10;
      this.__11 = _11;
      this.__12 = _12;
      this.__13 = _13;
      this.__14 = _14;
      this.__15 = _15;
      this.__16 = _16;
      this.__17 = _17;
      this.__18 = _18;
      this.__19 = _19;
    }
    public _ITuple20<__T0, __T1, __T2, __T3, __T4, __T5, __T6, __T7, __T8, __T9, __T10, __T11, __T12, __T13, __T14, __T15, __T16, __T17, __T18, __T19> DowncastClone<__T0, __T1, __T2, __T3, __T4, __T5, __T6, __T7, __T8, __T9, __T10, __T11, __T12, __T13, __T14, __T15, __T16, __T17, __T18, __T19>(Func<T0, __T0> converter0, Func<T1, __T1> converter1, Func<T2, __T2> converter2, Func<T3, __T3> converter3, Func<T4, __T4> converter4, Func<T5, __T5> converter5, Func<T6, __T6> converter6, Func<T7, __T7> converter7, Func<T8, __T8> converter8, Func<T9, __T9> converter9, Func<T10, __T10> converter10, Func<T11, __T11> converter11, Func<T12, __T12> converter12, Func<T13, __T13> converter13, Func<T14, __T14> converter14, Func<T15, __T15> converter15, Func<T16, __T16> converter16, Func<T17, __T17> converter17, Func<T18, __T18> converter18, Func<T19, __T19> converter19) {
      if (this is _ITuple20<__T0, __T1, __T2, __T3, __T4, __T5, __T6, __T7, __T8, __T9, __T10, __T11, __T12, __T13, __T14, __T15, __T16, __T17, __T18, __T19> dt) { return dt; }
      return new Tuple20<__T0, __T1, __T2, __T3, __T4, __T5, __T6, __T7, __T8, __T9, __T10, __T11, __T12, __T13, __T14, __T15, __T16, __T17, __T18, __T19>(converter0(__0), converter1(__1), converter2(__2), converter3(__3), converter4(__4), converter5(__5), converter6(__6), converter7(__7), converter8(__8), converter9(__9), converter10(__10), converter11(__11), converter12(__12), converter13(__13), converter14(__14), converter15(__15), converter16(__16), converter17(__17), converter18(__18), converter19(__19));
    }
    public override bool Equals(object other) {
      var oth = other as _System.Tuple20<T0, T1, T2, T3, T4, T5, T6, T7, T8, T9, T10, T11, T12, T13, T14, T15, T16, T17, T18, T19>;
      return oth != null && object.Equals(this.__0, oth.__0) && object.Equals(this.__1, oth.__1) && object.Equals(this.__2, oth.__2) && object.Equals(this.__3, oth.__3) && object.Equals(this.__4, oth.__4) && object.Equals(this.__5, oth.__5) && object.Equals(this.__6, oth.__6) && object.Equals(this.__7, oth.__7) && object.Equals(this.__8, oth.__8) && object.Equals(this.__9, oth.__9) && object.Equals(this.__10, oth.__10) && object.Equals(this.__11, oth.__11) && object.Equals(this.__12, oth.__12) && object.Equals(this.__13, oth.__13) && object.Equals(this.__14, oth.__14) && object.Equals(this.__15, oth.__15) && object.Equals(this.__16, oth.__16) && object.Equals(this.__17, oth.__17) && object.Equals(this.__18, oth.__18) && object.Equals(this.__19, oth.__19);
    }
    public override int GetHashCode() {
      ulong hash = 5381;
      hash = ((hash << 5) + hash) + 0;
      hash = ((hash << 5) + hash) + ((ulong)Dafny.Helpers.GetHashCode(this.__0));
      hash = ((hash << 5) + hash) + ((ulong)Dafny.Helpers.GetHashCode(this.__1));
      hash = ((hash << 5) + hash) + ((ulong)Dafny.Helpers.GetHashCode(this.__2));
      hash = ((hash << 5) + hash) + ((ulong)Dafny.Helpers.GetHashCode(this.__3));
      hash = ((hash << 5) + hash) + ((ulong)Dafny.Helpers.GetHashCode(this.__4));
      hash = ((hash << 5) + hash) + ((ulong)Dafny.Helpers.GetHashCode(this.__5));
      hash = ((hash << 5) + hash) + ((ulong)Dafny.Helpers.GetHashCode(this.__6));
      hash = ((hash << 5) + hash) + ((ulong)Dafny.Helpers.GetHashCode(this.__7));
      hash = ((hash << 5) + hash) + ((ulong)Dafny.Helpers.GetHashCode(this.__8));
      hash = ((hash << 5) + hash) + ((ulong)Dafny.Helpers.GetHashCode(this.__9));
      hash = ((hash << 5) + hash) + ((ulong)Dafny.Helpers.GetHashCode(this.__10));
      hash = ((hash << 5) + hash) + ((ulong)Dafny.Helpers.GetHashCode(this.__11));
      hash = ((hash << 5) + hash) + ((ulong)Dafny.Helpers.GetHashCode(this.__12));
      hash = ((hash << 5) + hash) + ((ulong)Dafny.Helpers.GetHashCode(this.__13));
      hash = ((hash << 5) + hash) + ((ulong)Dafny.Helpers.GetHashCode(this.__14));
      hash = ((hash << 5) + hash) + ((ulong)Dafny.Helpers.GetHashCode(this.__15));
      hash = ((hash << 5) + hash) + ((ulong)Dafny.Helpers.GetHashCode(this.__16));
      hash = ((hash << 5) + hash) + ((ulong)Dafny.Helpers.GetHashCode(this.__17));
      hash = ((hash << 5) + hash) + ((ulong)Dafny.Helpers.GetHashCode(this.__18));
      hash = ((hash << 5) + hash) + ((ulong)Dafny.Helpers.GetHashCode(this.__19));
      return (int) hash;
    }
    public override string ToString() {
      string s = "";
      s += "(";
      s += Dafny.Helpers.ToString(this.__0);
      s += ", ";
      s += Dafny.Helpers.ToString(this.__1);
      s += ", ";
      s += Dafny.Helpers.ToString(this.__2);
      s += ", ";
      s += Dafny.Helpers.ToString(this.__3);
      s += ", ";
      s += Dafny.Helpers.ToString(this.__4);
      s += ", ";
      s += Dafny.Helpers.ToString(this.__5);
      s += ", ";
      s += Dafny.Helpers.ToString(this.__6);
      s += ", ";
      s += Dafny.Helpers.ToString(this.__7);
      s += ", ";
      s += Dafny.Helpers.ToString(this.__8);
      s += ", ";
      s += Dafny.Helpers.ToString(this.__9);
      s += ", ";
      s += Dafny.Helpers.ToString(this.__10);
      s += ", ";
      s += Dafny.Helpers.ToString(this.__11);
      s += ", ";
      s += Dafny.Helpers.ToString(this.__12);
      s += ", ";
      s += Dafny.Helpers.ToString(this.__13);
      s += ", ";
      s += Dafny.Helpers.ToString(this.__14);
      s += ", ";
      s += Dafny.Helpers.ToString(this.__15);
      s += ", ";
      s += Dafny.Helpers.ToString(this.__16);
      s += ", ";
      s += Dafny.Helpers.ToString(this.__17);
      s += ", ";
      s += Dafny.Helpers.ToString(this.__18);
      s += ", ";
      s += Dafny.Helpers.ToString(this.__19);
      s += ")";
      return s;
    }
    public static _System._ITuple20<T0, T1, T2, T3, T4, T5, T6, T7, T8, T9, T10, T11, T12, T13, T14, T15, T16, T17, T18, T19> Default(T0 _default_T0, T1 _default_T1, T2 _default_T2, T3 _default_T3, T4 _default_T4, T5 _default_T5, T6 _default_T6, T7 _default_T7, T8 _default_T8, T9 _default_T9, T10 _default_T10, T11 _default_T11, T12 _default_T12, T13 _default_T13, T14 _default_T14, T15 _default_T15, T16 _default_T16, T17 _default_T17, T18 _default_T18, T19 _default_T19) {
      return create(_default_T0, _default_T1, _default_T2, _default_T3, _default_T4, _default_T5, _default_T6, _default_T7, _default_T8, _default_T9, _default_T10, _default_T11, _default_T12, _default_T13, _default_T14, _default_T15, _default_T16, _default_T17, _default_T18, _default_T19);
    }
    public static Dafny.TypeDescriptor<_System._ITuple20<T0, T1, T2, T3, T4, T5, T6, T7, T8, T9, T10, T11, T12, T13, T14, T15, T16, T17, T18, T19>> _TypeDescriptor(Dafny.TypeDescriptor<T0> _td_T0, Dafny.TypeDescriptor<T1> _td_T1, Dafny.TypeDescriptor<T2> _td_T2, Dafny.TypeDescriptor<T3> _td_T3, Dafny.TypeDescriptor<T4> _td_T4, Dafny.TypeDescriptor<T5> _td_T5, Dafny.TypeDescriptor<T6> _td_T6, Dafny.TypeDescriptor<T7> _td_T7, Dafny.TypeDescriptor<T8> _td_T8, Dafny.TypeDescriptor<T9> _td_T9, Dafny.TypeDescriptor<T10> _td_T10, Dafny.TypeDescriptor<T11> _td_T11, Dafny.TypeDescriptor<T12> _td_T12, Dafny.TypeDescriptor<T13> _td_T13, Dafny.TypeDescriptor<T14> _td_T14, Dafny.TypeDescriptor<T15> _td_T15, Dafny.TypeDescriptor<T16> _td_T16, Dafny.TypeDescriptor<T17> _td_T17, Dafny.TypeDescriptor<T18> _td_T18, Dafny.TypeDescriptor<T19> _td_T19) {
      return new Dafny.TypeDescriptor<_System._ITuple20<T0, T1, T2, T3, T4, T5, T6, T7, T8, T9, T10, T11, T12, T13, T14, T15, T16, T17, T18, T19>>(_System.Tuple20<T0, T1, T2, T3, T4, T5, T6, T7, T8, T9, T10, T11, T12, T13, T14, T15, T16, T17, T18, T19>.Default(_td_T0.Default(), _td_T1.Default(), _td_T2.Default(), _td_T3.Default(), _td_T4.Default(), _td_T5.Default(), _td_T6.Default(), _td_T7.Default(), _td_T8.Default(), _td_T9.Default(), _td_T10.Default(), _td_T11.Default(), _td_T12.Default(), _td_T13.Default(), _td_T14.Default(), _td_T15.Default(), _td_T16.Default(), _td_T17.Default(), _td_T18.Default(), _td_T19.Default()));
    }
    public static _ITuple20<T0, T1, T2, T3, T4, T5, T6, T7, T8, T9, T10, T11, T12, T13, T14, T15, T16, T17, T18, T19> create(T0 _0, T1 _1, T2 _2, T3 _3, T4 _4, T5 _5, T6 _6, T7 _7, T8 _8, T9 _9, T10 _10, T11 _11, T12 _12, T13 _13, T14 _14, T15 _15, T16 _16, T17 _17, T18 _18, T19 _19) {
      return new Tuple20<T0, T1, T2, T3, T4, T5, T6, T7, T8, T9, T10, T11, T12, T13, T14, T15, T16, T17, T18, T19>(_0, _1, _2, _3, _4, _5, _6, _7, _8, _9, _10, _11, _12, _13, _14, _15, _16, _17, _18, _19);
    }
    public static _ITuple20<T0, T1, T2, T3, T4, T5, T6, T7, T8, T9, T10, T11, T12, T13, T14, T15, T16, T17, T18, T19> create____hMake20(T0 _0, T1 _1, T2 _2, T3 _3, T4 _4, T5 _5, T6 _6, T7 _7, T8 _8, T9 _9, T10 _10, T11 _11, T12 _12, T13 _13, T14 _14, T15 _15, T16 _16, T17 _17, T18 _18, T19 _19) {
      return create(_0, _1, _2, _3, _4, _5, _6, _7, _8, _9, _10, _11, _12, _13, _14, _15, _16, _17, _18, _19);
    }
    public T0 dtor__0 {
      get {
        return this.__0;
      }
    }
    public T1 dtor__1 {
      get {
        return this.__1;
      }
    }
    public T2 dtor__2 {
      get {
        return this.__2;
      }
    }
    public T3 dtor__3 {
      get {
        return this.__3;
      }
    }
    public T4 dtor__4 {
      get {
        return this.__4;
      }
    }
    public T5 dtor__5 {
      get {
        return this.__5;
      }
    }
    public T6 dtor__6 {
      get {
        return this.__6;
      }
    }
    public T7 dtor__7 {
      get {
        return this.__7;
      }
    }
    public T8 dtor__8 {
      get {
        return this.__8;
      }
    }
    public T9 dtor__9 {
      get {
        return this.__9;
      }
    }
    public T10 dtor__10 {
      get {
        return this.__10;
      }
    }
    public T11 dtor__11 {
      get {
        return this.__11;
      }
    }
    public T12 dtor__12 {
      get {
        return this.__12;
      }
    }
    public T13 dtor__13 {
      get {
        return this.__13;
      }
    }
    public T14 dtor__14 {
      get {
        return this.__14;
      }
    }
    public T15 dtor__15 {
      get {
        return this.__15;
      }
    }
    public T16 dtor__16 {
      get {
        return this.__16;
      }
    }
    public T17 dtor__17 {
      get {
        return this.__17;
      }
    }
    public T18 dtor__18 {
      get {
        return this.__18;
      }
    }
    public T19 dtor__19 {
      get {
        return this.__19;
      }
    }
  }
} // end of namespace _System
/*******************************************************************************
*  Copyright by the contributors to the Dafny Project
*  SPDX-License-Identifier: MIT
*******************************************************************************/

namespace Std.ActionsExterns {

  using Dafny;

  using Std.Producers;

  public partial class __default {
   
    public static Producer<T> MakeSetReader<T>(ISet<T> s) {
      return new EnumeratorAsProducer<T>(s.Elements.GetEnumerator());
    }
  }
}
/*******************************************************************************
*  Copyright by the contributors to the Dafny Project
*  SPDX-License-Identifier: MIT
*******************************************************************************/

namespace Std.ActionsExterns {
  using System.Collections;
  using System.Collections.Generic;
  using System.Numerics;

  using Dafny;
  using _System;

  using Std.Producers;
  using Std.Wrappers;

  public class EnumeratorAsProducer<T> : Producer<T> {

    private IEnumerator<T> enumerator;
    private BigInteger producedCount;

    public EnumeratorAsProducer(IEnumerator<T> enumerator) {
        this.enumerator = enumerator;
        this.producedCount = 0;
    }

    public _IOption<T> Invoke(_ITuple0 i) {
      if (enumerator.MoveNext()) {
        producedCount = producedCount + 1;
        return Option<T>.create_Some(enumerator.Current);
      } else {
        return Option<T>.create_None();
      }
    }

    public BigInteger ProducedCount() {
      return producedCount;
    }

    public _IOption<BigInteger> Remaining() {
      return Option<BigInteger>.create_None();
    }

    public void ForEach(Std.Consumers.IConsumer<T> consumer) {
      Std.Producers.__default.DefaultForEach(this, consumer);
    }

    public void Fill(Std.Consumers.Consumer<T> consumer) {
      Std.Producers.__default.DefaultFill(this, consumer);
    }

    public _IOption<T> Next() {
      return _Companion_Producer<T>.Next(this);
    }

  }

}
/*******************************************************************************
*  Copyright by the contributors to the Dafny Project
*  SPDX-License-Identifier: MIT
*******************************************************************************/

namespace Std.ActionsExterns {
  using System.Collections;
  using System.Collections.Generic;

  using Dafny;
  using _System;

  using Std.Producers;
  using Std.Wrappers;

  public class ProducerAsEnumerator<T> : IEnumerator<T> {

    private Producer<T> producer;
    private _IOption<T> next;

    public ProducerAsEnumerator(Producer<T> producer) {
      this.producer = producer;
      next = Option<T>.create_None();
    }


    public bool MoveNext() {
      next = producer.Invoke(Tuple0.Default());
      return next.is_Some;
    }

    public T Current { get {
      if (next.is_Some) {
        return next.dtor_value;
      } else {
        throw new System.InvalidOperationException("Current is undefined");
      }
    } }

    object IEnumerator.Current
    {
        get { return Current; }
    }

    public void Reset() {
      throw new System.NotSupportedException("Reset is not supported");
    }

    void IDisposable.Dispose() { }
  }

}
namespace Std.Concurrent {
    using System.Collections.Concurrent;
    using Std.Wrappers;

    public class MutableMap<K, V> {

        private ConcurrentDictionary<K, V> map;

        public MutableMap() {
            map = new ConcurrentDictionary<K, V>();
        }

        public void __ctor(bool bytesKeys) { }

        public Dafny.ISet<K> Keys() {
            return Dafny.Set<K>.FromCollection(map.Keys);
        }

        public bool HasKey(K k) {
            return map.ContainsKey(k);
        }

        public Dafny.ISet<V> Values() {
            return Dafny.Set<V>.FromCollection(map.Values);
        }
        public Dafny.ISet<_System._ITuple2<K, V>> Items() {
            System.Collections.Generic.IEnumerable<_System._ITuple2<K, V>> ToEnumerable(System.Collections.Generic.IEnumerator<System.Collections.Generic.KeyValuePair<K, V>> enumerator) {
                while (enumerator.MoveNext())
                    yield return  _System.Tuple2<K, V>.create(enumerator.Current.Key, enumerator.Current.Value);
            }

            return Dafny.Set<_System._ITuple2<K, V>>.FromCollection(ToEnumerable(map.GetEnumerator()));
        }

        public void Put(K k, V v) {
            map.AddOrUpdate(k, v, ((key, oldValue) => v));
        }

        public _IOption<V> Get(K k) {
            V v;
            if (map.TryGetValue(k, out v)) {
                return Option<V>.create_Some(v);
            } else {
                return Option<V>.create_None();
            }
        }

        public void Remove(K k) {
            map.TryRemove(k, out _);
        }

        public System.Numerics.BigInteger Size() {
            return new System.Numerics.BigInteger(map.Count);
        }
    }

    public class AtomicBox<T> {

        private T val;
        private Lock l;

        public AtomicBox() {
            l = new Lock();
        }

        public void __ctor(T t) {
          val = t;
        }

        public void Put(T t) {
            l.__Lock();
            val = t;
            l.Unlock();
        }

        public T Get() {
            l.__Lock();
            var r = val;
            l.Unlock();
            return r;
        }
    }

    public class Lock {

        private static System.Threading.Mutex mut = new System.Threading.Mutex();

        public void __ctor() {
        }

        public void __Lock() {
            mut.WaitOne();
        }

        public void Unlock() {
            mut.ReleaseMutex();
        }
    }
}
/*******************************************************************************
*  Copyright by the contributors to the Dafny Project
*  SPDX-License-Identifier: MIT
*******************************************************************************/

namespace Std.FileIOInternalExterns {
  using System;
  using System.IO;

  using Dafny;

  public class __default {
    /// <summary>
    /// Attempts to read all bytes from the file at the given path, and outputs the following values:
    /// <list>
    ///   <item>
    ///     <term>isError</term>
    ///     <description>
    ///       true iff an exception was thrown during path string conversion or when reading the file
    ///     </description>
    ///   </item>
    ///   <item>
    ///     <term>bytesRead</term>
    ///     <description>
    ///       the sequence of bytes read from the file, or an empty sequence if <c>isError</c> is true
    ///     </description>
    ///   </item>
    ///   <item>
    ///     <term>errorMsg</term>
    ///     <description>
    ///       the error message of the thrown exception if <c>isError</c> is true, or an empty sequence otherwise
    ///     </description>
    ///   </item>
    /// </list>
    ///
    /// We output these values individually because Result is not defined in the runtime but instead in library code.
    /// It is the responsibility of library code to construct an equivalent Result value.
    /// </summary>
    public static void INTERNAL__ReadBytesFromFile(ISequence<Dafny.Rune> path, out bool isError, out ISequence<byte> bytesRead,
      out ISequence<Dafny.Rune> errorMsg) {
      isError = true;
      bytesRead = Sequence<byte>.Empty;
      errorMsg = Sequence<Rune>.Empty;
      try {
        bytesRead = Helpers.SeqFromArray(File.ReadAllBytes(path?.ToVerbatimString(false)));
        isError = false;
      } catch (Exception e) {
        errorMsg = Sequence<Rune>.UnicodeFromString(e.ToString());
      }
    }

    /// <summary>
    /// Attempts to write all given bytes to the file at the given path, creating nonexistent parent directories as necessary,
    /// and outputs the following values:
    /// <list>
    ///   <item>
    ///     <term>isError</term>
    ///     <description>
    ///       true iff an exception was thrown during path string conversion or when writing to the file
    ///     </description>
    ///   </item>
    ///   <item>
    ///     <term>errorMsg</term>
    ///     <description>
    ///       the error message of the thrown exception if <c>isError</c> is true, or an empty sequence otherwise
    ///     </description>
    ///   </item>
    /// </list>
    ///
    /// We output these values individually because Result is not defined in the runtime but instead in library code.
    /// It is the responsibility of library code to construct an equivalent Result value.
    /// </summary>
    public static void INTERNAL__WriteBytesToFile(ISequence<Dafny.Rune> path, ISequence<byte> bytes, out bool isError, out ISequence<Dafny.Rune> errorMsg) {
      isError = true;
      errorMsg = Sequence<Rune>.Empty;
      try {
        string pathStr = path?.ToVerbatimString(false);
        CreateParentDirs(pathStr);
        File.WriteAllBytes(pathStr, bytes.CloneAsArray());
        isError = false;
      } catch (Exception e) {
        errorMsg = Sequence<Rune>.UnicodeFromString(e.ToString());
      }
    }

    /// <summary>
    /// Creates the nonexistent parent directory(-ies) of the given path.
    /// </summary>
    private static void CreateParentDirs(string path) {
      string parentDir = Path.GetDirectoryName(Path.GetFullPath(path));
      Directory.CreateDirectory(parentDir);
    }
  }
}
namespace Dafny {
  internal class ArrayHelpers {
    public static T[] InitNewArray1<T>(T z, BigInteger size0) {
      int s0 = (int)size0;
      T[] a = new T[s0];
      for (int i0 = 0; i0 < s0; i0++) {
        a[i0] = z;
      }
      return a;
    }
  }
} // end of namespace Dafny
internal static class FuncExtensions {
  public static Func<UResult> DowncastClone<TResult, UResult>(this Func<TResult> F, Func<TResult, UResult> ResConv) {
    return () => ResConv(F());
  }
  public static Func<U, UResult> DowncastClone<T, TResult, U, UResult>(this Func<T, TResult> F, Func<U, T> ArgConv, Func<TResult, UResult> ResConv) {
    return arg => ResConv(F(ArgConv(arg)));
  }
  public static Func<U1, U2, UResult> DowncastClone<T1, T2, TResult, U1, U2, UResult>(this Func<T1, T2, TResult> F, Func<U1, T1> ArgConv1, Func<U2, T2> ArgConv2, Func<TResult, UResult> ResConv) {
    return (arg1, arg2) => ResConv(F(ArgConv1(arg1), ArgConv2(arg2)));
  }
  public static Func<U1, U2, U3, UResult> DowncastClone<T1, T2, T3, TResult, U1, U2, U3, UResult>(this Func<T1, T2, T3, TResult> F, Func<U1, T1> ArgConv1, Func<U2, T2> ArgConv2, Func<U3, T3> ArgConv3, Func<TResult, UResult> ResConv) {
    return (arg1, arg2, arg3) => ResConv(F(ArgConv1(arg1), ArgConv2(arg2), ArgConv3(arg3)));
  }
  public static Func<U1, U2, U3, U4, UResult> DowncastClone<T1, T2, T3, T4, TResult, U1, U2, U3, U4, UResult>(this Func<T1, T2, T3, T4, TResult> F, Func<U1, T1> ArgConv1, Func<U2, T2> ArgConv2, Func<U3, T3> ArgConv3, Func<U4, T4> ArgConv4, Func<TResult, UResult> ResConv) {
    return (arg1, arg2, arg3, arg4) => ResConv(F(ArgConv1(arg1), ArgConv2(arg2), ArgConv3(arg3), ArgConv4(arg4)));
  }
  public static Func<U1, U2, U3, U4, U5, UResult> DowncastClone<T1, T2, T3, T4, T5, TResult, U1, U2, U3, U4, U5, UResult>(this Func<T1, T2, T3, T4, T5, TResult> F, Func<U1, T1> ArgConv1, Func<U2, T2> ArgConv2, Func<U3, T3> ArgConv3, Func<U4, T4> ArgConv4, Func<U5, T5> ArgConv5, Func<TResult, UResult> ResConv) {
    return (arg1, arg2, arg3, arg4, arg5) => ResConv(F(ArgConv1(arg1), ArgConv2(arg2), ArgConv3(arg3), ArgConv4(arg4), ArgConv5(arg5)));
  }
  public static Func<U1, U2, U3, U4, U5, U6, U7, UResult> DowncastClone<T1, T2, T3, T4, T5, T6, T7, TResult, U1, U2, U3, U4, U5, U6, U7, UResult>(this Func<T1, T2, T3, T4, T5, T6, T7, TResult> F, Func<U1, T1> ArgConv1, Func<U2, T2> ArgConv2, Func<U3, T3> ArgConv3, Func<U4, T4> ArgConv4, Func<U5, T5> ArgConv5, Func<U6, T6> ArgConv6, Func<U7, T7> ArgConv7, Func<TResult, UResult> ResConv) {
    return (arg1, arg2, arg3, arg4, arg5, arg6, arg7) => ResConv(F(ArgConv1(arg1), ArgConv2(arg2), ArgConv3(arg3), ArgConv4(arg4), ArgConv5(arg5), ArgConv6(arg6), ArgConv7(arg7)));
  }
}
// end of class FuncExtensions
namespace Std.Wrappers {

  public partial class __default {
    public static Std.Wrappers._IOutcomeResult<__E> Need<__E>(bool condition, __E error)
    {
      if (condition) {
        return Std.Wrappers.OutcomeResult<__E>.create_Pass_k();
      } else {
        return Std.Wrappers.OutcomeResult<__E>.create_Fail_k(error);
      }
    }
  }

  public interface _IOption<out T> {
    bool is_None { get; }
    bool is_Some { get; }
    T dtor_value { get; }
    _IOption<__T> DowncastClone<__T>(Func<T, __T> converter0);
    bool IsFailure();
    Std.Wrappers._IOption<__U> PropagateFailure<__U>();
    T Extract();
    Std.Wrappers._IResult<T, __E> ToResult<__E>(__E error);
    Std.Wrappers._IOutcome<__E> ToOutcome<__E>(__E error);
  }
  public abstract class Option<T> : _IOption<T> {
    public Option() {
    }
    public static Std.Wrappers._IOption<T> Default() {
      return create_None();
    }
    public static Dafny.TypeDescriptor<Std.Wrappers._IOption<T>> _TypeDescriptor() {
      return new Dafny.TypeDescriptor<Std.Wrappers._IOption<T>>(Std.Wrappers.Option<T>.Default());
    }
    public static _IOption<T> create_None() {
      return new Option_None<T>();
    }
    public static _IOption<T> create_Some(T @value) {
      return new Option_Some<T>(@value);
    }
    public bool is_None { get { return this is Option_None<T>; } }
    public bool is_Some { get { return this is Option_Some<T>; } }
    public T dtor_value {
      get {
        var d = this;
        return ((Option_Some<T>)d)._value;
      }
    }
    public abstract _IOption<__T> DowncastClone<__T>(Func<T, __T> converter0);
    public bool IsFailure() {
      return (this).is_None;
    }
    public Std.Wrappers._IOption<__U> PropagateFailure<__U>() {
      return Std.Wrappers.Option<__U>.create_None();
    }
    public T Extract() {
      return (this).dtor_value;
    }
    public static T GetOr(Std.Wrappers._IOption<T> _this, T @default) {
      Std.Wrappers._IOption<T> _source0 = _this;
      {
        if (_source0.is_Some) {
          T _0_v = _source0.dtor_value;
          return _0_v;
        }
      }
      {
        return @default;
      }
    }
    public Std.Wrappers._IResult<T, __E> ToResult<__E>(__E error) {
      Std.Wrappers._IOption<T> _source0 = this;
      {
        if (_source0.is_Some) {
          T _0_v = _source0.dtor_value;
          return Std.Wrappers.Result<T, __E>.create_Success(_0_v);
        }
      }
      {
        return Std.Wrappers.Result<T, __E>.create_Failure(error);
      }
    }
    public Std.Wrappers._IOutcome<__E> ToOutcome<__E>(__E error) {
      Std.Wrappers._IOption<T> _source0 = this;
      {
        if (_source0.is_Some) {
          T _0_v = _source0.dtor_value;
          return Std.Wrappers.Outcome<__E>.create_Pass();
        }
      }
      {
        return Std.Wrappers.Outcome<__E>.create_Fail(error);
      }
    }
    public static __FC Map<__FC>(Std.Wrappers._IOption<T> _this, Func<Std.Wrappers._IOption<T>, __FC> rewrap) {
      return Dafny.Helpers.Id<Func<Std.Wrappers._IOption<T>, __FC>>(rewrap)(_this);
    }
  }
  public class Option_None<T> : Option<T> {
    public Option_None() : base() {
    }
    public override _IOption<__T> DowncastClone<__T>(Func<T, __T> converter0) {
      if (this is _IOption<__T> dt) { return dt; }
      return new Option_None<__T>();
    }
    public override bool Equals(object other) {
      var oth = other as Std.Wrappers.Option_None<T>;
      return oth != null;
    }
    public override int GetHashCode() {
      ulong hash = 5381;
      hash = ((hash << 5) + hash) + 0;
      return (int) hash;
    }
    public override string ToString() {
      string s = "Wrappers.Option.None";
      return s;
    }
  }
  public class Option_Some<T> : Option<T> {
    public readonly T _value;
    public Option_Some(T @value) : base() {
      this._value = @value;
    }
    public override _IOption<__T> DowncastClone<__T>(Func<T, __T> converter0) {
      if (this is _IOption<__T> dt) { return dt; }
      return new Option_Some<__T>(converter0(_value));
    }
    public override bool Equals(object other) {
      var oth = other as Std.Wrappers.Option_Some<T>;
      return oth != null && object.Equals(this._value, oth._value);
    }
    public override int GetHashCode() {
      ulong hash = 5381;
      hash = ((hash << 5) + hash) + 1;
      hash = ((hash << 5) + hash) + ((ulong)Dafny.Helpers.GetHashCode(this._value));
      return (int) hash;
    }
    public override string ToString() {
      string s = "Wrappers.Option.Some";
      s += "(";
      s += Dafny.Helpers.ToString(this._value);
      s += ")";
      return s;
    }
  }

  public interface _IResult<out R, out E> {
    bool is_Success { get; }
    bool is_Failure { get; }
    R dtor_value { get; }
    E dtor_error { get; }
    _IResult<__R, __E> DowncastClone<__R, __E>(Func<R, __R> converter0, Func<E, __E> converter1);
    bool IsFailure();
    Std.Wrappers._IResult<__U, E> PropagateFailure<__U>();
    R Extract();
    Std.Wrappers._IOption<R> ToOption();
    Std.Wrappers._IOutcome<E> ToOutcome();
  }
  public abstract class Result<R, E> : _IResult<R, E> {
    public Result() {
    }
    public static Std.Wrappers._IResult<R, E> Default(R _default_R) {
      return create_Success(_default_R);
    }
    public static Dafny.TypeDescriptor<Std.Wrappers._IResult<R, E>> _TypeDescriptor(Dafny.TypeDescriptor<R> _td_R) {
      return new Dafny.TypeDescriptor<Std.Wrappers._IResult<R, E>>(Std.Wrappers.Result<R, E>.Default(_td_R.Default()));
    }
    public static _IResult<R, E> create_Success(R @value) {
      return new Result_Success<R, E>(@value);
    }
    public static _IResult<R, E> create_Failure(E error) {
      return new Result_Failure<R, E>(error);
    }
    public bool is_Success { get { return this is Result_Success<R, E>; } }
    public bool is_Failure { get { return this is Result_Failure<R, E>; } }
    public R dtor_value {
      get {
        var d = this;
        return ((Result_Success<R, E>)d)._value;
      }
    }
    public E dtor_error {
      get {
        var d = this;
        return ((Result_Failure<R, E>)d)._error;
      }
    }
    public abstract _IResult<__R, __E> DowncastClone<__R, __E>(Func<R, __R> converter0, Func<E, __E> converter1);
    public bool IsFailure() {
      return (this).is_Failure;
    }
    public Std.Wrappers._IResult<__U, E> PropagateFailure<__U>() {
      return Std.Wrappers.Result<__U, E>.create_Failure((this).dtor_error);
    }
    public R Extract() {
      return (this).dtor_value;
    }
    public static R GetOr(Std.Wrappers._IResult<R, E> _this, R @default) {
      Std.Wrappers._IResult<R, E> _source0 = _this;
      {
        if (_source0.is_Success) {
          R _0_s = _source0.dtor_value;
          return _0_s;
        }
      }
      {
        E _1_e = _source0.dtor_error;
        return @default;
      }
    }
    public Std.Wrappers._IOption<R> ToOption() {
      Std.Wrappers._IResult<R, E> _source0 = this;
      {
        if (_source0.is_Success) {
          R _0_s = _source0.dtor_value;
          return Std.Wrappers.Option<R>.create_Some(_0_s);
        }
      }
      {
        E _1_e = _source0.dtor_error;
        return Std.Wrappers.Option<R>.create_None();
      }
    }
    public Std.Wrappers._IOutcome<E> ToOutcome() {
      Std.Wrappers._IResult<R, E> _source0 = this;
      {
        if (_source0.is_Success) {
          R _0_s = _source0.dtor_value;
          return Std.Wrappers.Outcome<E>.create_Pass();
        }
      }
      {
        E _1_e = _source0.dtor_error;
        return Std.Wrappers.Outcome<E>.create_Fail(_1_e);
      }
    }
    public static __FC Map<__FC>(Std.Wrappers._IResult<R, E> _this, Func<Std.Wrappers._IResult<R, E>, __FC> rewrap) {
      return Dafny.Helpers.Id<Func<Std.Wrappers._IResult<R, E>, __FC>>(rewrap)(_this);
    }
    public static Std.Wrappers._IResult<R, __NewE> MapFailure<__NewE>(Std.Wrappers._IResult<R, E> _this, Func<E, __NewE> reWrap) {
      Std.Wrappers._IResult<R, E> _source0 = _this;
      {
        if (_source0.is_Success) {
          R _0_s = _source0.dtor_value;
          return Std.Wrappers.Result<R, __NewE>.create_Success(_0_s);
        }
      }
      {
        E _1_e = _source0.dtor_error;
        return Std.Wrappers.Result<R, __NewE>.create_Failure(Dafny.Helpers.Id<Func<E, __NewE>>(reWrap)(_1_e));
      }
    }
  }
  public class Result_Success<R, E> : Result<R, E> {
    public readonly R _value;
    public Result_Success(R @value) : base() {
      this._value = @value;
    }
    public override _IResult<__R, __E> DowncastClone<__R, __E>(Func<R, __R> converter0, Func<E, __E> converter1) {
      if (this is _IResult<__R, __E> dt) { return dt; }
      return new Result_Success<__R, __E>(converter0(_value));
    }
    public override bool Equals(object other) {
      var oth = other as Std.Wrappers.Result_Success<R, E>;
      return oth != null && object.Equals(this._value, oth._value);
    }
    public override int GetHashCode() {
      ulong hash = 5381;
      hash = ((hash << 5) + hash) + 0;
      hash = ((hash << 5) + hash) + ((ulong)Dafny.Helpers.GetHashCode(this._value));
      return (int) hash;
    }
    public override string ToString() {
      string s = "Wrappers.Result.Success";
      s += "(";
      s += Dafny.Helpers.ToString(this._value);
      s += ")";
      return s;
    }
  }
  public class Result_Failure<R, E> : Result<R, E> {
    public readonly E _error;
    public Result_Failure(E error) : base() {
      this._error = error;
    }
    public override _IResult<__R, __E> DowncastClone<__R, __E>(Func<R, __R> converter0, Func<E, __E> converter1) {
      if (this is _IResult<__R, __E> dt) { return dt; }
      return new Result_Failure<__R, __E>(converter1(_error));
    }
    public override bool Equals(object other) {
      var oth = other as Std.Wrappers.Result_Failure<R, E>;
      return oth != null && object.Equals(this._error, oth._error);
    }
    public override int GetHashCode() {
      ulong hash = 5381;
      hash = ((hash << 5) + hash) + 1;
      hash = ((hash << 5) + hash) + ((ulong)Dafny.Helpers.GetHashCode(this._error));
      return (int) hash;
    }
    public override string ToString() {
      string s = "Wrappers.Result.Failure";
      s += "(";
      s += Dafny.Helpers.ToString(this._error);
      s += ")";
      return s;
    }
  }

  public interface _IOutcome<out E> {
    bool is_Pass { get; }
    bool is_Fail { get; }
    E dtor_error { get; }
    _IOutcome<__E> DowncastClone<__E>(Func<E, __E> converter0);
    bool IsFailure();
    Std.Wrappers._IOutcome<E> PropagateFailure();
    Std.Wrappers._IOption<__R> ToOption<__R>(__R r);
    Std.Wrappers._IResult<__R, E> ToResult<__R>(__R r);
  }
  public abstract class Outcome<E> : _IOutcome<E> {
    public Outcome() {
    }
    public static Std.Wrappers._IOutcome<E> Default() {
      return create_Pass();
    }
    public static Dafny.TypeDescriptor<Std.Wrappers._IOutcome<E>> _TypeDescriptor() {
      return new Dafny.TypeDescriptor<Std.Wrappers._IOutcome<E>>(Std.Wrappers.Outcome<E>.Default());
    }
    public static _IOutcome<E> create_Pass() {
      return new Outcome_Pass<E>();
    }
    public static _IOutcome<E> create_Fail(E error) {
      return new Outcome_Fail<E>(error);
    }
    public bool is_Pass { get { return this is Outcome_Pass<E>; } }
    public bool is_Fail { get { return this is Outcome_Fail<E>; } }
    public E dtor_error {
      get {
        var d = this;
        return ((Outcome_Fail<E>)d)._error;
      }
    }
    public abstract _IOutcome<__E> DowncastClone<__E>(Func<E, __E> converter0);
    public bool IsFailure() {
      return (this).is_Fail;
    }
    public Std.Wrappers._IOutcome<E> PropagateFailure() {
      return this;
    }
    public Std.Wrappers._IOption<__R> ToOption<__R>(__R r) {
      Std.Wrappers._IOutcome<E> _source0 = this;
      {
        if (_source0.is_Pass) {
          return Std.Wrappers.Option<__R>.create_Some(r);
        }
      }
      {
        E _0_e = _source0.dtor_error;
        return Std.Wrappers.Option<__R>.create_None();
      }
    }
    public Std.Wrappers._IResult<__R, E> ToResult<__R>(__R r) {
      Std.Wrappers._IOutcome<E> _source0 = this;
      {
        if (_source0.is_Pass) {
          return Std.Wrappers.Result<__R, E>.create_Success(r);
        }
      }
      {
        E _0_e = _source0.dtor_error;
        return Std.Wrappers.Result<__R, E>.create_Failure(_0_e);
      }
    }
    public static __FC Map<__FC>(Std.Wrappers._IOutcome<E> _this, Func<Std.Wrappers._IOutcome<E>, __FC> rewrap) {
      return Dafny.Helpers.Id<Func<Std.Wrappers._IOutcome<E>, __FC>>(rewrap)(_this);
    }
    public static Std.Wrappers._IResult<__T, __NewE> MapFailure<__T, __NewE>(Std.Wrappers._IOutcome<E> _this, Func<E, __NewE> rewrap, __T @default)
    {
      Std.Wrappers._IOutcome<E> _source0 = _this;
      {
        if (_source0.is_Pass) {
          return Std.Wrappers.Result<__T, __NewE>.create_Success(@default);
        }
      }
      {
        E _0_e = _source0.dtor_error;
        return Std.Wrappers.Result<__T, __NewE>.create_Failure(Dafny.Helpers.Id<Func<E, __NewE>>(rewrap)(_0_e));
      }
    }
    public static Std.Wrappers._IOutcome<E> Need(bool condition, E error)
    {
      if (condition) {
        return Std.Wrappers.Outcome<E>.create_Pass();
      } else {
        return Std.Wrappers.Outcome<E>.create_Fail(error);
      }
    }
  }
  public class Outcome_Pass<E> : Outcome<E> {
    public Outcome_Pass() : base() {
    }
    public override _IOutcome<__E> DowncastClone<__E>(Func<E, __E> converter0) {
      if (this is _IOutcome<__E> dt) { return dt; }
      return new Outcome_Pass<__E>();
    }
    public override bool Equals(object other) {
      var oth = other as Std.Wrappers.Outcome_Pass<E>;
      return oth != null;
    }
    public override int GetHashCode() {
      ulong hash = 5381;
      hash = ((hash << 5) + hash) + 0;
      return (int) hash;
    }
    public override string ToString() {
      string s = "Wrappers.Outcome.Pass";
      return s;
    }
  }
  public class Outcome_Fail<E> : Outcome<E> {
    public readonly E _error;
    public Outcome_Fail(E error) : base() {
      this._error = error;
    }
    public override _IOutcome<__E> DowncastClone<__E>(Func<E, __E> converter0) {
      if (this is _IOutcome<__E> dt) { return dt; }
      return new Outcome_Fail<__E>(converter0(_error));
    }
    public override bool Equals(object other) {
      var oth = other as Std.Wrappers.Outcome_Fail<E>;
      return oth != null && object.Equals(this._error, oth._error);
    }
    public override int GetHashCode() {
      ulong hash = 5381;
      hash = ((hash << 5) + hash) + 1;
      hash = ((hash << 5) + hash) + ((ulong)Dafny.Helpers.GetHashCode(this._error));
      return (int) hash;
    }
    public override string ToString() {
      string s = "Wrappers.Outcome.Fail";
      s += "(";
      s += Dafny.Helpers.ToString(this._error);
      s += ")";
      return s;
    }
  }

  public interface _IOutcomeResult<out E> {
    bool is_Pass_k { get; }
    bool is_Fail_k { get; }
    E dtor_error { get; }
    _IOutcomeResult<__E> DowncastClone<__E>(Func<E, __E> converter0);
    bool IsFailure();
    Std.Wrappers._IResult<__U, E> PropagateFailure<__U>();
  }
  public abstract class OutcomeResult<E> : _IOutcomeResult<E> {
    public OutcomeResult() {
    }
    public static Std.Wrappers._IOutcomeResult<E> Default() {
      return create_Pass_k();
    }
    public static Dafny.TypeDescriptor<Std.Wrappers._IOutcomeResult<E>> _TypeDescriptor() {
      return new Dafny.TypeDescriptor<Std.Wrappers._IOutcomeResult<E>>(Std.Wrappers.OutcomeResult<E>.Default());
    }
    public static _IOutcomeResult<E> create_Pass_k() {
      return new OutcomeResult_Pass_k<E>();
    }
    public static _IOutcomeResult<E> create_Fail_k(E error) {
      return new OutcomeResult_Fail_k<E>(error);
    }
    public bool is_Pass_k { get { return this is OutcomeResult_Pass_k<E>; } }
    public bool is_Fail_k { get { return this is OutcomeResult_Fail_k<E>; } }
    public E dtor_error {
      get {
        var d = this;
        return ((OutcomeResult_Fail_k<E>)d)._error;
      }
    }
    public abstract _IOutcomeResult<__E> DowncastClone<__E>(Func<E, __E> converter0);
    public bool IsFailure() {
      return (this).is_Fail_k;
    }
    public Std.Wrappers._IResult<__U, E> PropagateFailure<__U>() {
      return Std.Wrappers.Result<__U, E>.create_Failure((this).dtor_error);
    }
  }
  public class OutcomeResult_Pass_k<E> : OutcomeResult<E> {
    public OutcomeResult_Pass_k() : base() {
    }
    public override _IOutcomeResult<__E> DowncastClone<__E>(Func<E, __E> converter0) {
      if (this is _IOutcomeResult<__E> dt) { return dt; }
      return new OutcomeResult_Pass_k<__E>();
    }
    public override bool Equals(object other) {
      var oth = other as Std.Wrappers.OutcomeResult_Pass_k<E>;
      return oth != null;
    }
    public override int GetHashCode() {
      ulong hash = 5381;
      hash = ((hash << 5) + hash) + 0;
      return (int) hash;
    }
    public override string ToString() {
      string s = "Wrappers.OutcomeResult.Pass'";
      return s;
    }
  }
  public class OutcomeResult_Fail_k<E> : OutcomeResult<E> {
    public readonly E _error;
    public OutcomeResult_Fail_k(E error) : base() {
      this._error = error;
    }
    public override _IOutcomeResult<__E> DowncastClone<__E>(Func<E, __E> converter0) {
      if (this is _IOutcomeResult<__E> dt) { return dt; }
      return new OutcomeResult_Fail_k<__E>(converter0(_error));
    }
    public override bool Equals(object other) {
      var oth = other as Std.Wrappers.OutcomeResult_Fail_k<E>;
      return oth != null && object.Equals(this._error, oth._error);
    }
    public override int GetHashCode() {
      ulong hash = 5381;
      hash = ((hash << 5) + hash) + 1;
      hash = ((hash << 5) + hash) + ((ulong)Dafny.Helpers.GetHashCode(this._error));
      return (int) hash;
    }
    public override string ToString() {
      string s = "Wrappers.OutcomeResult.Fail'";
      s += "(";
      s += Dafny.Helpers.ToString(this._error);
      s += ")";
      return s;
    }
  }
} // end of namespace Std.Wrappers
namespace Std.Relations {

} // end of namespace Std.Relations
namespace Std.Math {

  public partial class __default {
    public static BigInteger Min(BigInteger a, BigInteger b)
    {
      if ((a) < (b)) {
        return a;
      } else {
        return b;
      }
    }
    public static BigInteger Min3(BigInteger a, BigInteger b, BigInteger c)
    {
      return Std.Math.__default.Min(a, Std.Math.__default.Min(b, c));
    }
    public static BigInteger Max(BigInteger a, BigInteger b)
    {
      if ((a) < (b)) {
        return b;
      } else {
        return a;
      }
    }
    public static BigInteger Max3(BigInteger a, BigInteger b, BigInteger c)
    {
      return Std.Math.__default.Max(a, Std.Math.__default.Max(b, c));
    }
    public static BigInteger Abs(BigInteger a) {
      if ((a).Sign == -1) {
        return (BigInteger.Zero) - (a);
      } else {
        return a;
      }
    }
  }
} // end of namespace Std.Math
namespace Std.Collections.Seq {

  public partial class __default {
    public static __T First<__T>(Dafny.ISequence<__T> xs) {
      return (xs).Select(BigInteger.Zero);
    }
    public static Dafny.ISequence<__T> DropFirst<__T>(Dafny.ISequence<__T> xs) {
      return (xs).Drop(BigInteger.One);
    }
    public static __T Last<__T>(Dafny.ISequence<__T> xs) {
      return (xs).Select((new BigInteger((xs).Count)) - (BigInteger.One));
    }
    public static Dafny.ISequence<__T> DropLast<__T>(Dafny.ISequence<__T> xs) {
      return (xs).Take((new BigInteger((xs).Count)) - (BigInteger.One));
    }
    public static __T[] ToArray<__T>(Dafny.ISequence<__T> xs)
    {
      __T[] a = new __T[0];
      Func<BigInteger, __T> _init0 = Dafny.Helpers.Id<Func<Dafny.ISequence<__T>, Func<BigInteger, __T>>>((_0_xs) => ((System.Func<BigInteger, __T>)((_1_i) => {
        return (_0_xs).Select(_1_i);
      })))(xs);
      __T[] _nw0 = new __T[Dafny.Helpers.ToIntChecked(new BigInteger((xs).Count), "array size exceeds memory limit")];
      for (var _i0_0 = 0; _i0_0 < new BigInteger(_nw0.Length); _i0_0++) {
        _nw0[(int)(_i0_0)] = _init0(_i0_0);
      }
      a = _nw0;
      return a;
    }
    public static Dafny.ISet<__T> ToSet<__T>(Dafny.ISequence<__T> xs) {
      return Dafny.Helpers.Id<Func<Dafny.ISequence<__T>, Dafny.ISet<__T>>>((_0_xs) => ((System.Func<Dafny.ISet<__T>>)(() => {
        var _coll0 = new System.Collections.Generic.List<__T>();
        foreach (__T _compr_0 in (_0_xs).CloneAsArray()) {
          __T _1_x = (__T)_compr_0;
          if ((_0_xs).Contains(_1_x)) {
            _coll0.Add(_1_x);
          }
        }
        return Dafny.Set<__T>.FromCollection(_coll0);
      }))())(xs);
    }
    public static BigInteger IndexOf<__T>(Dafny.ISequence<__T> xs, __T v)
    {
      BigInteger _0___accumulator = BigInteger.Zero;
    TAIL_CALL_START: ;
      if (object.Equals((xs).Select(BigInteger.Zero), v)) {
        return (BigInteger.Zero) + (_0___accumulator);
      } else {
        _0___accumulator = (_0___accumulator) + (BigInteger.One);
        Dafny.ISequence<__T> _in0 = (xs).Drop(BigInteger.One);
        __T _in1 = v;
        xs = _in0;
        v = _in1;
        goto TAIL_CALL_START;
      }
    }
    public static Std.Wrappers._IOption<BigInteger> IndexOfOption<__T>(Dafny.ISequence<__T> xs, __T v)
    {
      return Std.Collections.Seq.__default.IndexByOption<__T>(xs, Dafny.Helpers.Id<Func<__T, Func<__T, bool>>>((_0_v) => ((System.Func<__T, bool>)((_1_x) => {
        return object.Equals(_1_x, _0_v);
      })))(v));
    }
    public static Std.Wrappers._IOption<BigInteger> IndexByOption<__T>(Dafny.ISequence<__T> xs, Func<__T, bool> p)
    {
      if ((new BigInteger((xs).Count)).Sign == 0) {
        return Std.Wrappers.Option<BigInteger>.create_None();
      } else if (Dafny.Helpers.Id<Func<__T, bool>>(p)((xs).Select(BigInteger.Zero))) {
        return Std.Wrappers.Option<BigInteger>.create_Some(BigInteger.Zero);
      } else {
        Std.Wrappers._IOption<BigInteger> _0_o_k = Std.Collections.Seq.__default.IndexByOption<__T>((xs).Drop(BigInteger.One), p);
        if ((_0_o_k).is_Some) {
          return Std.Wrappers.Option<BigInteger>.create_Some(((_0_o_k).dtor_value) + (BigInteger.One));
        } else {
          return Std.Wrappers.Option<BigInteger>.create_None();
        }
      }
    }
    public static BigInteger LastIndexOf<__T>(Dafny.ISequence<__T> xs, __T v)
    {
    TAIL_CALL_START: ;
      if (object.Equals((xs).Select((new BigInteger((xs).Count)) - (BigInteger.One)), v)) {
        return (new BigInteger((xs).Count)) - (BigInteger.One);
      } else {
        Dafny.ISequence<__T> _in0 = (xs).Take((new BigInteger((xs).Count)) - (BigInteger.One));
        __T _in1 = v;
        xs = _in0;
        v = _in1;
        goto TAIL_CALL_START;
      }
    }
    public static Std.Wrappers._IOption<BigInteger> LastIndexOfOption<__T>(Dafny.ISequence<__T> xs, __T v)
    {
      return Std.Collections.Seq.__default.LastIndexByOption<__T>(xs, Dafny.Helpers.Id<Func<__T, Func<__T, bool>>>((_0_v) => ((System.Func<__T, bool>)((_1_x) => {
        return object.Equals(_1_x, _0_v);
      })))(v));
    }
    public static Std.Wrappers._IOption<BigInteger> LastIndexByOption<__T>(Dafny.ISequence<__T> xs, Func<__T, bool> p)
    {
    TAIL_CALL_START: ;
      if ((new BigInteger((xs).Count)).Sign == 0) {
        return Std.Wrappers.Option<BigInteger>.create_None();
      } else if (Dafny.Helpers.Id<Func<__T, bool>>(p)((xs).Select((new BigInteger((xs).Count)) - (BigInteger.One)))) {
        return Std.Wrappers.Option<BigInteger>.create_Some((new BigInteger((xs).Count)) - (BigInteger.One));
      } else {
        Dafny.ISequence<__T> _in0 = (xs).Take((new BigInteger((xs).Count)) - (BigInteger.One));
        Func<__T, bool> _in1 = p;
        xs = _in0;
        p = _in1;
        goto TAIL_CALL_START;
      }
    }
    public static Dafny.ISequence<__T> Remove<__T>(Dafny.ISequence<__T> xs, BigInteger pos)
    {
      return Dafny.Sequence<__T>.Concat((xs).Take(pos), (xs).Drop((pos) + (BigInteger.One)));
    }
    public static Dafny.ISequence<__T> RemoveValue<__T>(Dafny.ISequence<__T> xs, __T v)
    {
      if (!(xs).Contains(v)) {
        return xs;
      } else {
        BigInteger _0_i = Std.Collections.Seq.__default.IndexOf<__T>(xs, v);
        return Dafny.Sequence<__T>.Concat((xs).Take(_0_i), (xs).Drop((_0_i) + (BigInteger.One)));
      }
    }
    public static Dafny.ISequence<__T> Insert<__T>(Dafny.ISequence<__T> xs, __T a, BigInteger pos)
    {
      return Dafny.Sequence<__T>.Concat(Dafny.Sequence<__T>.Concat((xs).Take(pos), Dafny.Sequence<__T>.FromElements(a)), (xs).Drop(pos));
    }
    public static Dafny.ISequence<__T> Reverse<__T>(Dafny.ISequence<__T> xs) {
      Dafny.ISequence<__T> _0___accumulator = Dafny.Sequence<__T>.FromElements();
    TAIL_CALL_START: ;
      if ((xs).Equals(Dafny.Sequence<__T>.FromElements())) {
        return Dafny.Sequence<__T>.Concat(_0___accumulator, Dafny.Sequence<__T>.FromElements());
      } else {
        _0___accumulator = Dafny.Sequence<__T>.Concat(_0___accumulator, Dafny.Sequence<__T>.FromElements((xs).Select((new BigInteger((xs).Count)) - (BigInteger.One))));
        Dafny.ISequence<__T> _in0 = (xs).Subsequence(BigInteger.Zero, (new BigInteger((xs).Count)) - (BigInteger.One));
        xs = _in0;
        goto TAIL_CALL_START;
      }
    }
    public static Dafny.ISequence<__T> Repeat<__T>(__T v, BigInteger length)
    {
      Dafny.ISequence<__T> _0___accumulator = Dafny.Sequence<__T>.FromElements();
    TAIL_CALL_START: ;
      if ((length).Sign == 0) {
        return Dafny.Sequence<__T>.Concat(_0___accumulator, Dafny.Sequence<__T>.FromElements());
      } else {
        _0___accumulator = Dafny.Sequence<__T>.Concat(_0___accumulator, Dafny.Sequence<__T>.FromElements(v));
        __T _in0 = v;
        BigInteger _in1 = (length) - (BigInteger.One);
        v = _in0;
        length = _in1;
        goto TAIL_CALL_START;
      }
    }
    public static _System._ITuple2<Dafny.ISequence<__A>, Dafny.ISequence<__B>> Unzip<__A, __B>(Dafny.ISequence<_System._ITuple2<__A, __B>> xs) {
      if ((new BigInteger((xs).Count)).Sign == 0) {
        return _System.Tuple2<Dafny.ISequence<__A>, Dafny.ISequence<__B>>.create(Dafny.Sequence<__A>.FromElements(), Dafny.Sequence<__B>.FromElements());
      } else {
        _System._ITuple2<Dafny.ISequence<__A>, Dafny.ISequence<__B>> _let_tmp_rhs0 = Std.Collections.Seq.__default.Unzip<__A, __B>(Std.Collections.Seq.__default.DropLast<_System._ITuple2<__A, __B>>(xs));
        Dafny.ISequence<__A> _0_a = _let_tmp_rhs0.dtor__0;
        Dafny.ISequence<__B> _1_b = _let_tmp_rhs0.dtor__1;
        return _System.Tuple2<Dafny.ISequence<__A>, Dafny.ISequence<__B>>.create(Dafny.Sequence<__A>.Concat(_0_a, Dafny.Sequence<__A>.FromElements((Std.Collections.Seq.__default.Last<_System._ITuple2<__A, __B>>(xs)).dtor__0)), Dafny.Sequence<__B>.Concat(_1_b, Dafny.Sequence<__B>.FromElements((Std.Collections.Seq.__default.Last<_System._ITuple2<__A, __B>>(xs)).dtor__1)));
      }
    }
    public static Dafny.ISequence<_System._ITuple2<__A, __B>> Zip<__A, __B>(Dafny.ISequence<__A> xs, Dafny.ISequence<__B> ys)
    {
      Dafny.ISequence<_System._ITuple2<__A, __B>> _0___accumulator = Dafny.Sequence<_System._ITuple2<__A, __B>>.FromElements();
    TAIL_CALL_START: ;
      if ((new BigInteger((xs).Count)).Sign == 0) {
        return Dafny.Sequence<_System._ITuple2<__A, __B>>.Concat(Dafny.Sequence<_System._ITuple2<__A, __B>>.FromElements(), _0___accumulator);
      } else {
        _0___accumulator = Dafny.Sequence<_System._ITuple2<__A, __B>>.Concat(Dafny.Sequence<_System._ITuple2<__A, __B>>.FromElements(_System.Tuple2<__A, __B>.create(Std.Collections.Seq.__default.Last<__A>(xs), Std.Collections.Seq.__default.Last<__B>(ys))), _0___accumulator);
        Dafny.ISequence<__A> _in0 = Std.Collections.Seq.__default.DropLast<__A>(xs);
        Dafny.ISequence<__B> _in1 = Std.Collections.Seq.__default.DropLast<__B>(ys);
        xs = _in0;
        ys = _in1;
        goto TAIL_CALL_START;
      }
    }
    public static BigInteger Max(Dafny.ISequence<BigInteger> xs) {
      if ((new BigInteger((xs).Count)) == (BigInteger.One)) {
        return (xs).Select(BigInteger.Zero);
      } else {
        return Std.Math.__default.Max((xs).Select(BigInteger.Zero), Std.Collections.Seq.__default.Max((xs).Drop(BigInteger.One)));
      }
    }
    public static BigInteger Min(Dafny.ISequence<BigInteger> xs) {
      if ((new BigInteger((xs).Count)) == (BigInteger.One)) {
        return (xs).Select(BigInteger.Zero);
      } else {
        return Std.Math.__default.Min((xs).Select(BigInteger.Zero), Std.Collections.Seq.__default.Min((xs).Drop(BigInteger.One)));
      }
    }
    public static Dafny.ISequence<__T> Flatten<__T>(Dafny.ISequence<Dafny.ISequence<__T>> xs) {
      Dafny.ISequence<__T> _0___accumulator = Dafny.Sequence<__T>.FromElements();
    TAIL_CALL_START: ;
      if ((new BigInteger((xs).Count)).Sign == 0) {
        return Dafny.Sequence<__T>.Concat(_0___accumulator, Dafny.Sequence<__T>.FromElements());
      } else {
        _0___accumulator = Dafny.Sequence<__T>.Concat(_0___accumulator, (xs).Select(BigInteger.Zero));
        Dafny.ISequence<Dafny.ISequence<__T>> _in0 = (xs).Drop(BigInteger.One);
        xs = _in0;
        goto TAIL_CALL_START;
      }
    }
    public static Dafny.ISequence<__T> FlattenReverse<__T>(Dafny.ISequence<Dafny.ISequence<__T>> xs) {
      Dafny.ISequence<__T> _0___accumulator = Dafny.Sequence<__T>.FromElements();
    TAIL_CALL_START: ;
      if ((new BigInteger((xs).Count)).Sign == 0) {
        return Dafny.Sequence<__T>.Concat(Dafny.Sequence<__T>.FromElements(), _0___accumulator);
      } else {
        _0___accumulator = Dafny.Sequence<__T>.Concat(Std.Collections.Seq.__default.Last<Dafny.ISequence<__T>>(xs), _0___accumulator);
        Dafny.ISequence<Dafny.ISequence<__T>> _in0 = Std.Collections.Seq.__default.DropLast<Dafny.ISequence<__T>>(xs);
        xs = _in0;
        goto TAIL_CALL_START;
      }
    }
    public static Dafny.ISequence<__T> Join<__T>(Dafny.ISequence<Dafny.ISequence<__T>> seqs, Dafny.ISequence<__T> separator)
    {
      Dafny.ISequence<__T> _0___accumulator = Dafny.Sequence<__T>.FromElements();
    TAIL_CALL_START: ;
      if ((new BigInteger((seqs).Count)).Sign == 0) {
        return Dafny.Sequence<__T>.Concat(_0___accumulator, Dafny.Sequence<__T>.FromElements());
      } else if ((new BigInteger((seqs).Count)) == (BigInteger.One)) {
        return Dafny.Sequence<__T>.Concat(_0___accumulator, (seqs).Select(BigInteger.Zero));
      } else {
        _0___accumulator = Dafny.Sequence<__T>.Concat(_0___accumulator, Dafny.Sequence<__T>.Concat((seqs).Select(BigInteger.Zero), separator));
        Dafny.ISequence<Dafny.ISequence<__T>> _in0 = (seqs).Drop(BigInteger.One);
        Dafny.ISequence<__T> _in1 = separator;
        seqs = _in0;
        separator = _in1;
        goto TAIL_CALL_START;
      }
    }
    public static Dafny.ISequence<Dafny.ISequence<__T>> Split<__T>(Dafny.ISequence<__T> s, __T delim)
    {
      Dafny.ISequence<Dafny.ISequence<__T>> _0___accumulator = Dafny.Sequence<Dafny.ISequence<__T>>.FromElements();
    TAIL_CALL_START: ;
      Std.Wrappers._IOption<BigInteger> _1_i = Std.Collections.Seq.__default.IndexOfOption<__T>(s, delim);
      if ((_1_i).is_Some) {
        _0___accumulator = Dafny.Sequence<Dafny.ISequence<__T>>.Concat(_0___accumulator, Dafny.Sequence<Dafny.ISequence<__T>>.FromElements((s).Take((_1_i).dtor_value)));
        Dafny.ISequence<__T> _in0 = (s).Drop(((_1_i).dtor_value) + (BigInteger.One));
        __T _in1 = delim;
        s = _in0;
        delim = _in1;
        goto TAIL_CALL_START;
      } else {
        return Dafny.Sequence<Dafny.ISequence<__T>>.Concat(_0___accumulator, Dafny.Sequence<Dafny.ISequence<__T>>.FromElements(s));
      }
    }
    public static _System._ITuple2<Dafny.ISequence<__T>, Dafny.ISequence<__T>> SplitOnce<__T>(Dafny.ISequence<__T> s, __T delim)
    {
      Std.Wrappers._IOption<BigInteger> _0_i = Std.Collections.Seq.__default.IndexOfOption<__T>(s, delim);
      return _System.Tuple2<Dafny.ISequence<__T>, Dafny.ISequence<__T>>.create((s).Take((_0_i).dtor_value), (s).Drop(((_0_i).dtor_value) + (BigInteger.One)));
    }
    public static Std.Wrappers._IOption<_System._ITuple2<Dafny.ISequence<__T>, Dafny.ISequence<__T>>> SplitOnceOption<__T>(Dafny.ISequence<__T> s, __T delim)
    {
      Std.Wrappers._IOption<BigInteger> _0_valueOrError0 = Std.Collections.Seq.__default.IndexOfOption<__T>(s, delim);
      if ((_0_valueOrError0).IsFailure()) {
        return (_0_valueOrError0).PropagateFailure<_System._ITuple2<Dafny.ISequence<__T>, Dafny.ISequence<__T>>>();
      } else {
        BigInteger _1_i = (_0_valueOrError0).Extract();
        return Std.Wrappers.Option<_System._ITuple2<Dafny.ISequence<__T>, Dafny.ISequence<__T>>>.create_Some(_System.Tuple2<Dafny.ISequence<__T>, Dafny.ISequence<__T>>.create((s).Take(_1_i), (s).Drop((_1_i) + (BigInteger.One))));
      }
    }
    public static Dafny.ISequence<__R> Map<__T, __R>(Func<__T, __R> f, Dafny.ISequence<__T> xs)
    {
      Dafny.ISequence<__R> _0___accumulator = Dafny.Sequence<__R>.FromElements();
    TAIL_CALL_START: ;
      if ((new BigInteger((xs).Count)).Sign == 0) {
        return Dafny.Sequence<__R>.Concat(_0___accumulator, Dafny.Sequence<__R>.FromElements());
      } else {
        _0___accumulator = Dafny.Sequence<__R>.Concat(_0___accumulator, Dafny.Sequence<__R>.FromElements(Dafny.Helpers.Id<Func<__T, __R>>(f)((xs).Select(BigInteger.Zero))));
        Func<__T, __R> _in0 = f;
        Dafny.ISequence<__T> _in1 = (xs).Drop(BigInteger.One);
        f = _in0;
        xs = _in1;
        goto TAIL_CALL_START;
      }
    }
    public static Dafny.ISequence<__R> MapPartialFunction<__T, __R>(Func<__T, __R> f, Dafny.ISequence<__T> xs)
    {
      return Std.Collections.Seq.__default.Map<__T, __R>(f, xs);
    }
    public static Std.Wrappers._IResult<Dafny.ISequence<__R>, __E> MapWithResult<__T, __R, __E>(Func<__T, Std.Wrappers._IResult<__R, __E>> f, Dafny.ISequence<__T> xs)
    {
      if ((new BigInteger((xs).Count)).Sign == 0) {
        return Std.Wrappers.Result<Dafny.ISequence<__R>, __E>.create_Success(Dafny.Sequence<__R>.FromElements());
      } else {
        Std.Wrappers._IResult<__R, __E> _0_valueOrError0 = Dafny.Helpers.Id<Func<__T, Std.Wrappers._IResult<__R, __E>>>(f)((xs).Select(BigInteger.Zero));
        if ((_0_valueOrError0).IsFailure()) {
          return (_0_valueOrError0).PropagateFailure<Dafny.ISequence<__R>>();
        } else {
          __R _1_head = (_0_valueOrError0).Extract();
          Std.Wrappers._IResult<Dafny.ISequence<__R>, __E> _2_valueOrError1 = Std.Collections.Seq.__default.MapWithResult<__T, __R, __E>(f, (xs).Drop(BigInteger.One));
          if ((_2_valueOrError1).IsFailure()) {
            return (_2_valueOrError1).PropagateFailure<Dafny.ISequence<__R>>();
          } else {
            Dafny.ISequence<__R> _3_tail = (_2_valueOrError1).Extract();
            return Std.Wrappers.Result<Dafny.ISequence<__R>, __E>.create_Success(Dafny.Sequence<__R>.Concat(Dafny.Sequence<__R>.FromElements(_1_head), _3_tail));
          }
        }
      }
    }
    public static Dafny.ISequence<__T> Filter<__T>(Func<__T, bool> f, Dafny.ISequence<__T> xs)
    {
      Dafny.ISequence<__T> _0___accumulator = Dafny.Sequence<__T>.FromElements();
    TAIL_CALL_START: ;
      if ((new BigInteger((xs).Count)).Sign == 0) {
        return Dafny.Sequence<__T>.Concat(_0___accumulator, Dafny.Sequence<__T>.FromElements());
      } else {
        _0___accumulator = Dafny.Sequence<__T>.Concat(_0___accumulator, ((Dafny.Helpers.Id<Func<__T, bool>>(f)((xs).Select(BigInteger.Zero))) ? (Dafny.Sequence<__T>.FromElements((xs).Select(BigInteger.Zero))) : (Dafny.Sequence<__T>.FromElements())));
        Func<__T, bool> _in0 = f;
        Dafny.ISequence<__T> _in1 = (xs).Drop(BigInteger.One);
        f = _in0;
        xs = _in1;
        goto TAIL_CALL_START;
      }
    }
    public static __A FoldLeft<__A, __T>(Func<__A, __T, __A> f, __A init, Dafny.ISequence<__T> xs)
    {
    TAIL_CALL_START: ;
      if ((new BigInteger((xs).Count)).Sign == 0) {
        return init;
      } else {
        Func<__A, __T, __A> _in0 = f;
        __A _in1 = Dafny.Helpers.Id<Func<__A, __T, __A>>(f)(init, (xs).Select(BigInteger.Zero));
        Dafny.ISequence<__T> _in2 = (xs).Drop(BigInteger.One);
        f = _in0;
        init = _in1;
        xs = _in2;
        goto TAIL_CALL_START;
      }
    }
    public static __A FoldRight<__A, __T>(Func<__T, __A, __A> f, Dafny.ISequence<__T> xs, __A init)
    {
      if ((new BigInteger((xs).Count)).Sign == 0) {
        return init;
      } else {
        return Dafny.Helpers.Id<Func<__T, __A, __A>>(f)((xs).Select(BigInteger.Zero), Std.Collections.Seq.__default.FoldRight<__A, __T>(f, (xs).Drop(BigInteger.One), init));
      }
    }
    public static Dafny.ISequence<__T> MergeSortBy<__T>(Func<__T, __T, bool> lessThanOrEq, Dafny.ISequence<__T> a)
    {
      if ((new BigInteger((a).Count)) <= (BigInteger.One)) {
        return a;
      } else {
        BigInteger _0_splitIndex = Dafny.Helpers.EuclideanDivision(new BigInteger((a).Count), new BigInteger(2));
        Dafny.ISequence<__T> _1_left = (a).Take(_0_splitIndex);
        Dafny.ISequence<__T> _2_right = (a).Drop(_0_splitIndex);
        Dafny.ISequence<__T> _3_leftSorted = Std.Collections.Seq.__default.MergeSortBy<__T>(lessThanOrEq, _1_left);
        Dafny.ISequence<__T> _4_rightSorted = Std.Collections.Seq.__default.MergeSortBy<__T>(lessThanOrEq, _2_right);
        return Std.Collections.Seq.__default.MergeSortedWith<__T>(_3_leftSorted, _4_rightSorted, lessThanOrEq);
      }
    }
    public static Dafny.ISequence<__T> MergeSortedWith<__T>(Dafny.ISequence<__T> left, Dafny.ISequence<__T> right, Func<__T, __T, bool> lessThanOrEq)
    {
      Dafny.ISequence<__T> _0___accumulator = Dafny.Sequence<__T>.FromElements();
    TAIL_CALL_START: ;
      if ((new BigInteger((left).Count)).Sign == 0) {
        return Dafny.Sequence<__T>.Concat(_0___accumulator, right);
      } else if ((new BigInteger((right).Count)).Sign == 0) {
        return Dafny.Sequence<__T>.Concat(_0___accumulator, left);
      } else if (Dafny.Helpers.Id<Func<__T, __T, bool>>(lessThanOrEq)((left).Select(BigInteger.Zero), (right).Select(BigInteger.Zero))) {
        _0___accumulator = Dafny.Sequence<__T>.Concat(_0___accumulator, Dafny.Sequence<__T>.FromElements((left).Select(BigInteger.Zero)));
        Dafny.ISequence<__T> _in0 = (left).Drop(BigInteger.One);
        Dafny.ISequence<__T> _in1 = right;
        Func<__T, __T, bool> _in2 = lessThanOrEq;
        left = _in0;
        right = _in1;
        lessThanOrEq = _in2;
        goto TAIL_CALL_START;
      } else {
        _0___accumulator = Dafny.Sequence<__T>.Concat(_0___accumulator, Dafny.Sequence<__T>.FromElements((right).Select(BigInteger.Zero)));
        Dafny.ISequence<__T> _in3 = left;
        Dafny.ISequence<__T> _in4 = (right).Drop(BigInteger.One);
        Func<__T, __T, bool> _in5 = lessThanOrEq;
        left = _in3;
        right = _in4;
        lessThanOrEq = _in5;
        goto TAIL_CALL_START;
      }
    }
    public static bool All<__T>(Dafny.ISequence<__T> s, Func<__T, bool> p)
    {
      return Dafny.Helpers.Id<Func<Dafny.ISequence<__T>, Func<__T, bool>, bool>>((_0_s, _1_p) => Dafny.Helpers.Quantifier<BigInteger>(Dafny.Helpers.IntegerRange(BigInteger.Zero, new BigInteger((_0_s).Count)), true, (((_forall_var_0) => {
        BigInteger _2_i = (BigInteger)_forall_var_0;
        return !(((_2_i).Sign != -1) && ((_2_i) < (new BigInteger((_0_s).Count)))) || (Dafny.Helpers.Id<Func<__T, bool>>(_1_p)((_0_s).Select(_2_i)));
      }))))(s, p);
    }
    public static bool AllNot<__T>(Dafny.ISequence<__T> s, Func<__T, bool> p)
    {
      return Dafny.Helpers.Id<Func<Dafny.ISequence<__T>, Func<__T, bool>, bool>>((_0_s, _1_p) => Dafny.Helpers.Quantifier<BigInteger>(Dafny.Helpers.IntegerRange(BigInteger.Zero, new BigInteger((_0_s).Count)), true, (((_forall_var_0) => {
        BigInteger _2_i = (BigInteger)_forall_var_0;
        return !(((_2_i).Sign != -1) && ((_2_i) < (new BigInteger((_0_s).Count)))) || (!(Dafny.Helpers.Id<Func<__T, bool>>(_1_p)((_0_s).Select(_2_i))));
      }))))(s, p);
    }
    public static bool Partitioned<__T>(Dafny.ISequence<__T> s, Func<__T, bool> p)
    {
    TAIL_CALL_START: ;
      if ((s).Equals(Dafny.Sequence<__T>.FromElements())) {
        return true;
      } else if (Dafny.Helpers.Id<Func<__T, bool>>(p)((s).Select(BigInteger.Zero))) {
        Dafny.ISequence<__T> _in0 = (s).Drop(BigInteger.One);
        Func<__T, bool> _in1 = p;
        s = _in0;
        p = _in1;
        goto TAIL_CALL_START;
      } else {
        return Std.Collections.Seq.__default.AllNot<__T>((s).Drop(BigInteger.One), p);
      }
    }
  }

  public interface _ISlice<T> {
    bool is_Slice { get; }
    Dafny.ISequence<T> dtor_data { get; }
    BigInteger dtor_start { get; }
    BigInteger dtor_end { get; }
    _ISlice<__T> DowncastClone<__T>(Func<T, __T> converter0);
    Dafny.ISequence<T> View();
    BigInteger Length();
    T At(BigInteger i);
    Std.Collections.Seq._ISlice<T> Drop(BigInteger firstIncludedIndex);
    Std.Collections.Seq._ISlice<T> Sub(BigInteger firstIncludedIndex, BigInteger lastExcludedIndex);
  }
  public class Slice<T> : _ISlice<T> {
    public readonly Dafny.ISequence<T> _data;
    public readonly BigInteger _start;
    public readonly BigInteger _end;
    public Slice(Dafny.ISequence<T> data, BigInteger start, BigInteger end) {
      this._data = data;
      this._start = start;
      this._end = end;
    }
    public _ISlice<__T> DowncastClone<__T>(Func<T, __T> converter0) {
      if (this is _ISlice<__T> dt) { return dt; }
      return new Slice<__T>((_data).DowncastClone<__T>(Dafny.Helpers.CastConverter<T, __T>), _start, _end);
    }
    public override bool Equals(object other) {
      var oth = other as Std.Collections.Seq.Slice<T>;
      return oth != null && object.Equals(this._data, oth._data) && this._start == oth._start && this._end == oth._end;
    }
    public override int GetHashCode() {
      ulong hash = 5381;
      hash = ((hash << 5) + hash) + 0;
      hash = ((hash << 5) + hash) + ((ulong)Dafny.Helpers.GetHashCode(this._data));
      hash = ((hash << 5) + hash) + ((ulong)Dafny.Helpers.GetHashCode(this._start));
      hash = ((hash << 5) + hash) + ((ulong)Dafny.Helpers.GetHashCode(this._end));
      return (int) hash;
    }
    public override string ToString() {
      string s = "Seq.Slice.Slice";
      s += "(";
      s += Dafny.Helpers.ToString(this._data);
      s += ", ";
      s += Dafny.Helpers.ToString(this._start);
      s += ", ";
      s += Dafny.Helpers.ToString(this._end);
      s += ")";
      return s;
    }
    public static Std.Collections.Seq._ISlice<T> Default() {
      return create(Dafny.Sequence<T>.Empty, BigInteger.Zero, BigInteger.Zero);
    }
    public static Dafny.TypeDescriptor<Std.Collections.Seq._ISlice<T>> _TypeDescriptor() {
      return new Dafny.TypeDescriptor<Std.Collections.Seq._ISlice<T>>(Std.Collections.Seq.Slice<T>.Default());
    }
    public static _ISlice<T> create(Dafny.ISequence<T> data, BigInteger start, BigInteger end) {
      return new Slice<T>(data, start, end);
    }
    public static _ISlice<T> create_Slice(Dafny.ISequence<T> data, BigInteger start, BigInteger end) {
      return create(data, start, end);
    }
    public bool is_Slice { get { return true; } }
    public Dafny.ISequence<T> dtor_data {
      get {
        return this._data;
      }
    }
    public BigInteger dtor_start {
      get {
        return this._start;
      }
    }
    public BigInteger dtor_end {
      get {
        return this._end;
      }
    }
    public Dafny.ISequence<T> View() {
      return ((this).dtor_data).Subsequence((this).dtor_start, (this).dtor_end);
    }
    public BigInteger Length() {
      return ((this).dtor_end) - ((this).dtor_start);
    }
    public T At(BigInteger i) {
      return ((this).dtor_data).Select(((this).dtor_start) + (i));
    }
    public Std.Collections.Seq._ISlice<T> Drop(BigInteger firstIncludedIndex) {
      return Std.Collections.Seq.Slice<T>.create((this).dtor_data, ((this).dtor_start) + (firstIncludedIndex), (this).dtor_end);
    }
    public Std.Collections.Seq._ISlice<T> Sub(BigInteger firstIncludedIndex, BigInteger lastExcludedIndex)
    {
      return Std.Collections.Seq.Slice<T>.create((this).dtor_data, ((this).dtor_start) + (firstIncludedIndex), ((this).dtor_start) + (lastExcludedIndex));
    }
  }
} // end of namespace Std.Collections.Seq
namespace Std.Collections.Array {

  public partial class __default {
    public static Std.Wrappers._IOption<BigInteger> BinarySearch<__T>(__T[] a, __T key, Func<__T, __T, bool> less)
    {
      Std.Wrappers._IOption<BigInteger> r = Std.Wrappers.Option<BigInteger>.Default();
      BigInteger _0_lo;
      BigInteger _1_hi;
      BigInteger _rhs0 = BigInteger.Zero;
      BigInteger _rhs1 = new BigInteger((a).Length);
      _0_lo = _rhs0;
      _1_hi = _rhs1;
      while ((_0_lo) < (_1_hi)) {
        BigInteger _2_mid;
        _2_mid = Dafny.Helpers.EuclideanDivision((_0_lo) + (_1_hi), new BigInteger(2));
        if (Dafny.Helpers.Id<Func<__T, __T, bool>>(less)(key, (a)[(int)(_2_mid)])) {
          _1_hi = _2_mid;
        } else if (Dafny.Helpers.Id<Func<__T, __T, bool>>(less)((a)[(int)(_2_mid)], key)) {
          _0_lo = (_2_mid) + (BigInteger.One);
        } else {
          r = Std.Wrappers.Option<BigInteger>.create_Some(_2_mid);
          return r;
        }
      }
      r = Std.Wrappers.Option<BigInteger>.create_None();
      return r;
      return r;
    }
  }
} // end of namespace Std.Collections.Array
namespace Std.Collections.Imap {

  public partial class __default {
    public static Std.Wrappers._IOption<__Y> Get<__X, __Y>(Dafny.IMap<__X,__Y> m, __X x)
    {
      if ((m).Contains(x)) {
        return Std.Wrappers.Option<__Y>.create_Some(Dafny.Map<__X, __Y>.Select(m,x));
      } else {
        return Std.Wrappers.Option<__Y>.create_None();
      }
    }
  }
} // end of namespace Std.Collections.Imap
namespace Std.Functions {

} // end of namespace Std.Functions
namespace Std.Collections.Iset {

} // end of namespace Std.Collections.Iset
namespace Std.Collections.Map {

  public partial class __default {
    public static Std.Wrappers._IOption<__Y> Get<__X, __Y>(Dafny.IMap<__X,__Y> m, __X x)
    {
      if ((m).Contains(x)) {
        return Std.Wrappers.Option<__Y>.create_Some(Dafny.Map<__X, __Y>.Select(m,x));
      } else {
        return Std.Wrappers.Option<__Y>.create_None();
      }
    }
    public static Dafny.IMap<__X,__Y> ToImap<__X, __Y>(Dafny.IMap<__X,__Y> m) {
      return Dafny.Helpers.Id<Func<Dafny.IMap<__X,__Y>, Dafny.IMap<__X,__Y>>>((_0_m) => ((System.Func<Dafny.IMap<__X,__Y>>)(() => {
        var _coll0 = new System.Collections.Generic.List<Dafny.Pair<__X,__Y>>();
        foreach (__X _compr_0 in (_0_m).Keys.Elements) {
          __X _1_x = (__X)_compr_0;
          if ((_0_m).Contains(_1_x)) {
            _coll0.Add(new Dafny.Pair<__X,__Y>(_1_x, Dafny.Map<__X, __Y>.Select(_0_m,_1_x)));
          }
        }
        return Dafny.Map<__X,__Y>.FromCollection(_coll0);
      }))())(m);
    }
    public static Dafny.IMap<__X,__Y> RemoveKeys<__X, __Y>(Dafny.IMap<__X,__Y> m, Dafny.ISet<__X> xs)
    {
      return Dafny.Map<__X, __Y>.Subtract(m, xs);
    }
    public static Dafny.IMap<__X,__Y> Remove<__X, __Y>(Dafny.IMap<__X,__Y> m, __X x)
    {
      Dafny.IMap<__X,__Y> _0_m_k = Dafny.Helpers.Id<Func<Dafny.IMap<__X,__Y>, __X, Dafny.IMap<__X,__Y>>>((_1_m, _2_x) => ((System.Func<Dafny.IMap<__X,__Y>>)(() => {
        var _coll0 = new System.Collections.Generic.List<Dafny.Pair<__X,__Y>>();
        foreach (__X _compr_0 in (_1_m).Keys.Elements) {
          __X _3_x_k = (__X)_compr_0;
          if (((_1_m).Contains(_3_x_k)) && (!object.Equals(_3_x_k, _2_x))) {
            _coll0.Add(new Dafny.Pair<__X,__Y>(_3_x_k, Dafny.Map<__X, __Y>.Select(_1_m,_3_x_k)));
          }
        }
        return Dafny.Map<__X,__Y>.FromCollection(_coll0);
      }))())(m, x);
      return _0_m_k;
    }
    public static Dafny.IMap<__X,__Y> Restrict<__X, __Y>(Dafny.IMap<__X,__Y> m, Dafny.ISet<__X> xs)
    {
      return Dafny.Helpers.Id<Func<Dafny.ISet<__X>, Dafny.IMap<__X,__Y>, Dafny.IMap<__X,__Y>>>((_0_xs, _1_m) => ((System.Func<Dafny.IMap<__X,__Y>>)(() => {
        var _coll0 = new System.Collections.Generic.List<Dafny.Pair<__X,__Y>>();
        foreach (__X _compr_0 in (_0_xs).Elements) {
          __X _2_x = (__X)_compr_0;
          if (((_0_xs).Contains(_2_x)) && ((_1_m).Contains(_2_x))) {
            _coll0.Add(new Dafny.Pair<__X,__Y>(_2_x, Dafny.Map<__X, __Y>.Select(_1_m,_2_x)));
          }
        }
        return Dafny.Map<__X,__Y>.FromCollection(_coll0);
      }))())(xs, m);
    }
    public static Dafny.IMap<__X,__Y> Union<__X, __Y>(Dafny.IMap<__X,__Y> m, Dafny.IMap<__X,__Y> m_k)
    {
      return Dafny.Map<__X, __Y>.Merge(m, m_k);
    }
  }
} // end of namespace Std.Collections.Map
namespace Std.Collections.Multiset {

} // end of namespace Std.Collections.Multiset
namespace Std.Collections.Set {

  public partial class __default {
    public static __T ExtractFromSingleton<__T>(Dafny.ISet<__T> s) {
      return Dafny.Helpers.Let<int, __T>(0, _let_dummy_0 =>  {
        __T _0_x = default(__T);
        foreach (__T _assign_such_that_0 in (s).Elements) {
          _0_x = (__T)_assign_such_that_0;
          if ((s).Contains(_0_x)) {
            goto after__ASSIGN_SUCH_THAT_0;
          }
        }
        throw new System.Exception("assign-such-that search produced no value");
      after__ASSIGN_SUCH_THAT_0: ;
        return _0_x;
      }
      );
    }
    public static Dafny.ISet<__Y> Map<__X, __Y>(Func<__X, __Y> f, Dafny.ISet<__X> xs)
    {
      Dafny.ISet<__Y> _0_ys = Dafny.Helpers.Id<Func<Dafny.ISet<__X>, Func<__X, __Y>, Dafny.ISet<__Y>>>((_1_xs, _2_f) => ((System.Func<Dafny.ISet<__Y>>)(() => {
        var _coll0 = new System.Collections.Generic.List<__Y>();
        foreach (__X _compr_0 in (_1_xs).Elements) {
          __X _3_x = (__X)_compr_0;
          if ((_1_xs).Contains(_3_x)) {
            _coll0.Add(Dafny.Helpers.Id<Func<__X, __Y>>(_2_f)(_3_x));
          }
        }
        return Dafny.Set<__Y>.FromCollection(_coll0);
      }))())(xs, f);
      return _0_ys;
    }
    public static Dafny.ISet<__X> Filter<__X>(Func<__X, bool> f, Dafny.ISet<__X> xs)
    {
      Dafny.ISet<__X> _0_ys = Dafny.Helpers.Id<Func<Dafny.ISet<__X>, Func<__X, bool>, Dafny.ISet<__X>>>((_1_xs, _2_f) => ((System.Func<Dafny.ISet<__X>>)(() => {
        var _coll0 = new System.Collections.Generic.List<__X>();
        foreach (__X _compr_0 in (_1_xs).Elements) {
          __X _3_x = (__X)_compr_0;
          if (((_1_xs).Contains(_3_x)) && (Dafny.Helpers.Id<Func<__X, bool>>(_2_f)(_3_x))) {
            _coll0.Add(_3_x);
          }
        }
        return Dafny.Set<__X>.FromCollection(_coll0);
      }))())(xs, f);
      return _0_ys;
    }
    public static Dafny.ISet<BigInteger> SetRange(BigInteger a, BigInteger b)
    {
      Dafny.ISet<BigInteger> _0___accumulator = Dafny.Set<BigInteger>.FromElements();
    TAIL_CALL_START: ;
      if ((a) == (b)) {
        return Dafny.Set<BigInteger>.Union(Dafny.Set<BigInteger>.FromElements(), _0___accumulator);
      } else {
        _0___accumulator = Dafny.Set<BigInteger>.Union(_0___accumulator, Dafny.Set<BigInteger>.FromElements(a));
        BigInteger _in0 = (a) + (BigInteger.One);
        BigInteger _in1 = b;
        a = _in0;
        b = _in1;
        goto TAIL_CALL_START;
      }
    }
    public static Dafny.ISet<BigInteger> SetRangeZeroBound(BigInteger n) {
      return Std.Collections.Set.__default.SetRange(BigInteger.Zero, n);
    }
  }
} // end of namespace Std.Collections.Set
namespace Std.Collections.Tuple {

  public partial class __default {
    public static Func<_System._ITuple2<__L, __R>, __L> T2__0<__L, __R>() {
      return ((System.Func<_System._ITuple2<__L, __R>, __L>)((_0_lr) => {
        return (_0_lr).dtor__0;
      }));
    }
    public static Func<_System._ITuple2<__L, __R>, __R> T2__1<__L, __R>() {
      return ((System.Func<_System._ITuple2<__L, __R>, __R>)((_0_lr) => {
        return (_0_lr).dtor__1;
      }));
    }
  }
} // end of namespace Std.Collections.Tuple
namespace Std.Collections {

} // end of namespace Std.Collections
namespace Std.Ordinal {

  public partial class __default {
    public static BigInteger Max(BigInteger a, BigInteger b)
    {
      if ((a) < (b)) {
        return b;
      } else {
        return a;
      }
    }
  }
} // end of namespace Std.Ordinal
namespace Std.Termination {


  public interface _ITerminationMetric {
    bool is_TMBool { get; }
    bool is_TMNat { get; }
    bool is_TMChar { get; }
    bool is_TMOrdinal { get; }
    bool is_TMObject { get; }
    bool is_TMSeq { get; }
    bool is_TMSet { get; }
    bool is_TMTuple { get; }
    bool is_TMTop { get; }
    bool is_TMSucc { get; }
    bool dtor_boolValue { get; }
    BigInteger dtor_natValue { get; }
    BigInteger dtor_charValue { get; }
    BigInteger dtor_ordinalValue { get; }
    object dtor_objectValue { get; }
    Dafny.ISequence<Std.Termination._ITerminationMetric> dtor_seqValue { get; }
    Dafny.ISet<Std.Termination._ITerminationMetric> dtor_setValue { get; }
    Std.Termination._ITerminationMetric dtor_base { get; }
    Std.Termination._ITerminationMetric dtor_first { get; }
    Std.Termination._ITerminationMetric dtor_second { get; }
    Std.Termination._ITerminationMetric dtor_original { get; }
    _ITerminationMetric DowncastClone();
  }
  public abstract class TerminationMetric : _ITerminationMetric {
    public TerminationMetric() {
    }
    private static readonly Std.Termination._ITerminationMetric theDefault = create_TMBool(false);
    public static Std.Termination._ITerminationMetric Default() {
      return theDefault;
    }
    private static readonly Dafny.TypeDescriptor<Std.Termination._ITerminationMetric> _TYPE = new Dafny.TypeDescriptor<Std.Termination._ITerminationMetric>(Std.Termination.TerminationMetric.Default());
    public static Dafny.TypeDescriptor<Std.Termination._ITerminationMetric> _TypeDescriptor() {
      return _TYPE;
    }
    public static _ITerminationMetric create_TMBool(bool boolValue) {
      return new TerminationMetric_TMBool(boolValue);
    }
    public static _ITerminationMetric create_TMNat(BigInteger natValue) {
      return new TerminationMetric_TMNat(natValue);
    }
    public static _ITerminationMetric create_TMChar(BigInteger charValue) {
      return new TerminationMetric_TMChar(charValue);
    }
    public static _ITerminationMetric create_TMOrdinal(BigInteger ordinalValue) {
      return new TerminationMetric_TMOrdinal(ordinalValue);
    }
    public static _ITerminationMetric create_TMObject(object objectValue) {
      return new TerminationMetric_TMObject(objectValue);
    }
    public static _ITerminationMetric create_TMSeq(Dafny.ISequence<Std.Termination._ITerminationMetric> seqValue) {
      return new TerminationMetric_TMSeq(seqValue);
    }
    public static _ITerminationMetric create_TMSet(Dafny.ISet<Std.Termination._ITerminationMetric> setValue) {
      return new TerminationMetric_TMSet(setValue);
    }
    public static _ITerminationMetric create_TMTuple(Std.Termination._ITerminationMetric @base, Std.Termination._ITerminationMetric first, Std.Termination._ITerminationMetric second) {
      return new TerminationMetric_TMTuple(@base, first, second);
    }
    public static _ITerminationMetric create_TMTop() {
      return new TerminationMetric_TMTop();
    }
    public static _ITerminationMetric create_TMSucc(Std.Termination._ITerminationMetric original) {
      return new TerminationMetric_TMSucc(original);
    }
    public bool is_TMBool { get { return this is TerminationMetric_TMBool; } }
    public bool is_TMNat { get { return this is TerminationMetric_TMNat; } }
    public bool is_TMChar { get { return this is TerminationMetric_TMChar; } }
    public bool is_TMOrdinal { get { return this is TerminationMetric_TMOrdinal; } }
    public bool is_TMObject { get { return this is TerminationMetric_TMObject; } }
    public bool is_TMSeq { get { return this is TerminationMetric_TMSeq; } }
    public bool is_TMSet { get { return this is TerminationMetric_TMSet; } }
    public bool is_TMTuple { get { return this is TerminationMetric_TMTuple; } }
    public bool is_TMTop { get { return this is TerminationMetric_TMTop; } }
    public bool is_TMSucc { get { return this is TerminationMetric_TMSucc; } }
    public bool dtor_boolValue {
      get {
        var d = this;
        return ((TerminationMetric_TMBool)d)._boolValue;
      }
    }
    public BigInteger dtor_natValue {
      get {
        var d = this;
        return ((TerminationMetric_TMNat)d)._natValue;
      }
    }
    public BigInteger dtor_charValue {
      get {
        var d = this;
        return ((TerminationMetric_TMChar)d)._charValue;
      }
    }
    public BigInteger dtor_ordinalValue {
      get {
        var d = this;
        return ((TerminationMetric_TMOrdinal)d)._ordinalValue;
      }
    }
    public object dtor_objectValue {
      get {
        var d = this;
        return ((TerminationMetric_TMObject)d)._objectValue;
      }
    }
    public Dafny.ISequence<Std.Termination._ITerminationMetric> dtor_seqValue {
      get {
        var d = this;
        return ((TerminationMetric_TMSeq)d)._seqValue;
      }
    }
    public Dafny.ISet<Std.Termination._ITerminationMetric> dtor_setValue {
      get {
        var d = this;
        return ((TerminationMetric_TMSet)d)._setValue;
      }
    }
    public Std.Termination._ITerminationMetric dtor_base {
      get {
        var d = this;
        return ((TerminationMetric_TMTuple)d)._base;
      }
    }
    public Std.Termination._ITerminationMetric dtor_first {
      get {
        var d = this;
        return ((TerminationMetric_TMTuple)d)._first;
      }
    }
    public Std.Termination._ITerminationMetric dtor_second {
      get {
        var d = this;
        return ((TerminationMetric_TMTuple)d)._second;
      }
    }
    public Std.Termination._ITerminationMetric dtor_original {
      get {
        var d = this;
        return ((TerminationMetric_TMSucc)d)._original;
      }
    }
    public abstract _ITerminationMetric DowncastClone();
  }
  public class TerminationMetric_TMBool : TerminationMetric {
    public readonly bool _boolValue;
    public TerminationMetric_TMBool(bool boolValue) : base() {
      this._boolValue = boolValue;
    }
    public override _ITerminationMetric DowncastClone() {
      if (this is _ITerminationMetric dt) { return dt; }
      return new TerminationMetric_TMBool(_boolValue);
    }
    public override bool Equals(object other) {
      var oth = other as Std.Termination.TerminationMetric_TMBool;
      return oth != null && this._boolValue == oth._boolValue;
    }
    public override int GetHashCode() {
      ulong hash = 5381;
      hash = ((hash << 5) + hash) + 0;
      hash = ((hash << 5) + hash) + ((ulong)Dafny.Helpers.GetHashCode(this._boolValue));
      return (int) hash;
    }
    public override string ToString() {
      string s = "Termination.TerminationMetric.TMBool";
      s += "(";
      s += Dafny.Helpers.ToString(this._boolValue);
      s += ")";
      return s;
    }
  }
  public class TerminationMetric_TMNat : TerminationMetric {
    public readonly BigInteger _natValue;
    public TerminationMetric_TMNat(BigInteger natValue) : base() {
      this._natValue = natValue;
    }
    public override _ITerminationMetric DowncastClone() {
      if (this is _ITerminationMetric dt) { return dt; }
      return new TerminationMetric_TMNat(_natValue);
    }
    public override bool Equals(object other) {
      var oth = other as Std.Termination.TerminationMetric_TMNat;
      return oth != null && this._natValue == oth._natValue;
    }
    public override int GetHashCode() {
      ulong hash = 5381;
      hash = ((hash << 5) + hash) + 1;
      hash = ((hash << 5) + hash) + ((ulong)Dafny.Helpers.GetHashCode(this._natValue));
      return (int) hash;
    }
    public override string ToString() {
      string s = "Termination.TerminationMetric.TMNat";
      s += "(";
      s += Dafny.Helpers.ToString(this._natValue);
      s += ")";
      return s;
    }
  }
  public class TerminationMetric_TMChar : TerminationMetric {
    public readonly BigInteger _charValue;
    public TerminationMetric_TMChar(BigInteger charValue) : base() {
      this._charValue = charValue;
    }
    public override _ITerminationMetric DowncastClone() {
      if (this is _ITerminationMetric dt) { return dt; }
      return new TerminationMetric_TMChar(_charValue);
    }
    public override bool Equals(object other) {
      var oth = other as Std.Termination.TerminationMetric_TMChar;
      return oth != null && this._charValue == oth._charValue;
    }
    public override int GetHashCode() {
      ulong hash = 5381;
      hash = ((hash << 5) + hash) + 2;
      hash = ((hash << 5) + hash) + ((ulong)Dafny.Helpers.GetHashCode(this._charValue));
      return (int) hash;
    }
    public override string ToString() {
      string s = "Termination.TerminationMetric.TMChar";
      s += "(";
      s += Dafny.Helpers.ToString(this._charValue);
      s += ")";
      return s;
    }
  }
  public class TerminationMetric_TMOrdinal : TerminationMetric {
    public readonly BigInteger _ordinalValue;
    public TerminationMetric_TMOrdinal(BigInteger ordinalValue) : base() {
      this._ordinalValue = ordinalValue;
    }
    public override _ITerminationMetric DowncastClone() {
      if (this is _ITerminationMetric dt) { return dt; }
      return new TerminationMetric_TMOrdinal(_ordinalValue);
    }
    public override bool Equals(object other) {
      var oth = other as Std.Termination.TerminationMetric_TMOrdinal;
      return oth != null && this._ordinalValue == oth._ordinalValue;
    }
    public override int GetHashCode() {
      ulong hash = 5381;
      hash = ((hash << 5) + hash) + 3;
      hash = ((hash << 5) + hash) + ((ulong)Dafny.Helpers.GetHashCode(this._ordinalValue));
      return (int) hash;
    }
    public override string ToString() {
      string s = "Termination.TerminationMetric.TMOrdinal";
      s += "(";
      s += Dafny.Helpers.ToString(this._ordinalValue);
      s += ")";
      return s;
    }
  }
  public class TerminationMetric_TMObject : TerminationMetric {
    public readonly object _objectValue;
    public TerminationMetric_TMObject(object objectValue) : base() {
      this._objectValue = objectValue;
    }
    public override _ITerminationMetric DowncastClone() {
      if (this is _ITerminationMetric dt) { return dt; }
      return new TerminationMetric_TMObject(_objectValue);
    }
    public override bool Equals(object other) {
      var oth = other as Std.Termination.TerminationMetric_TMObject;
      return oth != null && this._objectValue == oth._objectValue;
    }
    public override int GetHashCode() {
      ulong hash = 5381;
      hash = ((hash << 5) + hash) + 4;
      hash = ((hash << 5) + hash) + ((ulong)Dafny.Helpers.GetHashCode(this._objectValue));
      return (int) hash;
    }
    public override string ToString() {
      string s = "Termination.TerminationMetric.TMObject";
      s += "(";
      s += Dafny.Helpers.ToString(this._objectValue);
      s += ")";
      return s;
    }
  }
  public class TerminationMetric_TMSeq : TerminationMetric {
    public readonly Dafny.ISequence<Std.Termination._ITerminationMetric> _seqValue;
    public TerminationMetric_TMSeq(Dafny.ISequence<Std.Termination._ITerminationMetric> seqValue) : base() {
      this._seqValue = seqValue;
    }
    public override _ITerminationMetric DowncastClone() {
      if (this is _ITerminationMetric dt) { return dt; }
      return new TerminationMetric_TMSeq(_seqValue);
    }
    public override bool Equals(object other) {
      var oth = other as Std.Termination.TerminationMetric_TMSeq;
      return oth != null && object.Equals(this._seqValue, oth._seqValue);
    }
    public override int GetHashCode() {
      ulong hash = 5381;
      hash = ((hash << 5) + hash) + 5;
      hash = ((hash << 5) + hash) + ((ulong)Dafny.Helpers.GetHashCode(this._seqValue));
      return (int) hash;
    }
    public override string ToString() {
      string s = "Termination.TerminationMetric.TMSeq";
      s += "(";
      s += Dafny.Helpers.ToString(this._seqValue);
      s += ")";
      return s;
    }
  }
  public class TerminationMetric_TMSet : TerminationMetric {
    public readonly Dafny.ISet<Std.Termination._ITerminationMetric> _setValue;
    public TerminationMetric_TMSet(Dafny.ISet<Std.Termination._ITerminationMetric> setValue) : base() {
      this._setValue = setValue;
    }
    public override _ITerminationMetric DowncastClone() {
      if (this is _ITerminationMetric dt) { return dt; }
      return new TerminationMetric_TMSet(_setValue);
    }
    public override bool Equals(object other) {
      var oth = other as Std.Termination.TerminationMetric_TMSet;
      return oth != null && object.Equals(this._setValue, oth._setValue);
    }
    public override int GetHashCode() {
      ulong hash = 5381;
      hash = ((hash << 5) + hash) + 6;
      hash = ((hash << 5) + hash) + ((ulong)Dafny.Helpers.GetHashCode(this._setValue));
      return (int) hash;
    }
    public override string ToString() {
      string s = "Termination.TerminationMetric.TMSet";
      s += "(";
      s += Dafny.Helpers.ToString(this._setValue);
      s += ")";
      return s;
    }
  }
  public class TerminationMetric_TMTuple : TerminationMetric {
    public readonly Std.Termination._ITerminationMetric _base;
    public readonly Std.Termination._ITerminationMetric _first;
    public readonly Std.Termination._ITerminationMetric _second;
    public TerminationMetric_TMTuple(Std.Termination._ITerminationMetric @base, Std.Termination._ITerminationMetric first, Std.Termination._ITerminationMetric second) : base() {
      this._base = @base;
      this._first = first;
      this._second = second;
    }
    public override _ITerminationMetric DowncastClone() {
      if (this is _ITerminationMetric dt) { return dt; }
      return new TerminationMetric_TMTuple(_base, _first, _second);
    }
    public override bool Equals(object other) {
      var oth = other as Std.Termination.TerminationMetric_TMTuple;
      return oth != null && object.Equals(this._base, oth._base) && object.Equals(this._first, oth._first) && object.Equals(this._second, oth._second);
    }
    public override int GetHashCode() {
      ulong hash = 5381;
      hash = ((hash << 5) + hash) + 7;
      hash = ((hash << 5) + hash) + ((ulong)Dafny.Helpers.GetHashCode(this._base));
      hash = ((hash << 5) + hash) + ((ulong)Dafny.Helpers.GetHashCode(this._first));
      hash = ((hash << 5) + hash) + ((ulong)Dafny.Helpers.GetHashCode(this._second));
      return (int) hash;
    }
    public override string ToString() {
      string s = "Termination.TerminationMetric.TMTuple";
      s += "(";
      s += Dafny.Helpers.ToString(this._base);
      s += ", ";
      s += Dafny.Helpers.ToString(this._first);
      s += ", ";
      s += Dafny.Helpers.ToString(this._second);
      s += ")";
      return s;
    }
  }
  public class TerminationMetric_TMTop : TerminationMetric {
    public TerminationMetric_TMTop() : base() {
    }
    public override _ITerminationMetric DowncastClone() {
      if (this is _ITerminationMetric dt) { return dt; }
      return new TerminationMetric_TMTop();
    }
    public override bool Equals(object other) {
      var oth = other as Std.Termination.TerminationMetric_TMTop;
      return oth != null;
    }
    public override int GetHashCode() {
      ulong hash = 5381;
      hash = ((hash << 5) + hash) + 8;
      return (int) hash;
    }
    public override string ToString() {
      string s = "Termination.TerminationMetric.TMTop";
      return s;
    }
  }
  public class TerminationMetric_TMSucc : TerminationMetric {
    public readonly Std.Termination._ITerminationMetric _original;
    public TerminationMetric_TMSucc(Std.Termination._ITerminationMetric original) : base() {
      this._original = original;
    }
    public override _ITerminationMetric DowncastClone() {
      if (this is _ITerminationMetric dt) { return dt; }
      return new TerminationMetric_TMSucc(_original);
    }
    public override bool Equals(object other) {
      var oth = other as Std.Termination.TerminationMetric_TMSucc;
      return oth != null && object.Equals(this._original, oth._original);
    }
    public override int GetHashCode() {
      ulong hash = 5381;
      hash = ((hash << 5) + hash) + 9;
      hash = ((hash << 5) + hash) + ((ulong)Dafny.Helpers.GetHashCode(this._original));
      return (int) hash;
    }
    public override string ToString() {
      string s = "Termination.TerminationMetric.TMSucc";
      s += "(";
      s += Dafny.Helpers.ToString(this._original);
      s += ")";
      return s;
    }
  }
} // end of namespace Std.Termination
namespace Std.Frames {


  public interface Validatable {
  }
  public class _Companion_Validatable {
  }

  public partial class GhostBox<T> {
    public GhostBox() {
    }
  }

  public partial class Box<T> {
    public Box() {
      this.@value = default(T);
    }
    public T @value {get; set;}
    public void __ctor(T @value)
    {
      (this).@value = @value;
    }
  }
} // end of namespace Std.Frames
namespace Std.GenericActions {


  public interface GenericAction<I, O> {
    O Invoke(I i);
  }
  public class _Companion_GenericAction<I, O> {
  }
} // end of namespace Std.GenericActions
namespace Std.BoundedInts {

  public partial class __default {
    public static BigInteger TWO__TO__THE__8 { get {
      return new BigInteger(256);
    } }
    public static byte UINT8__MAX { get {
      return (byte)(255);
    } }
    public static BigInteger TWO__TO__THE__16 { get {
      return new BigInteger(65536);
    } }
    public static ushort UINT16__MAX { get {
      return (ushort)(65535);
    } }
    public static BigInteger TWO__TO__THE__32 { get {
      return new BigInteger(4294967296L);
    } }
    public static uint UINT32__MAX { get {
      return 4294967295U;
    } }
    public static BigInteger TWO__TO__THE__64 { get {
      return BigInteger.Parse("18446744073709551616");
    } }
    public static ulong UINT64__MAX { get {
      return 18446744073709551615UL;
    } }
    public static BigInteger TWO__TO__THE__7 { get {
      return new BigInteger(128);
    } }
    public static sbyte INT8__MIN { get {
      return (sbyte)(-128);
    } }
    public static sbyte INT8__MAX { get {
      return (sbyte)(127);
    } }
    public static BigInteger TWO__TO__THE__15 { get {
      return new BigInteger(32768);
    } }
    public static short INT16__MIN { get {
      return (short)(-32768);
    } }
    public static short INT16__MAX { get {
      return (short)(32767);
    } }
    public static BigInteger TWO__TO__THE__31 { get {
      return new BigInteger(2147483648L);
    } }
    public static int INT32__MIN { get {
      return -2147483648;
    } }
    public static int INT32__MAX { get {
      return 2147483647;
    } }
    public static BigInteger TWO__TO__THE__63 { get {
      return new BigInteger(9223372036854775808UL);
    } }
    public static long INT64__MIN { get {
      return -9223372036854775808L;
    } }
    public static long INT64__MAX { get {
      return 9223372036854775807L;
    } }
    public static byte NAT8__MAX { get {
      return (byte)(127);
    } }
    public static ushort NAT16__MAX { get {
      return (ushort)(32767);
    } }
    public static uint NAT32__MAX { get {
      return 2147483647U;
    } }
    public static ulong NAT64__MAX { get {
      return 9223372036854775807UL;
    } }
    public static BigInteger TWO__TO__THE__128 { get {
      return BigInteger.Parse("340282366920938463463374607431768211456");
    } }
    public static BigInteger TWO__TO__THE__127 { get {
      return BigInteger.Parse("170141183460469231731687303715884105728");
    } }
    public static BigInteger TWO__TO__THE__0 { get {
      return BigInteger.One;
    } }
    public static BigInteger TWO__TO__THE__1 { get {
      return new BigInteger(2);
    } }
    public static BigInteger TWO__TO__THE__2 { get {
      return new BigInteger(4);
    } }
    public static BigInteger TWO__TO__THE__4 { get {
      return new BigInteger(16);
    } }
    public static BigInteger TWO__TO__THE__5 { get {
      return new BigInteger(32);
    } }
    public static BigInteger TWO__TO__THE__24 { get {
      return new BigInteger(16777216);
    } }
    public static BigInteger TWO__TO__THE__40 { get {
      return new BigInteger(1099511627776L);
    } }
    public static BigInteger TWO__TO__THE__48 { get {
      return new BigInteger(281474976710656L);
    } }
    public static BigInteger TWO__TO__THE__56 { get {
      return new BigInteger(72057594037927936L);
    } }
    public static BigInteger TWO__TO__THE__256 { get {
      return BigInteger.Parse("115792089237316195423570985008687907853269984665640564039457584007913129639936");
    } }
    public static BigInteger TWO__TO__THE__512 { get {
      return BigInteger.Parse("13407807929942597099574024998205846127479365820592393377723561443721764030073546976801874298166903427690031858186486050853753882811946569946433649006084096");
    } }
  }

  public partial class uint8 {
    public static System.Collections.Generic.IEnumerable<byte> IntegerRange(BigInteger lo, BigInteger hi) {
      for (var j = lo; j < hi; j++) { yield return (byte)j; }
    }
    private static readonly Dafny.TypeDescriptor<byte> _TYPE = new Dafny.TypeDescriptor<byte>(0);
    public static Dafny.TypeDescriptor<byte> _TypeDescriptor() {
      return _TYPE;
    }
    public static bool _Is(byte __source) {
      return true;
    }
  }

  public partial class uint16 {
    public static System.Collections.Generic.IEnumerable<ushort> IntegerRange(BigInteger lo, BigInteger hi) {
      for (var j = lo; j < hi; j++) { yield return (ushort)j; }
    }
    private static readonly Dafny.TypeDescriptor<ushort> _TYPE = new Dafny.TypeDescriptor<ushort>(0);
    public static Dafny.TypeDescriptor<ushort> _TypeDescriptor() {
      return _TYPE;
    }
    public static bool _Is(ushort __source) {
      return true;
    }
  }

  public partial class uint32 {
    public static System.Collections.Generic.IEnumerable<uint> IntegerRange(BigInteger lo, BigInteger hi) {
      for (var j = lo; j < hi; j++) { yield return (uint)j; }
    }
    private static readonly Dafny.TypeDescriptor<uint> _TYPE = new Dafny.TypeDescriptor<uint>(0);
    public static Dafny.TypeDescriptor<uint> _TypeDescriptor() {
      return _TYPE;
    }
    public static bool _Is(uint __source) {
      return true;
    }
  }

  public partial class uint64 {
    public static System.Collections.Generic.IEnumerable<ulong> IntegerRange(BigInteger lo, BigInteger hi) {
      for (var j = lo; j < hi; j++) { yield return (ulong)j; }
    }
    private static readonly Dafny.TypeDescriptor<ulong> _TYPE = new Dafny.TypeDescriptor<ulong>(0);
    public static Dafny.TypeDescriptor<ulong> _TypeDescriptor() {
      return _TYPE;
    }
    public static bool _Is(ulong __source) {
      return true;
    }
  }

  public partial class uint128 {
    private static readonly Dafny.TypeDescriptor<BigInteger> _TYPE = new Dafny.TypeDescriptor<BigInteger>(BigInteger.Zero);
    public static Dafny.TypeDescriptor<BigInteger> _TypeDescriptor() {
      return _TYPE;
    }
    public static bool _Is(BigInteger __source) {
      BigInteger _0_x = __source;
      return ((_0_x).Sign != -1) && ((_0_x) < (Std.BoundedInts.__default.TWO__TO__THE__128));
    }
  }

  public partial class int8 {
    public static System.Collections.Generic.IEnumerable<sbyte> IntegerRange(BigInteger lo, BigInteger hi) {
      for (var j = lo; j < hi; j++) { yield return (sbyte)j; }
    }
    private static readonly Dafny.TypeDescriptor<sbyte> _TYPE = new Dafny.TypeDescriptor<sbyte>(0);
    public static Dafny.TypeDescriptor<sbyte> _TypeDescriptor() {
      return _TYPE;
    }
    public static bool _Is(sbyte __source) {
      return true;
    }
  }

  public partial class int16 {
    public static System.Collections.Generic.IEnumerable<short> IntegerRange(BigInteger lo, BigInteger hi) {
      for (var j = lo; j < hi; j++) { yield return (short)j; }
    }
    private static readonly Dafny.TypeDescriptor<short> _TYPE = new Dafny.TypeDescriptor<short>(0);
    public static Dafny.TypeDescriptor<short> _TypeDescriptor() {
      return _TYPE;
    }
    public static bool _Is(short __source) {
      return true;
    }
  }

  public partial class int32 {
    public static System.Collections.Generic.IEnumerable<int> IntegerRange(BigInteger lo, BigInteger hi) {
      for (var j = lo; j < hi; j++) { yield return (int)j; }
    }
    private static readonly Dafny.TypeDescriptor<int> _TYPE = new Dafny.TypeDescriptor<int>(0);
    public static Dafny.TypeDescriptor<int> _TypeDescriptor() {
      return _TYPE;
    }
    public static bool _Is(int __source) {
      return true;
    }
  }

  public partial class int64 {
    public static System.Collections.Generic.IEnumerable<long> IntegerRange(BigInteger lo, BigInteger hi) {
      for (var j = lo; j < hi; j++) { yield return (long)j; }
    }
    private static readonly Dafny.TypeDescriptor<long> _TYPE = new Dafny.TypeDescriptor<long>(0);
    public static Dafny.TypeDescriptor<long> _TypeDescriptor() {
      return _TYPE;
    }
    public static bool _Is(long __source) {
      return true;
    }
  }

  public partial class int128 {
    private static readonly Dafny.TypeDescriptor<BigInteger> _TYPE = new Dafny.TypeDescriptor<BigInteger>(BigInteger.Zero);
    public static Dafny.TypeDescriptor<BigInteger> _TypeDescriptor() {
      return _TYPE;
    }
    public static bool _Is(BigInteger __source) {
      BigInteger _1_x = __source;
      return (((BigInteger.Zero) - (Std.BoundedInts.__default.TWO__TO__THE__127)) <= (_1_x)) && ((_1_x) < (Std.BoundedInts.__default.TWO__TO__THE__127));
    }
  }

  public partial class nat8 {
    public static System.Collections.Generic.IEnumerable<byte> IntegerRange(BigInteger lo, BigInteger hi) {
      for (var j = lo; j < hi; j++) { yield return (byte)j; }
    }
    private static readonly Dafny.TypeDescriptor<byte> _TYPE = new Dafny.TypeDescriptor<byte>(0);
    public static Dafny.TypeDescriptor<byte> _TypeDescriptor() {
      return _TYPE;
    }
    public static bool _Is(byte __source) {
      BigInteger _2_x = new BigInteger(__source);
      return ((_2_x).Sign != -1) && ((_2_x) < (Std.BoundedInts.__default.TWO__TO__THE__7));
    }
  }

  public partial class nat16 {
    public static System.Collections.Generic.IEnumerable<ushort> IntegerRange(BigInteger lo, BigInteger hi) {
      for (var j = lo; j < hi; j++) { yield return (ushort)j; }
    }
    private static readonly Dafny.TypeDescriptor<ushort> _TYPE = new Dafny.TypeDescriptor<ushort>(0);
    public static Dafny.TypeDescriptor<ushort> _TypeDescriptor() {
      return _TYPE;
    }
    public static bool _Is(ushort __source) {
      BigInteger _3_x = new BigInteger(__source);
      return ((_3_x).Sign != -1) && ((_3_x) < (Std.BoundedInts.__default.TWO__TO__THE__15));
    }
  }

  public partial class nat32 {
    public static System.Collections.Generic.IEnumerable<uint> IntegerRange(BigInteger lo, BigInteger hi) {
      for (var j = lo; j < hi; j++) { yield return (uint)j; }
    }
    private static readonly Dafny.TypeDescriptor<uint> _TYPE = new Dafny.TypeDescriptor<uint>(0);
    public static Dafny.TypeDescriptor<uint> _TypeDescriptor() {
      return _TYPE;
    }
    public static bool _Is(uint __source) {
      BigInteger _4_x = new BigInteger(__source);
      return ((_4_x).Sign != -1) && ((_4_x) < (Std.BoundedInts.__default.TWO__TO__THE__31));
    }
  }

  public partial class nat64 {
    public static System.Collections.Generic.IEnumerable<ulong> IntegerRange(BigInteger lo, BigInteger hi) {
      for (var j = lo; j < hi; j++) { yield return (ulong)j; }
    }
    private static readonly Dafny.TypeDescriptor<ulong> _TYPE = new Dafny.TypeDescriptor<ulong>(0);
    public static Dafny.TypeDescriptor<ulong> _TypeDescriptor() {
      return _TYPE;
    }
    public static bool _Is(ulong __source) {
      BigInteger _5_x = new BigInteger(__source);
      return ((_5_x).Sign != -1) && ((_5_x) < (Std.BoundedInts.__default.TWO__TO__THE__63));
    }
  }

  public partial class nat128 {
    private static readonly Dafny.TypeDescriptor<BigInteger> _TYPE = new Dafny.TypeDescriptor<BigInteger>(BigInteger.Zero);
    public static Dafny.TypeDescriptor<BigInteger> _TypeDescriptor() {
      return _TYPE;
    }
    public static bool _Is(BigInteger __source) {
      BigInteger _6_x = __source;
      return ((_6_x).Sign != -1) && ((_6_x) < (Std.BoundedInts.__default.TWO__TO__THE__127));
    }
  }

  public partial class opt__byte {
    public static System.Collections.Generic.IEnumerable<short> IntegerRange(BigInteger lo, BigInteger hi) {
      for (var j = lo; j < hi; j++) { yield return (short)j; }
    }
    private static readonly Dafny.TypeDescriptor<short> _TYPE = new Dafny.TypeDescriptor<short>(0);
    public static Dafny.TypeDescriptor<short> _TypeDescriptor() {
      return _TYPE;
    }
    public static bool _Is(short __source) {
      BigInteger _7_c = new BigInteger(__source);
      return ((new BigInteger(-1)) <= (_7_c)) && ((_7_c) < (Std.BoundedInts.__default.TWO__TO__THE__8));
    }
  }
} // end of namespace Std.BoundedInts
namespace Std.DynamicArray {


  public partial class DynamicArray<A> {
    public DynamicArray() {
      this.size = BigInteger.Zero;
      this.capacity = BigInteger.Zero;
      this.data = new A[0];
    }
    public BigInteger size {get; set;}
    public BigInteger capacity {get; set;}
    public A[] data {get; set;}
    public void __ctor()
    {
      (this).size = BigInteger.Zero;
      (this).capacity = BigInteger.Zero;
      A[] _nw0 = new A[Dafny.Helpers.ToIntChecked(BigInteger.Zero, "array size exceeds memory limit")];
      (this).data = _nw0;
    }
    public A At(BigInteger index) {
      return (this.data)[(int)(index)];
    }
    public void Put(BigInteger index, A element)
    {
      A[] _arr0 = this.data;
      _arr0[(int)((index))] = element;
    }
    public void Ensure(BigInteger reserved, A defaultValue)
    {
      BigInteger _0_newCapacity;
      _0_newCapacity = this.capacity;
      while ((reserved) > ((_0_newCapacity) - (this.size))) {
        _0_newCapacity = (this).DefaultNewCapacity(_0_newCapacity);
      }
      if ((_0_newCapacity) > (this.capacity)) {
        (this).Realloc(defaultValue, _0_newCapacity);
      }
    }
    public void PopFast()
    {
      (this).size = (this.size) - (BigInteger.One);
    }
    public void PushFast(A element)
    {
      A[] _arr0 = this.data;
      BigInteger _index0 = this.size;
      _arr0[(int)(_index0)] = element;
      (this).size = (this.size) + (BigInteger.One);
    }
    public void Push(A element)
    {
      if ((this.size) == (this.capacity)) {
        (this).ReallocDefault(element);
      }
      (this).PushFast(element);
    }
    public void Realloc(A defaultValue, BigInteger newCapacity)
    {
      A[] _0_oldData;
      BigInteger _1_oldCapacity;
      A[] _rhs0 = this.data;
      BigInteger _rhs1 = this.capacity;
      _0_oldData = _rhs0;
      _1_oldCapacity = _rhs1;
      Func<BigInteger, A> _init0 = Dafny.Helpers.Id<Func<A, Func<BigInteger, A>>>((_2_defaultValue) => ((System.Func<BigInteger, A>)((_3___v0) => {
        return _2_defaultValue;
      })))(defaultValue);
      A[] _nw0 = new A[Dafny.Helpers.ToIntChecked(newCapacity, "array size exceeds memory limit")];
      for (var _i0_0 = 0; _i0_0 < new BigInteger(_nw0.Length); _i0_0++) {
        _nw0[(int)(_i0_0)] = _init0(_i0_0);
      }
      A[] _rhs2 = _nw0;
      BigInteger _rhs3 = newCapacity;
      Std.DynamicArray.DynamicArray<A> _lhs0 = this;
      Std.DynamicArray.DynamicArray<A> _lhs1 = this;
      _lhs0.data = _rhs2;
      _lhs1.capacity = _rhs3;
      (this).CopyFrom(_0_oldData, _1_oldCapacity);
    }
    public BigInteger DefaultNewCapacity(BigInteger capacity) {
      if ((capacity).Sign == 0) {
        return new BigInteger(8);
      } else {
        return (new BigInteger(2)) * (capacity);
      }
    }
    public void ReallocDefault(A defaultValue)
    {
      (this).Realloc(defaultValue, (this).DefaultNewCapacity(this.capacity));
    }
    public void CopyFrom(A[] newData, BigInteger count)
    {
      foreach (BigInteger _guard_loop_0 in Dafny.Helpers.IntegerRange(BigInteger.Zero, count)) {
        BigInteger _0_index = (BigInteger)_guard_loop_0;
        if ((true) && (((_0_index).Sign != -1) && ((_0_index) < (count)))) {
          A[] _arr0 = this.data;
          _arr0[(int)((_0_index))] = (newData)[(int)(_0_index)];
        }
      }
    }
  }
} // end of namespace Std.DynamicArray
namespace Std.Actions {

  public partial class __default {
    public static Dafny.ISequence<__I> InputsOf<__I, __O>(Dafny.ISequence<_System._ITuple2<__I, __O>> history) {
      return Std.Collections.Seq.__default.Map<_System._ITuple2<__I, __O>, __I>(((System.Func<_System._ITuple2<__I, __O>, __I>)((_0_e) => {
        return (_0_e).dtor__0;
      })), history);
    }
    public static Dafny.ISequence<__O> OutputsOf<__I, __O>(Dafny.ISequence<_System._ITuple2<__I, __O>> history) {
      return Std.Collections.Seq.__default.Map<_System._ITuple2<__I, __O>, __O>(((System.Func<_System._ITuple2<__I, __O>, __O>)((_0_e) => {
        return (_0_e).dtor__1;
      })), history);
    }
  }

  public interface Action<I, O> : Std.GenericActions.GenericAction<I, O>, Std.Frames.Validatable {
  }
  public class _Companion_Action<I, O> {
  }

  public interface TotalActionProof<I, O> : Std.Frames.Validatable {
  }
  public class _Companion_TotalActionProof<I, O> {
  }

  public partial class DefaultTotalActionProof<I, O> : Std.Actions.TotalActionProof<I, O>, Std.Frames.Validatable {
    public DefaultTotalActionProof() {
      this._action = default(Std.Actions.Action<I, O>);
    }
    public Std.Actions.Action<I, O> _action {get; set;}
    public Std.Actions.Action<I, O> action { get {
      return this._action;
    } }
  }

  public partial class FunctionAction<I, O> : Std.Actions.Action<I, O>, Std.GenericActions.GenericAction<I, O>, Std.Frames.Validatable {
    public FunctionAction() {
      this._f = ((Func<I, O>)null);
    }
    public void __ctor(Func<I, O> f)
    {
      (this)._f = f;
    }
    public O Invoke(I i)
    {
      O o = default(O);
      o = Dafny.Helpers.Id<Func<I, O>>((this).f)(i);
      return o;
    }
    public Func<I, O> _f {get; set;}
    public Func<I, O> f { get {
      return this._f;
    } }
  }

  public partial class TotalFunctionActionProof<I, O> : Std.Actions.TotalActionProof<I, O>, Std.Frames.Validatable {
    public TotalFunctionActionProof() {
    }
  }

  public partial class ComposedAction<I, M, O> : Std.Actions.Action<I, O>, Std.GenericActions.GenericAction<I, O>, Std.Frames.Validatable {
    public ComposedAction() {
      this._first = default(Std.Actions.Action<I, M>);
      this._second = default(Std.Actions.Action<M, O>);
    }
    public void __ctor(Std.Actions.Action<I, M> first, Std.Actions.Action<M, O> second)
    {
      (this)._first = first;
      (this)._second = second;
    }
    public O Invoke(I i)
    {
      O o = default(O);
      M _0_m;
      M _out0;
      _out0 = ((this).first).Invoke(i);
      _0_m = _out0;
      O _out1;
      _out1 = ((this).second).Invoke(_0_m);
      o = _out1;
      return o;
    }
    public Std.Actions.Action<I, M> _first {get; set;}
    public Std.Actions.Action<I, M> first { get {
      return this._first;
    } }
    public Std.Actions.Action<M, O> _second {get; set;}
    public Std.Actions.Action<M, O> second { get {
      return this._second;
    } }
  }

  public interface ActionCompositionProof<I, M, O> {
  }
  public class _Companion_ActionCompositionProof<I, M, O> {
  }
} // end of namespace Std.Actions
namespace Std.Consumers {

  public partial class __default {
    public static bool IsTrue(bool b) {
      return (b) == (true);
    }
    public static bool IsFalse(bool b) {
      return (b) == (false);
    }
    public static bool WasConsumed<__T>(_System._ITuple2<__T, bool> pair) {
      return (pair).dtor__1;
    }
    public static bool WasNotConsumed<__T>(_System._ITuple2<__T, bool> pair) {
      return !((pair).dtor__1);
    }
  }

  public interface IConsumer<T> : Std.Actions.Action<T, _System._ITuple0>, Std.GenericActions.GenericAction<T, _System._ITuple0>, Std.Frames.Validatable {
    void Accept(T t);
  }
  public class _Companion_IConsumer<T> {
    public static void Accept(Std.Consumers.IConsumer<T> _this, T t)
    {
      _System._ITuple0 _0_r;
      _System._ITuple0 _out0;
      _out0 = (_this).Invoke(t);
      _0_r = _out0;
    }
  }

  public interface _IConsumerState<T> {
    bool is_ConsumerState { get; }
    Std.Consumers.Consumer<T> dtor_consumer { get; }
    Std.Wrappers._IOption<BigInteger> dtor_capacity { get; }
    Dafny.ISequence<_System._ITuple2<T, bool>> dtor_history { get; }
  }
  public class ConsumerState<T> : _IConsumerState<T> {
    public readonly Std.Consumers.Consumer<T> _consumer;
    public readonly Std.Wrappers._IOption<BigInteger> _capacity;
    public readonly Dafny.ISequence<_System._ITuple2<T, bool>> _history;
    public ConsumerState(Std.Consumers.Consumer<T> consumer, Std.Wrappers._IOption<BigInteger> capacity, Dafny.ISequence<_System._ITuple2<T, bool>> history) {
      this._consumer = consumer;
      this._capacity = capacity;
      this._history = history;
    }
    public override bool Equals(object other) {
      var oth = other as Std.Consumers.ConsumerState<T>;
      return oth != null && this._consumer == oth._consumer && object.Equals(this._capacity, oth._capacity) && object.Equals(this._history, oth._history);
    }
    public override int GetHashCode() {
      ulong hash = 5381;
      hash = ((hash << 5) + hash) + 0;
      hash = ((hash << 5) + hash) + ((ulong)Dafny.Helpers.GetHashCode(this._consumer));
      hash = ((hash << 5) + hash) + ((ulong)Dafny.Helpers.GetHashCode(this._capacity));
      hash = ((hash << 5) + hash) + ((ulong)Dafny.Helpers.GetHashCode(this._history));
      return (int) hash;
    }
    public override string ToString() {
      string s = "Consumers.ConsumerState.ConsumerState";
      s += "(";
      s += Dafny.Helpers.ToString(this._consumer);
      s += ", ";
      s += Dafny.Helpers.ToString(this._capacity);
      s += ", ";
      s += Dafny.Helpers.ToString(this._history);
      s += ")";
      return s;
    }
    public static Std.Consumers._IConsumerState<T> Default() {
      return create(default(Std.Consumers.Consumer<T>), Std.Wrappers.Option<BigInteger>.Default(), Dafny.Sequence<_System._ITuple2<T, bool>>.Empty);
    }
    public static Dafny.TypeDescriptor<Std.Consumers._IConsumerState<T>> _TypeDescriptor() {
      return new Dafny.TypeDescriptor<Std.Consumers._IConsumerState<T>>(Std.Consumers.ConsumerState<T>.Default());
    }
    public static _IConsumerState<T> create(Std.Consumers.Consumer<T> consumer, Std.Wrappers._IOption<BigInteger> capacity, Dafny.ISequence<_System._ITuple2<T, bool>> history) {
      return new ConsumerState<T>(consumer, capacity, history);
    }
    public static _IConsumerState<T> create_ConsumerState(Std.Consumers.Consumer<T> consumer, Std.Wrappers._IOption<BigInteger> capacity, Dafny.ISequence<_System._ITuple2<T, bool>> history) {
      return create(consumer, capacity, history);
    }
    public bool is_ConsumerState { get { return true; } }
    public Std.Consumers.Consumer<T> dtor_consumer {
      get {
        return this._consumer;
      }
    }
    public Std.Wrappers._IOption<BigInteger> dtor_capacity {
      get {
        return this._capacity;
      }
    }
    public Dafny.ISequence<_System._ITuple2<T, bool>> dtor_history {
      get {
        return this._history;
      }
    }
  }

  public interface Consumer<T> : Std.Actions.Action<T, bool>, Std.GenericActions.GenericAction<T, bool>, Std.Frames.Validatable {
    Std.Wrappers._IOption<BigInteger> Capacity();
    bool Accept(T t);
  }
  public class _Companion_Consumer<T> {
    public static bool Accept(Std.Consumers.Consumer<T> _this, T t)
    {
      bool o = false;
      bool _out0;
      _out0 = (_this).Invoke(t);
      o = _out0;
      return o;
    }
  }

  public partial class IgnoreNConsumer<T> : Std.Consumers.Consumer<T>, Std.Actions.Action<T, bool>, Std.GenericActions.GenericAction<T, bool>, Std.Frames.Validatable {
    public IgnoreNConsumer() {
      this.consumedCount = BigInteger.Zero;
      this._n = BigInteger.Zero;
    }
    public bool Accept(T t)
    {
      bool _out1;
      _out1 = Std.Consumers._Companion_Consumer<T>.Accept(this, t);
      return _out1;
    }
    public BigInteger consumedCount {get; set;}
    public void __ctor(BigInteger n)
    {
      (this)._n = n;
      (this).consumedCount = BigInteger.Zero;
    }
    public Std.Wrappers._IOption<BigInteger> Capacity() {
      return Std.Wrappers.Option<BigInteger>.create_Some(((this).n) - (this.consumedCount));
    }
    public bool Invoke(T t)
    {
      bool r = false;
      if ((this.consumedCount) == ((this).n)) {
        r = false;
      } else {
        r = true;
        (this).consumedCount = (this.consumedCount) + (BigInteger.One);
      }
      return r;
    }
    public BigInteger _n {get; set;}
    public BigInteger n { get {
      return this._n;
    } }
  }

  public partial class ArrayWriter<T> : Std.Consumers.Consumer<T>, Std.Actions.Action<T, bool>, Std.GenericActions.GenericAction<T, bool>, Std.Frames.Validatable {
    public ArrayWriter() {
      this.size = BigInteger.Zero;
      this._storage = new T[0];
    }
    public bool Accept(T t)
    {
      bool _out2;
      _out2 = Std.Consumers._Companion_Consumer<T>.Accept(this, t);
      return _out2;
    }
    public BigInteger size {get; set;}
    public void __ctor(T[] storage)
    {
      (this)._storage = storage;
      (this).size = BigInteger.Zero;
    }
    public Std.Wrappers._IOption<BigInteger> Capacity() {
      return Std.Wrappers.Option<BigInteger>.create_Some((new BigInteger(((this).storage).Length)) - (this.size));
    }
    public bool Invoke(T t)
    {
      bool r = false;
      if ((this.size) == (new BigInteger(((this).storage).Length))) {
        r = false;
      } else {
        BigInteger _index0 = this.size;
        ((this).storage)[(int)(_index0)] = t;
        (this).size = (this.size) + (BigInteger.One);
        r = true;
      }
      return r;
    }
    public T[] _storage {get; set;}
    public T[] storage { get {
      return this._storage;
    } }
  }

  public partial class DynamicArrayWriter<T> : Std.Consumers.IConsumer<T>, Std.Actions.TotalActionProof<T, _System._ITuple0>, Std.Actions.Action<T, _System._ITuple0>, Std.GenericActions.GenericAction<T, _System._ITuple0>, Std.Frames.Validatable {
    public DynamicArrayWriter() {
      this.storage = default(Std.DynamicArray.DynamicArray<T>);
    }
    public void Accept(T t)
    {
      Std.Consumers._Companion_IConsumer<T>.Accept(this, t);
    }
    public Std.DynamicArray.DynamicArray<T> storage {get; set;}
    public void __ctor()
    {
      Std.DynamicArray.DynamicArray<T> _0_a;
      Std.DynamicArray.DynamicArray<T> _nw0 = new Std.DynamicArray.DynamicArray<T>();
      _nw0.__ctor();
      _0_a = _nw0;
      (this).storage = _0_a;
    }
    public _System._ITuple0 Invoke(T t)
    {
      _System._ITuple0 r = _System.Tuple0.Default();
      (this.storage).Push(t);
      r = _System.Tuple0.create();
      return r;
    }
  }

  public partial class FoldingConsumer<T, R> : Std.Consumers.IConsumer<T>, Std.Actions.Action<T, _System._ITuple0>, Std.GenericActions.GenericAction<T, _System._ITuple0>, Std.Frames.Validatable {
    public FoldingConsumer() {
      this.@value = default(R);
      this._f = default(Func<R, T, R>);
    }
    public void Accept(T t)
    {
      Std.Consumers._Companion_IConsumer<T>.Accept(this, t);
    }
    public R @value {get; set;}
    public void __ctor(R init, Func<R, T, R> f)
    {
      (this)._f = f;
      (this).@value = init;
    }
    public _System._ITuple0 Invoke(T t)
    {
      _System._ITuple0 r = _System.Tuple0.Default();
      (this).@value = Dafny.Helpers.Id<Func<R, T, R>>((this).f)(this.@value, t);
      r = _System.Tuple0.create();
      return r;
    }
    public Func<R, T, R> _f {get; set;}
    public Func<R, T, R> f { get {
      return this._f;
    } }
  }

  public partial class FoldingConsumerTotalActionProof<I, O> : Std.Actions.TotalActionProof<I, _System._ITuple0>, Std.Frames.Validatable {
    public FoldingConsumerTotalActionProof() {
    }
    public void __ctor(Std.Consumers.FoldingConsumer<I, O> action)
    {
    }
  }

  public partial class SeqWriter<T> : Std.Consumers.IConsumer<T>, Std.Actions.Action<T, _System._ITuple0>, Std.GenericActions.GenericAction<T, _System._ITuple0>, Std.Frames.Validatable {
    public SeqWriter() {
      this.values = Dafny.Sequence<T>.Empty;
    }
    public void Accept(T t)
    {
      Std.Consumers._Companion_IConsumer<T>.Accept(this, t);
    }
    public Dafny.ISequence<T> values {get; set;}
    public void __ctor()
    {
      (this).values = Dafny.Sequence<T>.FromElements();
    }
    public _System._ITuple0 Invoke(T t)
    {
      _System._ITuple0 r = _System.Tuple0.Default();
      (this).values = Dafny.Sequence<T>.Concat(this.values, Dafny.Sequence<T>.FromElements(t));
      r = _System.Tuple0.create();
      return r;
    }
  }

  public partial class SeqWriterTotalActionProof<T> : Std.Actions.TotalActionProof<T, _System._ITuple0>, Std.Frames.Validatable {
    public SeqWriterTotalActionProof() {
    }
  }
} // end of namespace Std.Consumers
namespace Std.Producers {

  public partial class __default {
    public static void DefaultForEach<__T>(Std.Producers.Producer<__T> producer, Std.Consumers.IConsumer<__T> consumer)
    {
      while (true) {
        Std.Wrappers._IOption<__T> _0_t;
        Std.Wrappers._IOption<__T> _out0;
        _out0 = (producer).Next();
        _0_t = _out0;
        if (object.Equals(_0_t, Std.Wrappers.Option<__T>.create_None())) {
          goto after_0;
        }
        (consumer).Accept((_0_t).dtor_value);
      continue_0: ;
      }
    after_0: ;
    }
    public static void DefaultFill<__T>(Std.Producers.Producer<__T> producer, Std.Consumers.Consumer<__T> consumer)
    {
      BigInteger _lo0 = BigInteger.Zero;
      for (BigInteger _0_c = ((consumer).Capacity()).dtor_value; _lo0 < _0_c; ) {
        _0_c--;
        Std.Wrappers._IOption<__T> _1_t;
        Std.Wrappers._IOption<__T> _out0;
        _out0 = (producer).Next();
        _1_t = _out0;
        if (object.Equals(_1_t, Std.Wrappers.Option<__T>.create_None())) {
          goto after_1;
        }
        bool _2_accepted;
        bool _out1;
        _out1 = (consumer).Accept((_1_t).dtor_value);
        _2_accepted = _out1;
      continue_1: ;
      }
    after_1: ;
    }
    public static bool IsNone<__T>(Std.Wrappers._IOption<__T> o) {
      return (o).is_None;
    }
    public static bool IsSome<__T>(Std.Wrappers._IOption<__T> o) {
      return (o).is_Some;
    }
    public static Dafny.ISequence<__T> ProducedOf<__T>(Dafny.ISequence<Std.Wrappers._IOption<__T>> outputs) {
      Dafny.ISequence<__T> _0___accumulator = Dafny.Sequence<__T>.FromElements();
    TAIL_CALL_START: ;
      if (((new BigInteger((outputs).Count)).Sign == 0) || (((outputs).Select(BigInteger.Zero)).is_None)) {
        return Dafny.Sequence<__T>.Concat(_0___accumulator, Dafny.Sequence<__T>.FromElements());
      } else {
        _0___accumulator = Dafny.Sequence<__T>.Concat(_0___accumulator, Dafny.Sequence<__T>.FromElements(((outputs).Select(BigInteger.Zero)).dtor_value));
        Dafny.ISequence<Std.Wrappers._IOption<__T>> _in0 = (outputs).Drop(BigInteger.One);
        outputs = _in0;
        goto TAIL_CALL_START;
      }
    }
    public static Dafny.ISequence<__T> CollectToSeq<__T>(Std.Producers.Producer<__T> p)
    {
      Dafny.ISequence<__T> s = Dafny.Sequence<__T>.Empty;
      Std.Consumers.SeqWriter<__T> _0_seqWriter;
      Std.Consumers.SeqWriter<__T> _nw0 = new Std.Consumers.SeqWriter<__T>();
      _nw0.__ctor();
      _0_seqWriter = _nw0;
      (p).ForEach(_0_seqWriter);
      s = _0_seqWriter.values;
      return s;
      return s;
    }
  }

  public interface IProducer<T> : Std.Actions.Action<_System._ITuple0, T>, Std.GenericActions.GenericAction<_System._ITuple0, T>, Std.Frames.Validatable {
    T Next();
  }
  public class _Companion_IProducer<T> {
    public static T Next(Std.Producers.IProducer<T> _this)
    {
      T r = default(T);
      T _out0;
      _out0 = (_this).Invoke(_System.Tuple0.create());
      r = _out0;
      return r;
    }
  }

  public interface ProducesSetProof<I> {
  }
  public class _Companion_ProducesSetProof<I> {
  }

  public partial class FunctionalIProducer<S, T> : Std.Producers.IProducer<T>, Std.Actions.TotalActionProof<_System._ITuple0, T>, Std.Actions.Action<_System._ITuple0, T>, Std.GenericActions.GenericAction<_System._ITuple0, T>, Std.Frames.Validatable {
    public FunctionalIProducer() {
      this.state = default(S);
      this._stepFn = default(Func<S, _System._ITuple2<S, T>>);
    }
    public T Next()
    {
      T _out1;
      _out1 = Std.Producers._Companion_IProducer<T>.Next(this);
      return _out1;
    }
    public S state {get; set;}
    public void __ctor(S state, Func<S, _System._ITuple2<S, T>> stepFn)
    {
      (this).state = state;
      (this)._stepFn = stepFn;
    }
    public T Invoke(_System._ITuple0 i)
    {
      T o = default(T);
      _System._ITuple2<S, T> _let_tmp_rhs0 = Dafny.Helpers.Id<Func<S, _System._ITuple2<S, T>>>((this).stepFn)(this.state);
      S _0_newState = _let_tmp_rhs0.dtor__0;
      T _1_result_k = _let_tmp_rhs0.dtor__1;
      (this).state = _0_newState;
      o = _1_result_k;
      return o;
    }
    public Func<S, _System._ITuple2<S, T>> _stepFn {get; set;}
    public Func<S, _System._ITuple2<S, T>> stepFn { get {
      return this._stepFn;
    } }
  }

  public interface _IProducerState<T> {
    bool is_ProducerState { get; }
    Std.Producers.Producer<T> dtor_producer { get; }
    Std.Wrappers._IOption<BigInteger> dtor_remaining { get; }
    Dafny.ISequence<Std.Wrappers._IOption<T>> dtor_outputs { get; }
  }
  public class ProducerState<T> : _IProducerState<T> {
    public readonly Std.Producers.Producer<T> _producer;
    public readonly Std.Wrappers._IOption<BigInteger> _remaining;
    public readonly Dafny.ISequence<Std.Wrappers._IOption<T>> _outputs;
    public ProducerState(Std.Producers.Producer<T> producer, Std.Wrappers._IOption<BigInteger> remaining, Dafny.ISequence<Std.Wrappers._IOption<T>> outputs) {
      this._producer = producer;
      this._remaining = remaining;
      this._outputs = outputs;
    }
    public override bool Equals(object other) {
      var oth = other as Std.Producers.ProducerState<T>;
      return oth != null && this._producer == oth._producer && object.Equals(this._remaining, oth._remaining) && object.Equals(this._outputs, oth._outputs);
    }
    public override int GetHashCode() {
      ulong hash = 5381;
      hash = ((hash << 5) + hash) + 0;
      hash = ((hash << 5) + hash) + ((ulong)Dafny.Helpers.GetHashCode(this._producer));
      hash = ((hash << 5) + hash) + ((ulong)Dafny.Helpers.GetHashCode(this._remaining));
      hash = ((hash << 5) + hash) + ((ulong)Dafny.Helpers.GetHashCode(this._outputs));
      return (int) hash;
    }
    public override string ToString() {
      string s = "Producers.ProducerState.ProducerState";
      s += "(";
      s += Dafny.Helpers.ToString(this._producer);
      s += ", ";
      s += Dafny.Helpers.ToString(this._remaining);
      s += ", ";
      s += Dafny.Helpers.ToString(this._outputs);
      s += ")";
      return s;
    }
    public static Std.Producers._IProducerState<T> Default() {
      return create(default(Std.Producers.Producer<T>), Std.Wrappers.Option<BigInteger>.Default(), Dafny.Sequence<Std.Wrappers._IOption<T>>.Empty);
    }
    public static Dafny.TypeDescriptor<Std.Producers._IProducerState<T>> _TypeDescriptor() {
      return new Dafny.TypeDescriptor<Std.Producers._IProducerState<T>>(Std.Producers.ProducerState<T>.Default());
    }
    public static _IProducerState<T> create(Std.Producers.Producer<T> producer, Std.Wrappers._IOption<BigInteger> remaining, Dafny.ISequence<Std.Wrappers._IOption<T>> outputs) {
      return new ProducerState<T>(producer, remaining, outputs);
    }
    public static _IProducerState<T> create_ProducerState(Std.Producers.Producer<T> producer, Std.Wrappers._IOption<BigInteger> remaining, Dafny.ISequence<Std.Wrappers._IOption<T>> outputs) {
      return create(producer, remaining, outputs);
    }
    public bool is_ProducerState { get { return true; } }
    public Std.Producers.Producer<T> dtor_producer {
      get {
        return this._producer;
      }
    }
    public Std.Wrappers._IOption<BigInteger> dtor_remaining {
      get {
        return this._remaining;
      }
    }
    public Dafny.ISequence<Std.Wrappers._IOption<T>> dtor_outputs {
      get {
        return this._outputs;
      }
    }
  }

  public interface Producer<T> : Std.Actions.Action<_System._ITuple0, Std.Wrappers._IOption<T>>, Std.Actions.TotalActionProof<_System._ITuple0, Std.Wrappers._IOption<T>>, Std.GenericActions.GenericAction<_System._ITuple0, Std.Wrappers._IOption<T>>, Std.Frames.Validatable {
    BigInteger ProducedCount();
    Std.Wrappers._IOption<BigInteger> Remaining();
    Std.Wrappers._IOption<T> Next();
    void ForEach(Std.Consumers.IConsumer<T> consumer);
    void Fill(Std.Consumers.Consumer<T> consumer);
  }
  public class _Companion_Producer<T> {
    public static Std.Wrappers._IOption<T> Next(Std.Producers.Producer<T> _this)
    {
      Std.Wrappers._IOption<T> r = Std.Wrappers.Option<T>.Default();
      Std.Wrappers._IOption<T> _out0;
      _out0 = (_this).Invoke(_System.Tuple0.create());
      r = _out0;
      return r;
    }
  }

  public partial class EmptyProducer<T> : Std.Producers.Producer<T>, Std.Actions.Action<_System._ITuple0, Std.Wrappers._IOption<T>>, Std.Actions.TotalActionProof<_System._ITuple0, Std.Wrappers._IOption<T>>, Std.GenericActions.GenericAction<_System._ITuple0, Std.Wrappers._IOption<T>>, Std.Frames.Validatable {
    public EmptyProducer() {
    }
    public Std.Wrappers._IOption<T> Next()
    {
      Std.Wrappers._IOption<T> _out1;
      _out1 = Std.Producers._Companion_Producer<T>.Next(this);
      return _out1;
    }
    public void __ctor()
    {
    }
    public BigInteger ProducedCount() {
      return BigInteger.Zero;
    }
    public Std.Wrappers._IOption<BigInteger> Remaining() {
      return Std.Wrappers.Option<BigInteger>.create_Some(BigInteger.Zero);
    }
    public Std.Wrappers._IOption<T> Invoke(_System._ITuple0 t)
    {
      Std.Wrappers._IOption<T> @value = Std.Wrappers.Option<T>.Default();
      @value = Std.Wrappers.Option<T>.create_None();
      return @value;
    }
    public void ForEach(Std.Consumers.IConsumer<T> consumer)
    {
      Std.Producers.__default.DefaultForEach<T>(this, consumer);
    }
    public void Fill(Std.Consumers.Consumer<T> consumer)
    {
      Std.Producers.__default.DefaultFill<T>(this, consumer);
    }
  }

  public partial class RepeatProducer<T> : Std.Producers.Producer<T>, Std.Actions.Action<_System._ITuple0, Std.Wrappers._IOption<T>>, Std.Actions.TotalActionProof<_System._ITuple0, Std.Wrappers._IOption<T>>, Std.GenericActions.GenericAction<_System._ITuple0, Std.Wrappers._IOption<T>>, Std.Frames.Validatable {
    public RepeatProducer() {
      this.producedCount = BigInteger.Zero;
      this._n = BigInteger.Zero;
      this._t = default(T);
    }
    public Std.Wrappers._IOption<T> Next()
    {
      Std.Wrappers._IOption<T> _out2;
      _out2 = Std.Producers._Companion_Producer<T>.Next(this);
      return _out2;
    }
    public BigInteger producedCount {get; set;}
    public void __ctor(BigInteger n, T t)
    {
      (this)._n = n;
      (this)._t = t;
      (this).producedCount = BigInteger.Zero;
    }
    public BigInteger ProducedCount() {
      return this.producedCount;
    }
    public Std.Wrappers._IOption<BigInteger> Remaining() {
      return Std.Wrappers.Option<BigInteger>.create_Some(((this).n) - (this.producedCount));
    }
    public Std.Wrappers._IOption<T> Invoke(_System._ITuple0 i)
    {
      Std.Wrappers._IOption<T> @value = Std.Wrappers.Option<T>.Default();
      if ((this.producedCount) == ((this).n)) {
        @value = Std.Wrappers.Option<T>.create_None();
      } else {
        @value = Std.Wrappers.Option<T>.create_Some((this).t);
        (this).producedCount = (this.producedCount) + (BigInteger.One);
      }
      return @value;
    }
    public void ForEach(Std.Consumers.IConsumer<T> consumer)
    {
      Std.Producers.__default.DefaultForEach<T>(this, consumer);
    }
    public void Fill(Std.Consumers.Consumer<T> consumer)
    {
      Std.Producers.__default.DefaultFill<T>(this, consumer);
    }
    public BigInteger _n {get; set;}
    public BigInteger n { get {
      return this._n;
    } }
    public T _t {get; set;}
    public T t { get {
      return this._t;
    } }
  }

  public partial class SeqReader<T> : Std.Producers.Producer<T>, Std.Actions.Action<_System._ITuple0, Std.Wrappers._IOption<T>>, Std.Actions.TotalActionProof<_System._ITuple0, Std.Wrappers._IOption<T>>, Std.GenericActions.GenericAction<_System._ITuple0, Std.Wrappers._IOption<T>>, Std.Frames.Validatable {
    public SeqReader() {
      this.index = BigInteger.Zero;
      this._elements = Dafny.Sequence<T>.Empty;
    }
    public Std.Wrappers._IOption<T> Next()
    {
      Std.Wrappers._IOption<T> _out3;
      _out3 = Std.Producers._Companion_Producer<T>.Next(this);
      return _out3;
    }
    public BigInteger index {get; set;}
    public void __ctor(Dafny.ISequence<T> elements)
    {
      (this)._elements = elements;
      (this).index = BigInteger.Zero;
    }
    public BigInteger ProducedCount() {
      return this.index;
    }
    public Std.Wrappers._IOption<BigInteger> Remaining() {
      return Std.Wrappers.Option<BigInteger>.create_Some((new BigInteger(((this).elements).Count)) - (this.index));
    }
    public Std.Wrappers._IOption<T> Invoke(_System._ITuple0 t)
    {
      Std.Wrappers._IOption<T> @value = Std.Wrappers.Option<T>.Default();
      if ((new BigInteger(((this).elements).Count)) == (this.index)) {
        @value = Std.Wrappers.Option<T>.create_None();
      } else {
        @value = Std.Wrappers.Option<T>.create_Some(((this).elements).Select(this.index));
        (this).index = (this.index) + (BigInteger.One);
      }
      return @value;
    }
    public void ForEach(Std.Consumers.IConsumer<T> consumer)
    {
      Std.Producers.__default.DefaultForEach<T>(this, consumer);
    }
    public void Fill(Std.Consumers.Consumer<T> consumer)
    {
      Std.Producers.__default.DefaultFill<T>(this, consumer);
    }
    public Dafny.ISequence<T> _elements {get; set;}
    public Dafny.ISequence<T> elements { get {
      return this._elements;
    } }
  }

  public interface ProducerOfSetProof<T> {
  }
  public class _Companion_ProducerOfSetProof<T> {
  }

  public partial class LimitedProducer<T> : Std.Producers.Producer<T>, Std.Actions.Action<_System._ITuple0, Std.Wrappers._IOption<T>>, Std.Actions.TotalActionProof<_System._ITuple0, Std.Wrappers._IOption<T>>, Std.GenericActions.GenericAction<_System._ITuple0, Std.Wrappers._IOption<T>>, Std.Frames.Validatable {
    public LimitedProducer() {
      this.produced = BigInteger.Zero;
      this._original = default(Std.Producers.IProducer<T>);
      this._max = BigInteger.Zero;
    }
    public Std.Wrappers._IOption<T> Next()
    {
      Std.Wrappers._IOption<T> _out4;
      _out4 = Std.Producers._Companion_Producer<T>.Next(this);
      return _out4;
    }
    public BigInteger produced {get; set;}
    public void __ctor(Std.Producers.IProducer<T> original, BigInteger max)
    {
      (this)._original = original;
      (this)._max = max;
      (this).produced = BigInteger.Zero;
    }
    public BigInteger ProducedCount() {
      return this.produced;
    }
    public Std.Wrappers._IOption<BigInteger> Remaining() {
      return Std.Wrappers.Option<BigInteger>.create_Some(((this).max) - (this.produced));
    }
    public Std.Wrappers._IOption<T> Invoke(_System._ITuple0 t)
    {
      Std.Wrappers._IOption<T> @value = Std.Wrappers.Option<T>.Default();
      if ((this.produced) == ((this).max)) {
        @value = Std.Wrappers.Option<T>.create_None();
      } else {
        T _0_v;
        T _out0;
        _out0 = ((this).original).Invoke(_System.Tuple0.create());
        _0_v = _out0;
        @value = Std.Wrappers.Option<T>.create_Some(_0_v);
        (this).produced = (this.produced) + (BigInteger.One);
      }
      return @value;
    }
    public void ForEach(Std.Consumers.IConsumer<T> consumer)
    {
      Std.Producers.__default.DefaultForEach<T>(this, consumer);
    }
    public void Fill(Std.Consumers.Consumer<T> consumer)
    {
      Std.Producers.__default.DefaultFill<T>(this, consumer);
    }
    public Std.Producers.IProducer<T> _original {get; set;}
    public Std.Producers.IProducer<T> original { get {
      return this._original;
    } }
    public BigInteger _max {get; set;}
    public BigInteger max { get {
      return this._max;
    } }
  }

  public partial class FilteredProducer<T> : Std.Producers.Producer<T>, Std.Actions.Action<_System._ITuple0, Std.Wrappers._IOption<T>>, Std.Actions.TotalActionProof<_System._ITuple0, Std.Wrappers._IOption<T>>, Std.GenericActions.GenericAction<_System._ITuple0, Std.Wrappers._IOption<T>>, Std.Frames.Validatable {
    public FilteredProducer() {
      this.producedCount = BigInteger.Zero;
      this._source = default(Std.Producers.Producer<T>);
      this._filter = ((T x0) => false);
    }
    public Std.Wrappers._IOption<T> Next()
    {
      Std.Wrappers._IOption<T> _out5;
      _out5 = Std.Producers._Companion_Producer<T>.Next(this);
      return _out5;
    }
    public BigInteger producedCount {get; set;}
    public void __ctor(Std.Producers.Producer<T> source, Func<T, bool> filter)
    {
      (this)._source = source;
      (this)._filter = filter;
      (this).producedCount = BigInteger.Zero;
    }
    public BigInteger ProducedCount() {
      return this.producedCount;
    }
    public Std.Wrappers._IOption<BigInteger> Remaining() {
      return Std.Wrappers.Option<BigInteger>.create_None();
    }
    public Std.Wrappers._IOption<T> Invoke(_System._ITuple0 t)
    {
      Std.Wrappers._IOption<T> result = Std.Wrappers.Option<T>.Default();
      result = Std.Wrappers.Option<T>.create_None();
      bool _0_notFirstLoop;
      _0_notFirstLoop = false;
      while (true) {
        _0_notFirstLoop = true;
        Std.Wrappers._IOption<T> _out0;
        _out0 = ((this).source).Next();
        result = _out0;
        if (((result).is_None) || (Dafny.Helpers.Id<Func<T, bool>>((this).filter)((result).dtor_value))) {
          goto after_2;
        }
      continue_2: ;
      }
    after_2: ;
      if ((result).is_Some) {
        (this).producedCount = (this.producedCount) + (BigInteger.One);
      } else {
      }
      return result;
    }
    public void ForEach(Std.Consumers.IConsumer<T> consumer)
    {
      Std.Producers.__default.DefaultForEach<T>(this, consumer);
    }
    public void Fill(Std.Consumers.Consumer<T> consumer)
    {
      Std.Producers.__default.DefaultFill<T>(this, consumer);
    }
    public Std.Producers.Producer<T> _source {get; set;}
    public Std.Producers.Producer<T> source { get {
      return this._source;
    } }
    public Func<T, bool> _filter {get; set;}
    public Func<T, bool> filter { get {
      return this._filter;
    } }
  }

  public partial class ConcatenatedProducer<T> : Std.Producers.Producer<T>, Std.Actions.Action<_System._ITuple0, Std.Wrappers._IOption<T>>, Std.Actions.TotalActionProof<_System._ITuple0, Std.Wrappers._IOption<T>>, Std.GenericActions.GenericAction<_System._ITuple0, Std.Wrappers._IOption<T>>, Std.Frames.Validatable {
    public ConcatenatedProducer() {
      this._first = default(Std.Producers.Producer<T>);
      this._second = default(Std.Producers.Producer<T>);
    }
    public Std.Wrappers._IOption<T> Next()
    {
      Std.Wrappers._IOption<T> _out6;
      _out6 = Std.Producers._Companion_Producer<T>.Next(this);
      return _out6;
    }
    public void __ctor(Std.Producers.Producer<T> first, Std.Producers.Producer<T> second)
    {
      (this)._first = first;
      (this)._second = second;
    }
    public BigInteger ProducedCount() {
      return (((this).first).ProducedCount()) + (((this).second).ProducedCount());
    }
    public Std.Wrappers._IOption<BigInteger> Remaining() {
      Std.Wrappers._IOption<BigInteger> _0_left = ((this).first).Remaining();
      Std.Wrappers._IOption<BigInteger> _1_right = ((this).second).Remaining();
      if (((_0_left).is_Some) && ((_1_right).is_Some)) {
        return Std.Wrappers.Option<BigInteger>.create_Some(((_0_left).dtor_value) + ((_1_right).dtor_value));
      } else {
        return Std.Wrappers.Option<BigInteger>.create_None();
      }
    }
    public Std.Wrappers._IOption<T> Invoke(_System._ITuple0 t)
    {
      Std.Wrappers._IOption<T> result = Std.Wrappers.Option<T>.Default();
      Std.Wrappers._IOption<T> _out0;
      _out0 = ((this).first).Next();
      result = _out0;
      if ((result).is_Some) {
      } else {
        Std.Wrappers._IOption<T> _out1;
        _out1 = ((this).second).Next();
        result = _out1;
      }
      return result;
    }
    public void ForEach(Std.Consumers.IConsumer<T> consumer)
    {
      Std.Producers.__default.DefaultForEach<T>(this, consumer);
    }
    public void Fill(Std.Consumers.Consumer<T> consumer)
    {
      Std.Producers.__default.DefaultFill<T>(this, consumer);
    }
    public Std.Producers.Producer<T> _first {get; set;}
    public Std.Producers.Producer<T> first { get {
      return this._first;
    } }
    public Std.Producers.Producer<T> _second {get; set;}
    public Std.Producers.Producer<T> second { get {
      return this._second;
    } }
  }

  public partial class MappedProducer<I, O> : Std.Producers.Producer<O>, Std.Actions.Action<_System._ITuple0, Std.Wrappers._IOption<O>>, Std.Actions.TotalActionProof<_System._ITuple0, Std.Wrappers._IOption<O>>, Std.GenericActions.GenericAction<_System._ITuple0, Std.Wrappers._IOption<O>>, Std.Frames.Validatable {
    public MappedProducer() {
      this._original = default(Std.Producers.Producer<I>);
      this._mapping = default(Std.Actions.Action<I, O>);
    }
    public Std.Wrappers._IOption<O> Next()
    {
      Std.Wrappers._IOption<O> _out7;
      _out7 = Std.Producers._Companion_Producer<O>.Next(this);
      return _out7;
    }
    public void __ctor(Std.Producers.Producer<I> original, Std.Actions.Action<I, O> mapping)
    {
      (this)._original = original;
      (this)._mapping = mapping;
    }
    public BigInteger ProducedCount() {
      return ((this).original).ProducedCount();
    }
    public Std.Wrappers._IOption<BigInteger> Remaining() {
      return Std.Wrappers.Option<BigInteger>.create_None();
    }
    public Std.Wrappers._IOption<O> Invoke(_System._ITuple0 t)
    {
      Std.Wrappers._IOption<O> result = Std.Wrappers.Option<O>.Default();
      Std.Wrappers._IOption<I> _0_next;
      Std.Wrappers._IOption<I> _out0;
      _out0 = ((this).original).Next();
      _0_next = _out0;
      if ((_0_next).is_Some) {
        O _1_nextValue;
        O _out1;
        _out1 = ((this).mapping).Invoke((_0_next).dtor_value);
        _1_nextValue = _out1;
        result = Std.Wrappers.Option<O>.create_Some(_1_nextValue);
      } else {
        result = Std.Wrappers.Option<O>.create_None();
      }
      return result;
    }
    public void ForEach(Std.Consumers.IConsumer<O> consumer)
    {
      Std.Producers.__default.DefaultForEach<O>(this, consumer);
    }
    public void Fill(Std.Consumers.Consumer<O> consumer)
    {
      Std.Producers.__default.DefaultFill<O>(this, consumer);
    }
    public Std.Producers.Producer<I> _original {get; set;}
    public Std.Producers.Producer<I> original { get {
      return this._original;
    } }
    public Std.Actions.Action<I, O> _mapping {get; set;}
    public Std.Actions.Action<I, O> mapping { get {
      return this._mapping;
    } }
  }

  public interface ProducerOfNewProducers<T> : Std.Producers.Producer<Std.Producers.Producer<T>>, Std.Actions.Action<_System._ITuple0, Std.Wrappers._IOption<Std.Producers.Producer<T>>>, Std.Actions.TotalActionProof<_System._ITuple0, Std.Wrappers._IOption<Std.Producers.Producer<T>>>, Std.GenericActions.GenericAction<_System._ITuple0, Std.Wrappers._IOption<Std.Producers.Producer<T>>>, Std.Frames.Validatable {
  }
  public class _Companion_ProducerOfNewProducers<T> {
  }

  public interface OutputterOfNewProducers<I, O> : Std.Actions.Action<I, Std.Producers.Producer<O>>, Std.Actions.TotalActionProof<I, Std.Producers.Producer<O>>, Std.GenericActions.GenericAction<I, Std.Producers.Producer<O>>, Std.Frames.Validatable {
  }
  public class _Companion_OutputterOfNewProducers<I, O> {
  }

  public partial class MappedProducerOfNewProducers<I, O> : Std.Producers.ProducerOfNewProducers<O>, Std.Producers.Producer<Std.Producers.Producer<O>>, Std.Actions.Action<_System._ITuple0, Std.Wrappers._IOption<Std.Producers.Producer<O>>>, Std.Actions.TotalActionProof<_System._ITuple0, Std.Wrappers._IOption<Std.Producers.Producer<O>>>, Std.GenericActions.GenericAction<_System._ITuple0, Std.Wrappers._IOption<Std.Producers.Producer<O>>>, Std.Frames.Validatable {
    public MappedProducerOfNewProducers() {
      this._original = default(Std.Producers.Producer<I>);
      this._mapping = default(Std.Producers.OutputterOfNewProducers<I, O>);
    }
    public Std.Wrappers._IOption<Std.Producers.Producer<O>> Next()
    {
      Std.Wrappers._IOption<Std.Producers.Producer<O>> _out8;
      _out8 = Std.Producers._Companion_Producer<Std.Producers.Producer<O>>.Next(this);
      return _out8;
    }
    public void __ctor(Std.Producers.Producer<I> original, Std.Producers.OutputterOfNewProducers<I, O> mapping)
    {
      (this)._original = original;
      (this)._mapping = mapping;
    }
    public BigInteger ProducedCount() {
      return ((this).original).ProducedCount();
    }
    public Std.Wrappers._IOption<BigInteger> Remaining() {
      return Std.Wrappers.Option<BigInteger>.create_None();
    }
    public Std.Wrappers._IOption<Std.Producers.Producer<O>> Invoke(_System._ITuple0 t)
    {
      Std.Wrappers._IOption<Std.Producers.Producer<O>> result = Std.Wrappers.Option<Std.Producers.Producer<O>>.Default();
      Std.Wrappers._IOption<I> _0_next;
      Std.Wrappers._IOption<I> _out0;
      _out0 = ((this).original).Next();
      _0_next = _out0;
      if ((_0_next).is_Some) {
        Std.Producers.Producer<O> _1_nextValue;
        Std.Producers.Producer<O> _out1;
        _out1 = ((this).mapping).Invoke((_0_next).dtor_value);
        _1_nextValue = _out1;
        result = Std.Wrappers.Option<Std.Producers.Producer<O>>.create_Some(_1_nextValue);
      } else {
        result = Std.Wrappers.Option<Std.Producers.Producer<O>>.create_None();
      }
      return result;
    }
    public void ForEach(Std.Consumers.IConsumer<Std.Producers.Producer<O>> consumer)
    {
      Std.Producers.__default.DefaultForEach<Std.Producers.Producer<O>>(this, consumer);
    }
    public void Fill(Std.Consumers.Consumer<Std.Producers.Producer<O>> consumer)
    {
      Std.Producers.__default.DefaultFill<Std.Producers.Producer<O>>(this, consumer);
    }
    public Std.Producers.Producer<I> _original {get; set;}
    public Std.Producers.Producer<I> original { get {
      return this._original;
    } }
    public Std.Producers.OutputterOfNewProducers<I, O> _mapping {get; set;}
    public Std.Producers.OutputterOfNewProducers<I, O> mapping { get {
      return this._mapping;
    } }
  }

  public partial class FlattenedProducer<T> : Std.Producers.Producer<T>, Std.Actions.Action<_System._ITuple0, Std.Wrappers._IOption<T>>, Std.Actions.TotalActionProof<_System._ITuple0, Std.Wrappers._IOption<T>>, Std.GenericActions.GenericAction<_System._ITuple0, Std.Wrappers._IOption<T>>, Std.Frames.Validatable {
    public FlattenedProducer() {
      this.currentInner = Std.Wrappers.Option<Std.Producers.Producer<T>>.Default();
      this.producedCount = BigInteger.Zero;
      this._original = default(Std.Producers.ProducerOfNewProducers<T>);
    }
    public Std.Wrappers._IOption<T> Next()
    {
      Std.Wrappers._IOption<T> _out9;
      _out9 = Std.Producers._Companion_Producer<T>.Next(this);
      return _out9;
    }
    public Std.Wrappers._IOption<Std.Producers.Producer<T>> currentInner {get; set;}
    public BigInteger producedCount {get; set;}
    public void __ctor(Std.Producers.ProducerOfNewProducers<T> original)
    {
      (this)._original = original;
      (this).currentInner = Std.Wrappers.Option<Std.Producers.Producer<T>>.create_None();
      (this).producedCount = BigInteger.Zero;
    }
    public BigInteger ProducedCount() {
      return this.producedCount;
    }
    public Std.Wrappers._IOption<BigInteger> Remaining() {
      return Std.Wrappers.Option<BigInteger>.create_None();
    }
    public Std.Wrappers._IOption<T> Invoke(_System._ITuple0 t)
    {
      Std.Wrappers._IOption<T> result = Std.Wrappers.Option<T>.Default();
      result = Std.Wrappers.Option<T>.create_None();
      while ((result).is_None) {
        if ((this.currentInner).is_None) {
          Std.Wrappers._IOption<Std.Producers.Producer<T>> _out0;
          _out0 = ((this).original).Invoke(_System.Tuple0.create());
          (this).currentInner = _out0;
          if ((this.currentInner).is_Some) {
          } else {
            goto after_3;
          }
        } else {
          Std.Wrappers._IOption<T> _out1;
          _out1 = ((this.currentInner).dtor_value).Next();
          result = _out1;
          if ((result).is_None) {
            Std.Wrappers._IOption<Std.Producers.Producer<T>> _0_oldCurrentInner;
            _0_oldCurrentInner = this.currentInner;
            (this).currentInner = Std.Wrappers.Option<Std.Producers.Producer<T>>.create_None();
          } else {
          }
        }
      continue_3: ;
      }
    after_3: ;
      if ((result).is_Some) {
        (this).producedCount = (this.producedCount) + (BigInteger.One);
      } else {
      }
      return result;
    }
    public void ForEach(Std.Consumers.IConsumer<T> consumer)
    {
      Std.Producers.__default.DefaultForEach<T>(this, consumer);
    }
    public void Fill(Std.Consumers.Consumer<T> consumer)
    {
      Std.Producers.__default.DefaultFill<T>(this, consumer);
    }
    public Std.Producers.ProducerOfNewProducers<T> _original {get; set;}
    public Std.Producers.ProducerOfNewProducers<T> original { get {
      return this._original;
    } }
  }
} // end of namespace Std.Producers
namespace Std.ActionsExterns {

} // end of namespace Std.ActionsExterns
namespace Std.FileIOInternalExterns {

} // end of namespace Std.FileIOInternalExterns
namespace Std.Unicode.Base {

  public partial class __default {
    public static bool IsInAssignedPlane(uint i) {
      byte _0_plane = (byte)((i) >> ((int)((byte)(16))));
      return (Std.Unicode.Base.__default.ASSIGNED__PLANES).Contains(_0_plane);
    }
    public static uint HIGH__SURROGATE__MIN { get {
      return 55296U;
    } }
    public static uint HIGH__SURROGATE__MAX { get {
      return 56319U;
    } }
    public static uint LOW__SURROGATE__MIN { get {
      return 56320U;
    } }
    public static uint LOW__SURROGATE__MAX { get {
      return 57343U;
    } }
    public static Dafny.ISet<byte> ASSIGNED__PLANES { get {
      return Dafny.Set<byte>.FromElements((byte)(0), (byte)(1), (byte)(2), (byte)(3), (byte)(14), (byte)(15), (byte)(16));
    } }
  }

  public partial class CodePoint {
    private static readonly Dafny.TypeDescriptor<uint> _TYPE = new Dafny.TypeDescriptor<uint>(0);
    public static Dafny.TypeDescriptor<uint> _TypeDescriptor() {
      return _TYPE;
    }
    public static bool _Is(uint __source) {
      uint _0_i = (uint)(__source);
      return ((0U) <= (_0_i)) && ((_0_i) <= (1114111U));
    }
  }

  public partial class HighSurrogateCodePoint {
    private static readonly uint Witness = Std.Unicode.Base.__default.HIGH__SURROGATE__MIN;
    public static uint Default() {
      return Witness;
    }
    private static readonly Dafny.TypeDescriptor<uint> _TYPE = new Dafny.TypeDescriptor<uint>(Std.Unicode.Base.HighSurrogateCodePoint.Default());
    public static Dafny.TypeDescriptor<uint> _TypeDescriptor() {
      return _TYPE;
    }
    public static bool _Is(uint __source) {
      uint _1_p = (uint)(__source);
      if (Std.Unicode.Base.CodePoint._Is(_1_p)) {
        return ((Std.Unicode.Base.__default.HIGH__SURROGATE__MIN) <= (_1_p)) && ((_1_p) <= (Std.Unicode.Base.__default.HIGH__SURROGATE__MAX));
      }
      return false;
    }
  }

  public partial class LowSurrogateCodePoint {
    private static readonly uint Witness = Std.Unicode.Base.__default.LOW__SURROGATE__MIN;
    public static uint Default() {
      return Witness;
    }
    private static readonly Dafny.TypeDescriptor<uint> _TYPE = new Dafny.TypeDescriptor<uint>(Std.Unicode.Base.LowSurrogateCodePoint.Default());
    public static Dafny.TypeDescriptor<uint> _TypeDescriptor() {
      return _TYPE;
    }
    public static bool _Is(uint __source) {
      uint _2_p = (uint)(__source);
      if (Std.Unicode.Base.CodePoint._Is(_2_p)) {
        return ((Std.Unicode.Base.__default.LOW__SURROGATE__MIN) <= (_2_p)) && ((_2_p) <= (Std.Unicode.Base.__default.LOW__SURROGATE__MAX));
      }
      return false;
    }
  }

  public partial class ScalarValue {
    private static readonly Dafny.TypeDescriptor<uint> _TYPE = new Dafny.TypeDescriptor<uint>(0);
    public static Dafny.TypeDescriptor<uint> _TypeDescriptor() {
      return _TYPE;
    }
    public static bool _Is(uint __source) {
      uint _3_p = (uint)(__source);
      if (Std.Unicode.Base.CodePoint._Is(_3_p)) {
        return (((_3_p) < (Std.Unicode.Base.__default.HIGH__SURROGATE__MIN)) || ((_3_p) > (Std.Unicode.Base.__default.HIGH__SURROGATE__MAX))) && (((_3_p) < (Std.Unicode.Base.__default.LOW__SURROGATE__MIN)) || ((_3_p) > (Std.Unicode.Base.__default.LOW__SURROGATE__MAX)));
      }
      return false;
    }
  }

  public partial class AssignedCodePoint {
    private static readonly Dafny.TypeDescriptor<uint> _TYPE = new Dafny.TypeDescriptor<uint>(0);
    public static Dafny.TypeDescriptor<uint> _TypeDescriptor() {
      return _TYPE;
    }
    public static bool _Is(uint __source) {
      uint _4_p = (uint)(__source);
      if (Std.Unicode.Base.CodePoint._Is(_4_p)) {
        return Std.Unicode.Base.__default.IsInAssignedPlane(_4_p);
      }
      return false;
    }
  }
} // end of namespace Std.Unicode.Base
namespace Std.Arithmetic.GeneralInternals {

} // end of namespace Std.Arithmetic.GeneralInternals
namespace Std.Arithmetic.MulInternalsNonlinear {

} // end of namespace Std.Arithmetic.MulInternalsNonlinear
namespace Std.Arithmetic.MulInternals {

  public partial class __default {
    public static BigInteger MulPos(BigInteger x, BigInteger y)
    {
      BigInteger _0___accumulator = BigInteger.Zero;
    TAIL_CALL_START: ;
      if ((x).Sign == 0) {
        return (BigInteger.Zero) + (_0___accumulator);
      } else {
        _0___accumulator = (_0___accumulator) + (y);
        BigInteger _in0 = (x) - (BigInteger.One);
        BigInteger _in1 = y;
        x = _in0;
        y = _in1;
        goto TAIL_CALL_START;
      }
    }
    public static BigInteger MulRecursive(BigInteger x, BigInteger y)
    {
      if ((x).Sign != -1) {
        return Std.Arithmetic.MulInternals.__default.MulPos(x, y);
      } else {
        return (new BigInteger(-1)) * (Std.Arithmetic.MulInternals.__default.MulPos((new BigInteger(-1)) * (x), y));
      }
    }
  }
} // end of namespace Std.Arithmetic.MulInternals
namespace Std.Arithmetic.Mul {

} // end of namespace Std.Arithmetic.Mul
namespace Std.Arithmetic.ModInternalsNonlinear {

} // end of namespace Std.Arithmetic.ModInternalsNonlinear
namespace Std.Arithmetic.DivInternalsNonlinear {

} // end of namespace Std.Arithmetic.DivInternalsNonlinear
namespace Std.Arithmetic.ModInternals {

  public partial class __default {
    public static BigInteger ModRecursive(BigInteger x, BigInteger d)
    {
    TAIL_CALL_START: ;
      if ((x).Sign == -1) {
        BigInteger _in0 = (d) + (x);
        BigInteger _in1 = d;
        x = _in0;
        d = _in1;
        goto TAIL_CALL_START;
      } else if ((x) < (d)) {
        return x;
      } else {
        BigInteger _in2 = (x) - (d);
        BigInteger _in3 = d;
        x = _in2;
        d = _in3;
        goto TAIL_CALL_START;
      }
    }
  }
} // end of namespace Std.Arithmetic.ModInternals
namespace Std.Arithmetic.DivInternals {

  public partial class __default {
    public static BigInteger DivPos(BigInteger x, BigInteger d)
    {
      BigInteger _0___accumulator = BigInteger.Zero;
    TAIL_CALL_START: ;
      if ((x).Sign == -1) {
        _0___accumulator = (_0___accumulator) + (new BigInteger(-1));
        BigInteger _in0 = (x) + (d);
        BigInteger _in1 = d;
        x = _in0;
        d = _in1;
        goto TAIL_CALL_START;
      } else if ((x) < (d)) {
        return (BigInteger.Zero) + (_0___accumulator);
      } else {
        _0___accumulator = (_0___accumulator) + (BigInteger.One);
        BigInteger _in2 = (x) - (d);
        BigInteger _in3 = d;
        x = _in2;
        d = _in3;
        goto TAIL_CALL_START;
      }
    }
    public static BigInteger DivRecursive(BigInteger x, BigInteger d)
    {
      if ((d).Sign == 1) {
        return Std.Arithmetic.DivInternals.__default.DivPos(x, d);
      } else {
        return (new BigInteger(-1)) * (Std.Arithmetic.DivInternals.__default.DivPos(x, (new BigInteger(-1)) * (d)));
      }
    }
  }
} // end of namespace Std.Arithmetic.DivInternals
namespace Std.Arithmetic.DivMod {

  public partial class __default {
    public static bool MultiplesVanish(BigInteger a, BigInteger b, BigInteger m)
    {
      return (Dafny.Helpers.EuclideanModulus(((m) * (a)) + (b), m)) == (Dafny.Helpers.EuclideanModulus(b, m));
    }
  }
} // end of namespace Std.Arithmetic.DivMod
namespace Std.Arithmetic.Power {

  public partial class __default {
    public static BigInteger Pow(BigInteger b, BigInteger e)
    {
      BigInteger _0___accumulator = BigInteger.One;
    TAIL_CALL_START: ;
      if ((e).Sign == 0) {
        return (BigInteger.One) * (_0___accumulator);
      } else {
        _0___accumulator = (_0___accumulator) * (b);
        BigInteger _in0 = b;
        BigInteger _in1 = (e) - (BigInteger.One);
        b = _in0;
        e = _in1;
        goto TAIL_CALL_START;
      }
    }
  }
} // end of namespace Std.Arithmetic.Power
namespace Std.Arithmetic.Logarithm {

  public partial class __default {
    public static BigInteger Log(BigInteger @base, BigInteger pow)
    {
      BigInteger _0___accumulator = BigInteger.Zero;
    TAIL_CALL_START: ;
      if ((pow) < (@base)) {
        return (BigInteger.Zero) + (_0___accumulator);
      } else {
        _0___accumulator = (_0___accumulator) + (BigInteger.One);
        BigInteger _in0 = @base;
        BigInteger _in1 = Dafny.Helpers.EuclideanDivision(pow, @base);
        @base = _in0;
        pow = _in1;
        goto TAIL_CALL_START;
      }
    }
  }
} // end of namespace Std.Arithmetic.Logarithm
namespace Std.Arithmetic.Power2 {

  public partial class __default {
    public static BigInteger Pow2(BigInteger e) {
      return Std.Arithmetic.Power.__default.Pow(new BigInteger(2), e);
    }
  }
} // end of namespace Std.Arithmetic.Power2
namespace Std.Strings.HexConversion {

  public partial class __default {
    public static BigInteger BASE() {
      return Std.Strings.HexConversion.__default.@base;
    }
    public static bool IsDigitChar(Dafny.Rune c) {
      return (Std.Strings.HexConversion.__default.charToDigit).Contains(c);
    }
    public static Dafny.ISequence<Dafny.Rune> OfDigits(Dafny.ISequence<BigInteger> digits) {
      Dafny.ISequence<Dafny.Rune> _0___accumulator = Dafny.Sequence<Dafny.Rune>.FromElements();
    TAIL_CALL_START: ;
      if ((digits).Equals(Dafny.Sequence<BigInteger>.FromElements())) {
        return Dafny.Sequence<Dafny.Rune>.Concat(Dafny.Sequence<Dafny.Rune>.FromElements(), _0___accumulator);
      } else {
        _0___accumulator = Dafny.Sequence<Dafny.Rune>.Concat(Dafny.Sequence<Dafny.Rune>.FromElements((Std.Strings.HexConversion.__default.chars).Select((digits).Select(BigInteger.Zero))), _0___accumulator);
        Dafny.ISequence<BigInteger> _in0 = (digits).Drop(BigInteger.One);
        digits = _in0;
        goto TAIL_CALL_START;
      }
    }
    public static Dafny.ISequence<Dafny.Rune> OfNat(BigInteger n) {
      if ((n).Sign == 0) {
        return Dafny.Sequence<Dafny.Rune>.FromElements((Std.Strings.HexConversion.__default.chars).Select(BigInteger.Zero));
      } else {
        return Std.Strings.HexConversion.__default.OfDigits(Std.Strings.HexConversion.__default.FromNat(n));
      }
    }
    public static bool IsNumberStr(Dafny.ISequence<Dafny.Rune> str, Dafny.Rune minus)
    {
      return !(!(str).Equals(Dafny.Sequence<Dafny.Rune>.FromElements())) || (((((str).Select(BigInteger.Zero)) == (minus)) || ((Std.Strings.HexConversion.__default.charToDigit).Contains((str).Select(BigInteger.Zero)))) && (Dafny.Helpers.Id<Func<Dafny.ISequence<Dafny.Rune>, bool>>((_0_str) => Dafny.Helpers.Quantifier<Dafny.Rune>(((_0_str).Drop(BigInteger.One)).UniqueElements, true, (((_forall_var_0) => {
        Dafny.Rune _1_c = (Dafny.Rune)_forall_var_0;
        return !(((_0_str).Drop(BigInteger.One)).Contains(_1_c)) || (Std.Strings.HexConversion.__default.IsDigitChar(_1_c));
      }))))(str)));
    }
    public static Dafny.ISequence<Dafny.Rune> OfInt(BigInteger n, Dafny.Rune minus)
    {
      if ((n).Sign != -1) {
        return Std.Strings.HexConversion.__default.OfNat(n);
      } else {
        return Dafny.Sequence<Dafny.Rune>.Concat(Dafny.Sequence<Dafny.Rune>.FromElements(minus), Std.Strings.HexConversion.__default.OfNat((BigInteger.Zero) - (n)));
      }
    }
    public static BigInteger ToNat(Dafny.ISequence<Dafny.Rune> str) {
      if ((str).Equals(Dafny.Sequence<Dafny.Rune>.FromElements())) {
        return BigInteger.Zero;
      } else {
        Dafny.Rune _0_c = (str).Select((new BigInteger((str).Count)) - (BigInteger.One));
        return ((Std.Strings.HexConversion.__default.ToNat((str).Take((new BigInteger((str).Count)) - (BigInteger.One)))) * (Std.Strings.HexConversion.__default.@base)) + (Dafny.Map<Dafny.Rune, BigInteger>.Select(Std.Strings.HexConversion.__default.charToDigit,_0_c));
      }
    }
    public static BigInteger ToInt(Dafny.ISequence<Dafny.Rune> str, Dafny.Rune minus)
    {
      if (Dafny.Sequence<Dafny.Rune>.IsPrefixOf(Dafny.Sequence<Dafny.Rune>.FromElements(minus), str)) {
        return (BigInteger.Zero) - (Std.Strings.HexConversion.__default.ToNat((str).Drop(BigInteger.One)));
      } else {
        return Std.Strings.HexConversion.__default.ToNat(str);
      }
    }
    public static BigInteger ToNatRight(Dafny.ISequence<BigInteger> xs) {
      if ((new BigInteger((xs).Count)).Sign == 0) {
        return BigInteger.Zero;
      } else {
        return ((Std.Strings.HexConversion.__default.ToNatRight(Std.Collections.Seq.__default.DropFirst<BigInteger>(xs))) * (Std.Strings.HexConversion.__default.BASE())) + (Std.Collections.Seq.__default.First<BigInteger>(xs));
      }
    }
    public static BigInteger ToNatLeft(Dafny.ISequence<BigInteger> xs) {
      BigInteger _0___accumulator = BigInteger.Zero;
    TAIL_CALL_START: ;
      if ((new BigInteger((xs).Count)).Sign == 0) {
        return (BigInteger.Zero) + (_0___accumulator);
      } else {
        _0___accumulator = ((Std.Collections.Seq.__default.Last<BigInteger>(xs)) * (Std.Arithmetic.Power.__default.Pow(Std.Strings.HexConversion.__default.BASE(), (new BigInteger((xs).Count)) - (BigInteger.One)))) + (_0___accumulator);
        Dafny.ISequence<BigInteger> _in0 = Std.Collections.Seq.__default.DropLast<BigInteger>(xs);
        xs = _in0;
        goto TAIL_CALL_START;
      }
    }
    public static Dafny.ISequence<BigInteger> FromNat(BigInteger n) {
      Dafny.ISequence<BigInteger> _0___accumulator = Dafny.Sequence<BigInteger>.FromElements();
    TAIL_CALL_START: ;
      if ((n).Sign == 0) {
        return Dafny.Sequence<BigInteger>.Concat(_0___accumulator, Dafny.Sequence<BigInteger>.FromElements());
      } else {
        _0___accumulator = Dafny.Sequence<BigInteger>.Concat(_0___accumulator, Dafny.Sequence<BigInteger>.FromElements(Dafny.Helpers.EuclideanModulus(n, Std.Strings.HexConversion.__default.BASE())));
        BigInteger _in0 = Dafny.Helpers.EuclideanDivision(n, Std.Strings.HexConversion.__default.BASE());
        n = _in0;
        goto TAIL_CALL_START;
      }
    }
    public static Dafny.ISequence<BigInteger> SeqExtend(Dafny.ISequence<BigInteger> xs, BigInteger n)
    {
    TAIL_CALL_START: ;
      if ((new BigInteger((xs).Count)) >= (n)) {
        return xs;
      } else {
        Dafny.ISequence<BigInteger> _in0 = Dafny.Sequence<BigInteger>.Concat(xs, Dafny.Sequence<BigInteger>.FromElements(BigInteger.Zero));
        BigInteger _in1 = n;
        xs = _in0;
        n = _in1;
        goto TAIL_CALL_START;
      }
    }
    public static Dafny.ISequence<BigInteger> SeqExtendMultiple(Dafny.ISequence<BigInteger> xs, BigInteger n)
    {
      BigInteger _0_newLen = ((new BigInteger((xs).Count)) + (n)) - (Dafny.Helpers.EuclideanModulus(new BigInteger((xs).Count), n));
      return Std.Strings.HexConversion.__default.SeqExtend(xs, _0_newLen);
    }
    public static Dafny.ISequence<BigInteger> FromNatWithLen(BigInteger n, BigInteger len)
    {
      return Std.Strings.HexConversion.__default.SeqExtend(Std.Strings.HexConversion.__default.FromNat(n), len);
    }
    public static Dafny.ISequence<BigInteger> SeqZero(BigInteger len) {
      Dafny.ISequence<BigInteger> _0_xs = Std.Strings.HexConversion.__default.FromNatWithLen(BigInteger.Zero, len);
      return _0_xs;
    }
    public static _System._ITuple2<Dafny.ISequence<BigInteger>, BigInteger> SeqAdd(Dafny.ISequence<BigInteger> xs, Dafny.ISequence<BigInteger> ys)
    {
      if ((new BigInteger((xs).Count)).Sign == 0) {
        return _System.Tuple2<Dafny.ISequence<BigInteger>, BigInteger>.create(Dafny.Sequence<BigInteger>.FromElements(), BigInteger.Zero);
      } else {
        _System._ITuple2<Dafny.ISequence<BigInteger>, BigInteger> _let_tmp_rhs0 = Std.Strings.HexConversion.__default.SeqAdd(Std.Collections.Seq.__default.DropLast<BigInteger>(xs), Std.Collections.Seq.__default.DropLast<BigInteger>(ys));
        Dafny.ISequence<BigInteger> _0_zs_k = _let_tmp_rhs0.dtor__0;
        BigInteger _1_cin = _let_tmp_rhs0.dtor__1;
        BigInteger _2_sum = ((Std.Collections.Seq.__default.Last<BigInteger>(xs)) + (Std.Collections.Seq.__default.Last<BigInteger>(ys))) + (_1_cin);
        _System._ITuple2<BigInteger, BigInteger> _let_tmp_rhs1 = (((_2_sum) < (Std.Strings.HexConversion.__default.BASE())) ? (_System.Tuple2<BigInteger, BigInteger>.create(_2_sum, BigInteger.Zero)) : (_System.Tuple2<BigInteger, BigInteger>.create((_2_sum) - (Std.Strings.HexConversion.__default.BASE()), BigInteger.One)));
        BigInteger _3_sum__out = _let_tmp_rhs1.dtor__0;
        BigInteger _4_cout = _let_tmp_rhs1.dtor__1;
        return _System.Tuple2<Dafny.ISequence<BigInteger>, BigInteger>.create(Dafny.Sequence<BigInteger>.Concat(_0_zs_k, Dafny.Sequence<BigInteger>.FromElements(_3_sum__out)), _4_cout);
      }
    }
    public static _System._ITuple2<Dafny.ISequence<BigInteger>, BigInteger> SeqSub(Dafny.ISequence<BigInteger> xs, Dafny.ISequence<BigInteger> ys)
    {
      if ((new BigInteger((xs).Count)).Sign == 0) {
        return _System.Tuple2<Dafny.ISequence<BigInteger>, BigInteger>.create(Dafny.Sequence<BigInteger>.FromElements(), BigInteger.Zero);
      } else {
        _System._ITuple2<Dafny.ISequence<BigInteger>, BigInteger> _let_tmp_rhs0 = Std.Strings.HexConversion.__default.SeqSub(Std.Collections.Seq.__default.DropLast<BigInteger>(xs), Std.Collections.Seq.__default.DropLast<BigInteger>(ys));
        Dafny.ISequence<BigInteger> _0_zs = _let_tmp_rhs0.dtor__0;
        BigInteger _1_cin = _let_tmp_rhs0.dtor__1;
        _System._ITuple2<BigInteger, BigInteger> _let_tmp_rhs1 = (((Std.Collections.Seq.__default.Last<BigInteger>(xs)) >= ((Std.Collections.Seq.__default.Last<BigInteger>(ys)) + (_1_cin))) ? (_System.Tuple2<BigInteger, BigInteger>.create(((Std.Collections.Seq.__default.Last<BigInteger>(xs)) - (Std.Collections.Seq.__default.Last<BigInteger>(ys))) - (_1_cin), BigInteger.Zero)) : (_System.Tuple2<BigInteger, BigInteger>.create((((Std.Strings.HexConversion.__default.BASE()) + (Std.Collections.Seq.__default.Last<BigInteger>(xs))) - (Std.Collections.Seq.__default.Last<BigInteger>(ys))) - (_1_cin), BigInteger.One)));
        BigInteger _2_diff__out = _let_tmp_rhs1.dtor__0;
        BigInteger _3_cout = _let_tmp_rhs1.dtor__1;
        return _System.Tuple2<Dafny.ISequence<BigInteger>, BigInteger>.create(Dafny.Sequence<BigInteger>.Concat(_0_zs, Dafny.Sequence<BigInteger>.FromElements(_2_diff__out)), _3_cout);
      }
    }
    public static Dafny.ISequence<Dafny.Rune> HEX__DIGITS { get {
      return Dafny.Sequence<Dafny.Rune>.UnicodeFromString("0123456789ABCDEF");
    } }
    public static Dafny.ISequence<Dafny.Rune> chars { get {
      return Std.Strings.HexConversion.__default.HEX__DIGITS;
    } }
    public static BigInteger @base { get {
      return new BigInteger((Std.Strings.HexConversion.__default.chars).Count);
    } }
    public static Dafny.IMap<Dafny.Rune,BigInteger> charToDigit { get {
      return Dafny.Map<Dafny.Rune, BigInteger>.FromElements(new Dafny.Pair<Dafny.Rune, BigInteger>(new Dafny.Rune('0'), BigInteger.Zero), new Dafny.Pair<Dafny.Rune, BigInteger>(new Dafny.Rune('1'), BigInteger.One), new Dafny.Pair<Dafny.Rune, BigInteger>(new Dafny.Rune('2'), new BigInteger(2)), new Dafny.Pair<Dafny.Rune, BigInteger>(new Dafny.Rune('3'), new BigInteger(3)), new Dafny.Pair<Dafny.Rune, BigInteger>(new Dafny.Rune('4'), new BigInteger(4)), new Dafny.Pair<Dafny.Rune, BigInteger>(new Dafny.Rune('5'), new BigInteger(5)), new Dafny.Pair<Dafny.Rune, BigInteger>(new Dafny.Rune('6'), new BigInteger(6)), new Dafny.Pair<Dafny.Rune, BigInteger>(new Dafny.Rune('7'), new BigInteger(7)), new Dafny.Pair<Dafny.Rune, BigInteger>(new Dafny.Rune('8'), new BigInteger(8)), new Dafny.Pair<Dafny.Rune, BigInteger>(new Dafny.Rune('9'), new BigInteger(9)), new Dafny.Pair<Dafny.Rune, BigInteger>(new Dafny.Rune('a'), new BigInteger(10)), new Dafny.Pair<Dafny.Rune, BigInteger>(new Dafny.Rune('b'), new BigInteger(11)), new Dafny.Pair<Dafny.Rune, BigInteger>(new Dafny.Rune('c'), new BigInteger(12)), new Dafny.Pair<Dafny.Rune, BigInteger>(new Dafny.Rune('d'), new BigInteger(13)), new Dafny.Pair<Dafny.Rune, BigInteger>(new Dafny.Rune('e'), new BigInteger(14)), new Dafny.Pair<Dafny.Rune, BigInteger>(new Dafny.Rune('f'), new BigInteger(15)), new Dafny.Pair<Dafny.Rune, BigInteger>(new Dafny.Rune('A'), new BigInteger(10)), new Dafny.Pair<Dafny.Rune, BigInteger>(new Dafny.Rune('B'), new BigInteger(11)), new Dafny.Pair<Dafny.Rune, BigInteger>(new Dafny.Rune('C'), new BigInteger(12)), new Dafny.Pair<Dafny.Rune, BigInteger>(new Dafny.Rune('D'), new BigInteger(13)), new Dafny.Pair<Dafny.Rune, BigInteger>(new Dafny.Rune('E'), new BigInteger(14)), new Dafny.Pair<Dafny.Rune, BigInteger>(new Dafny.Rune('F'), new BigInteger(15)));
    } }
  }

  public partial class CharSeq {
    private static readonly Dafny.TypeDescriptor<Dafny.ISequence<Dafny.Rune>> _TYPE = new Dafny.TypeDescriptor<Dafny.ISequence<Dafny.Rune>>(Dafny.Sequence<Dafny.Rune>.Empty);
    public static Dafny.TypeDescriptor<Dafny.ISequence<Dafny.Rune>> _TypeDescriptor() {
      return _TYPE;
    }
    public static bool _Is(Dafny.ISequence<Dafny.Rune> __source) {
      Dafny.ISequence<Dafny.Rune> _0_chars = __source;
      return (new BigInteger((_0_chars).Count)) > (BigInteger.One);
    }
  }

  public partial class digit {
    private static readonly Dafny.TypeDescriptor<BigInteger> _TYPE = new Dafny.TypeDescriptor<BigInteger>(BigInteger.Zero);
    public static Dafny.TypeDescriptor<BigInteger> _TypeDescriptor() {
      return _TYPE;
    }
    public static bool _Is(BigInteger __source) {
      BigInteger _1_i = __source;
      if (_System.nat._Is(_1_i)) {
        return ((_1_i).Sign != -1) && ((_1_i) < (Std.Strings.HexConversion.__default.BASE()));
      }
      return false;
    }
  }
} // end of namespace Std.Strings.HexConversion
namespace Std.Strings.DecimalConversion {

  public partial class __default {
    public static BigInteger BASE() {
      return Std.Strings.DecimalConversion.__default.@base;
    }
    public static bool IsDigitChar(Dafny.Rune c) {
      return (Std.Strings.DecimalConversion.__default.charToDigit).Contains(c);
    }
    public static Dafny.ISequence<Dafny.Rune> OfDigits(Dafny.ISequence<BigInteger> digits) {
      Dafny.ISequence<Dafny.Rune> _0___accumulator = Dafny.Sequence<Dafny.Rune>.FromElements();
    TAIL_CALL_START: ;
      if ((digits).Equals(Dafny.Sequence<BigInteger>.FromElements())) {
        return Dafny.Sequence<Dafny.Rune>.Concat(Dafny.Sequence<Dafny.Rune>.FromElements(), _0___accumulator);
      } else {
        _0___accumulator = Dafny.Sequence<Dafny.Rune>.Concat(Dafny.Sequence<Dafny.Rune>.FromElements((Std.Strings.DecimalConversion.__default.chars).Select((digits).Select(BigInteger.Zero))), _0___accumulator);
        Dafny.ISequence<BigInteger> _in0 = (digits).Drop(BigInteger.One);
        digits = _in0;
        goto TAIL_CALL_START;
      }
    }
    public static Dafny.ISequence<Dafny.Rune> OfNat(BigInteger n) {
      if ((n).Sign == 0) {
        return Dafny.Sequence<Dafny.Rune>.FromElements((Std.Strings.DecimalConversion.__default.chars).Select(BigInteger.Zero));
      } else {
        return Std.Strings.DecimalConversion.__default.OfDigits(Std.Strings.DecimalConversion.__default.FromNat(n));
      }
    }
    public static bool IsNumberStr(Dafny.ISequence<Dafny.Rune> str, Dafny.Rune minus)
    {
      return !(!(str).Equals(Dafny.Sequence<Dafny.Rune>.FromElements())) || (((((str).Select(BigInteger.Zero)) == (minus)) || ((Std.Strings.DecimalConversion.__default.charToDigit).Contains((str).Select(BigInteger.Zero)))) && (Dafny.Helpers.Id<Func<Dafny.ISequence<Dafny.Rune>, bool>>((_0_str) => Dafny.Helpers.Quantifier<Dafny.Rune>(((_0_str).Drop(BigInteger.One)).UniqueElements, true, (((_forall_var_0) => {
        Dafny.Rune _1_c = (Dafny.Rune)_forall_var_0;
        return !(((_0_str).Drop(BigInteger.One)).Contains(_1_c)) || (Std.Strings.DecimalConversion.__default.IsDigitChar(_1_c));
      }))))(str)));
    }
    public static Dafny.ISequence<Dafny.Rune> OfInt(BigInteger n, Dafny.Rune minus)
    {
      if ((n).Sign != -1) {
        return Std.Strings.DecimalConversion.__default.OfNat(n);
      } else {
        return Dafny.Sequence<Dafny.Rune>.Concat(Dafny.Sequence<Dafny.Rune>.FromElements(minus), Std.Strings.DecimalConversion.__default.OfNat((BigInteger.Zero) - (n)));
      }
    }
    public static BigInteger ToNat(Dafny.ISequence<Dafny.Rune> str) {
      if ((str).Equals(Dafny.Sequence<Dafny.Rune>.FromElements())) {
        return BigInteger.Zero;
      } else {
        Dafny.Rune _0_c = (str).Select((new BigInteger((str).Count)) - (BigInteger.One));
        return ((Std.Strings.DecimalConversion.__default.ToNat((str).Take((new BigInteger((str).Count)) - (BigInteger.One)))) * (Std.Strings.DecimalConversion.__default.@base)) + (Dafny.Map<Dafny.Rune, BigInteger>.Select(Std.Strings.DecimalConversion.__default.charToDigit,_0_c));
      }
    }
    public static BigInteger ToInt(Dafny.ISequence<Dafny.Rune> str, Dafny.Rune minus)
    {
      if (Dafny.Sequence<Dafny.Rune>.IsPrefixOf(Dafny.Sequence<Dafny.Rune>.FromElements(minus), str)) {
        return (BigInteger.Zero) - (Std.Strings.DecimalConversion.__default.ToNat((str).Drop(BigInteger.One)));
      } else {
        return Std.Strings.DecimalConversion.__default.ToNat(str);
      }
    }
    public static BigInteger ToNatRight(Dafny.ISequence<BigInteger> xs) {
      if ((new BigInteger((xs).Count)).Sign == 0) {
        return BigInteger.Zero;
      } else {
        return ((Std.Strings.DecimalConversion.__default.ToNatRight(Std.Collections.Seq.__default.DropFirst<BigInteger>(xs))) * (Std.Strings.DecimalConversion.__default.BASE())) + (Std.Collections.Seq.__default.First<BigInteger>(xs));
      }
    }
    public static BigInteger ToNatLeft(Dafny.ISequence<BigInteger> xs) {
      BigInteger _0___accumulator = BigInteger.Zero;
    TAIL_CALL_START: ;
      if ((new BigInteger((xs).Count)).Sign == 0) {
        return (BigInteger.Zero) + (_0___accumulator);
      } else {
        _0___accumulator = ((Std.Collections.Seq.__default.Last<BigInteger>(xs)) * (Std.Arithmetic.Power.__default.Pow(Std.Strings.DecimalConversion.__default.BASE(), (new BigInteger((xs).Count)) - (BigInteger.One)))) + (_0___accumulator);
        Dafny.ISequence<BigInteger> _in0 = Std.Collections.Seq.__default.DropLast<BigInteger>(xs);
        xs = _in0;
        goto TAIL_CALL_START;
      }
    }
    public static Dafny.ISequence<BigInteger> FromNat(BigInteger n) {
      Dafny.ISequence<BigInteger> _0___accumulator = Dafny.Sequence<BigInteger>.FromElements();
    TAIL_CALL_START: ;
      if ((n).Sign == 0) {
        return Dafny.Sequence<BigInteger>.Concat(_0___accumulator, Dafny.Sequence<BigInteger>.FromElements());
      } else {
        _0___accumulator = Dafny.Sequence<BigInteger>.Concat(_0___accumulator, Dafny.Sequence<BigInteger>.FromElements(Dafny.Helpers.EuclideanModulus(n, Std.Strings.DecimalConversion.__default.BASE())));
        BigInteger _in0 = Dafny.Helpers.EuclideanDivision(n, Std.Strings.DecimalConversion.__default.BASE());
        n = _in0;
        goto TAIL_CALL_START;
      }
    }
    public static Dafny.ISequence<BigInteger> SeqExtend(Dafny.ISequence<BigInteger> xs, BigInteger n)
    {
    TAIL_CALL_START: ;
      if ((new BigInteger((xs).Count)) >= (n)) {
        return xs;
      } else {
        Dafny.ISequence<BigInteger> _in0 = Dafny.Sequence<BigInteger>.Concat(xs, Dafny.Sequence<BigInteger>.FromElements(BigInteger.Zero));
        BigInteger _in1 = n;
        xs = _in0;
        n = _in1;
        goto TAIL_CALL_START;
      }
    }
    public static Dafny.ISequence<BigInteger> SeqExtendMultiple(Dafny.ISequence<BigInteger> xs, BigInteger n)
    {
      BigInteger _0_newLen = ((new BigInteger((xs).Count)) + (n)) - (Dafny.Helpers.EuclideanModulus(new BigInteger((xs).Count), n));
      return Std.Strings.DecimalConversion.__default.SeqExtend(xs, _0_newLen);
    }
    public static Dafny.ISequence<BigInteger> FromNatWithLen(BigInteger n, BigInteger len)
    {
      return Std.Strings.DecimalConversion.__default.SeqExtend(Std.Strings.DecimalConversion.__default.FromNat(n), len);
    }
    public static Dafny.ISequence<BigInteger> SeqZero(BigInteger len) {
      Dafny.ISequence<BigInteger> _0_xs = Std.Strings.DecimalConversion.__default.FromNatWithLen(BigInteger.Zero, len);
      return _0_xs;
    }
    public static _System._ITuple2<Dafny.ISequence<BigInteger>, BigInteger> SeqAdd(Dafny.ISequence<BigInteger> xs, Dafny.ISequence<BigInteger> ys)
    {
      if ((new BigInteger((xs).Count)).Sign == 0) {
        return _System.Tuple2<Dafny.ISequence<BigInteger>, BigInteger>.create(Dafny.Sequence<BigInteger>.FromElements(), BigInteger.Zero);
      } else {
        _System._ITuple2<Dafny.ISequence<BigInteger>, BigInteger> _let_tmp_rhs0 = Std.Strings.DecimalConversion.__default.SeqAdd(Std.Collections.Seq.__default.DropLast<BigInteger>(xs), Std.Collections.Seq.__default.DropLast<BigInteger>(ys));
        Dafny.ISequence<BigInteger> _0_zs_k = _let_tmp_rhs0.dtor__0;
        BigInteger _1_cin = _let_tmp_rhs0.dtor__1;
        BigInteger _2_sum = ((Std.Collections.Seq.__default.Last<BigInteger>(xs)) + (Std.Collections.Seq.__default.Last<BigInteger>(ys))) + (_1_cin);
        _System._ITuple2<BigInteger, BigInteger> _let_tmp_rhs1 = (((_2_sum) < (Std.Strings.DecimalConversion.__default.BASE())) ? (_System.Tuple2<BigInteger, BigInteger>.create(_2_sum, BigInteger.Zero)) : (_System.Tuple2<BigInteger, BigInteger>.create((_2_sum) - (Std.Strings.DecimalConversion.__default.BASE()), BigInteger.One)));
        BigInteger _3_sum__out = _let_tmp_rhs1.dtor__0;
        BigInteger _4_cout = _let_tmp_rhs1.dtor__1;
        return _System.Tuple2<Dafny.ISequence<BigInteger>, BigInteger>.create(Dafny.Sequence<BigInteger>.Concat(_0_zs_k, Dafny.Sequence<BigInteger>.FromElements(_3_sum__out)), _4_cout);
      }
    }
    public static _System._ITuple2<Dafny.ISequence<BigInteger>, BigInteger> SeqSub(Dafny.ISequence<BigInteger> xs, Dafny.ISequence<BigInteger> ys)
    {
      if ((new BigInteger((xs).Count)).Sign == 0) {
        return _System.Tuple2<Dafny.ISequence<BigInteger>, BigInteger>.create(Dafny.Sequence<BigInteger>.FromElements(), BigInteger.Zero);
      } else {
        _System._ITuple2<Dafny.ISequence<BigInteger>, BigInteger> _let_tmp_rhs0 = Std.Strings.DecimalConversion.__default.SeqSub(Std.Collections.Seq.__default.DropLast<BigInteger>(xs), Std.Collections.Seq.__default.DropLast<BigInteger>(ys));
        Dafny.ISequence<BigInteger> _0_zs = _let_tmp_rhs0.dtor__0;
        BigInteger _1_cin = _let_tmp_rhs0.dtor__1;
        _System._ITuple2<BigInteger, BigInteger> _let_tmp_rhs1 = (((Std.Collections.Seq.__default.Last<BigInteger>(xs)) >= ((Std.Collections.Seq.__default.Last<BigInteger>(ys)) + (_1_cin))) ? (_System.Tuple2<BigInteger, BigInteger>.create(((Std.Collections.Seq.__default.Last<BigInteger>(xs)) - (Std.Collections.Seq.__default.Last<BigInteger>(ys))) - (_1_cin), BigInteger.Zero)) : (_System.Tuple2<BigInteger, BigInteger>.create((((Std.Strings.DecimalConversion.__default.BASE()) + (Std.Collections.Seq.__default.Last<BigInteger>(xs))) - (Std.Collections.Seq.__default.Last<BigInteger>(ys))) - (_1_cin), BigInteger.One)));
        BigInteger _2_diff__out = _let_tmp_rhs1.dtor__0;
        BigInteger _3_cout = _let_tmp_rhs1.dtor__1;
        return _System.Tuple2<Dafny.ISequence<BigInteger>, BigInteger>.create(Dafny.Sequence<BigInteger>.Concat(_0_zs, Dafny.Sequence<BigInteger>.FromElements(_2_diff__out)), _3_cout);
      }
    }
    public static Dafny.ISequence<Dafny.Rune> DIGITS { get {
      return Dafny.Sequence<Dafny.Rune>.UnicodeFromString("0123456789");
    } }
    public static Dafny.ISequence<Dafny.Rune> chars { get {
      return Std.Strings.DecimalConversion.__default.DIGITS;
    } }
    public static BigInteger @base { get {
      return new BigInteger((Std.Strings.DecimalConversion.__default.chars).Count);
    } }
    public static Dafny.IMap<Dafny.Rune,BigInteger> charToDigit { get {
      return Dafny.Map<Dafny.Rune, BigInteger>.FromElements(new Dafny.Pair<Dafny.Rune, BigInteger>(new Dafny.Rune('0'), BigInteger.Zero), new Dafny.Pair<Dafny.Rune, BigInteger>(new Dafny.Rune('1'), BigInteger.One), new Dafny.Pair<Dafny.Rune, BigInteger>(new Dafny.Rune('2'), new BigInteger(2)), new Dafny.Pair<Dafny.Rune, BigInteger>(new Dafny.Rune('3'), new BigInteger(3)), new Dafny.Pair<Dafny.Rune, BigInteger>(new Dafny.Rune('4'), new BigInteger(4)), new Dafny.Pair<Dafny.Rune, BigInteger>(new Dafny.Rune('5'), new BigInteger(5)), new Dafny.Pair<Dafny.Rune, BigInteger>(new Dafny.Rune('6'), new BigInteger(6)), new Dafny.Pair<Dafny.Rune, BigInteger>(new Dafny.Rune('7'), new BigInteger(7)), new Dafny.Pair<Dafny.Rune, BigInteger>(new Dafny.Rune('8'), new BigInteger(8)), new Dafny.Pair<Dafny.Rune, BigInteger>(new Dafny.Rune('9'), new BigInteger(9)));
    } }
  }

  public partial class CharSeq {
    private static readonly Dafny.TypeDescriptor<Dafny.ISequence<Dafny.Rune>> _TYPE = new Dafny.TypeDescriptor<Dafny.ISequence<Dafny.Rune>>(Dafny.Sequence<Dafny.Rune>.Empty);
    public static Dafny.TypeDescriptor<Dafny.ISequence<Dafny.Rune>> _TypeDescriptor() {
      return _TYPE;
    }
    public static bool _Is(Dafny.ISequence<Dafny.Rune> __source) {
      Dafny.ISequence<Dafny.Rune> _0_chars = __source;
      return (new BigInteger((_0_chars).Count)) > (BigInteger.One);
    }
  }

  public partial class digit {
    private static readonly Dafny.TypeDescriptor<BigInteger> _TYPE = new Dafny.TypeDescriptor<BigInteger>(BigInteger.Zero);
    public static Dafny.TypeDescriptor<BigInteger> _TypeDescriptor() {
      return _TYPE;
    }
    public static bool _Is(BigInteger __source) {
      BigInteger _1_i = __source;
      if (_System.nat._Is(_1_i)) {
        return ((_1_i).Sign != -1) && ((_1_i) < (Std.Strings.DecimalConversion.__default.BASE()));
      }
      return false;
    }
  }
} // end of namespace Std.Strings.DecimalConversion
namespace Std.Strings.CharStrEscaping {

  public partial class __default {
    public static Dafny.ISequence<Dafny.Rune> Escape(Dafny.ISequence<Dafny.Rune> str, Dafny.ISet<Dafny.Rune> mustEscape, Dafny.Rune escape)
    {
      Dafny.ISequence<Dafny.Rune> _0___accumulator = Dafny.Sequence<Dafny.Rune>.FromElements();
    TAIL_CALL_START: ;
      if ((str).Equals(Dafny.Sequence<Dafny.Rune>.FromElements())) {
        return Dafny.Sequence<Dafny.Rune>.Concat(_0___accumulator, str);
      } else if ((mustEscape).Contains((str).Select(BigInteger.Zero))) {
        _0___accumulator = Dafny.Sequence<Dafny.Rune>.Concat(_0___accumulator, Dafny.Sequence<Dafny.Rune>.FromElements(escape, (str).Select(BigInteger.Zero)));
        Dafny.ISequence<Dafny.Rune> _in0 = (str).Drop(BigInteger.One);
        Dafny.ISet<Dafny.Rune> _in1 = mustEscape;
        Dafny.Rune _in2 = escape;
        str = _in0;
        mustEscape = _in1;
        escape = _in2;
        goto TAIL_CALL_START;
      } else {
        _0___accumulator = Dafny.Sequence<Dafny.Rune>.Concat(_0___accumulator, Dafny.Sequence<Dafny.Rune>.FromElements((str).Select(BigInteger.Zero)));
        Dafny.ISequence<Dafny.Rune> _in3 = (str).Drop(BigInteger.One);
        Dafny.ISet<Dafny.Rune> _in4 = mustEscape;
        Dafny.Rune _in5 = escape;
        str = _in3;
        mustEscape = _in4;
        escape = _in5;
        goto TAIL_CALL_START;
      }
    }
    public static Std.Wrappers._IOption<Dafny.ISequence<Dafny.Rune>> Unescape(Dafny.ISequence<Dafny.Rune> str, Dafny.Rune escape)
    {
      if ((str).Equals(Dafny.Sequence<Dafny.Rune>.FromElements())) {
        return Std.Wrappers.Option<Dafny.ISequence<Dafny.Rune>>.create_Some(str);
      } else if (((str).Select(BigInteger.Zero)) == (escape)) {
        if ((new BigInteger((str).Count)) > (BigInteger.One)) {
          Std.Wrappers._IOption<Dafny.ISequence<Dafny.Rune>> _0_valueOrError0 = Std.Strings.CharStrEscaping.__default.Unescape((str).Drop(new BigInteger(2)), escape);
          if ((_0_valueOrError0).IsFailure()) {
            return (_0_valueOrError0).PropagateFailure<Dafny.ISequence<Dafny.Rune>>();
          } else {
            Dafny.ISequence<Dafny.Rune> _1_tl = (_0_valueOrError0).Extract();
            return Std.Wrappers.Option<Dafny.ISequence<Dafny.Rune>>.create_Some(Dafny.Sequence<Dafny.Rune>.Concat(Dafny.Sequence<Dafny.Rune>.FromElements((str).Select(BigInteger.One)), _1_tl));
          }
        } else {
          return Std.Wrappers.Option<Dafny.ISequence<Dafny.Rune>>.create_None();
        }
      } else {
        Std.Wrappers._IOption<Dafny.ISequence<Dafny.Rune>> _2_valueOrError1 = Std.Strings.CharStrEscaping.__default.Unescape((str).Drop(BigInteger.One), escape);
        if ((_2_valueOrError1).IsFailure()) {
          return (_2_valueOrError1).PropagateFailure<Dafny.ISequence<Dafny.Rune>>();
        } else {
          Dafny.ISequence<Dafny.Rune> _3_tl = (_2_valueOrError1).Extract();
          return Std.Wrappers.Option<Dafny.ISequence<Dafny.Rune>>.create_Some(Dafny.Sequence<Dafny.Rune>.Concat(Dafny.Sequence<Dafny.Rune>.FromElements((str).Select(BigInteger.Zero)), _3_tl));
        }
      }
    }
  }
} // end of namespace Std.Strings.CharStrEscaping
namespace Std.Strings {

  public partial class __default {
    public static Dafny.ISequence<Dafny.Rune> OfNat(BigInteger n) {
      return Std.Strings.DecimalConversion.__default.OfNat(n);
    }
    public static Dafny.ISequence<Dafny.Rune> OfInt(BigInteger n) {
      return Std.Strings.DecimalConversion.__default.OfInt(n, new Dafny.Rune('-'));
    }
    public static BigInteger ToNat(Dafny.ISequence<Dafny.Rune> str) {
      return Std.Strings.DecimalConversion.__default.ToNat(str);
    }
    public static BigInteger ToInt(Dafny.ISequence<Dafny.Rune> str) {
      return Std.Strings.DecimalConversion.__default.ToInt(str, new Dafny.Rune('-'));
    }
    public static Dafny.ISequence<Dafny.Rune> EscapeQuotes(Dafny.ISequence<Dafny.Rune> str) {
      return Std.Strings.CharStrEscaping.__default.Escape(str, Dafny.Set<Dafny.Rune>.FromElements(new Dafny.Rune('\"'), new Dafny.Rune('\'')), new Dafny.Rune('\\'));
    }
    public static Std.Wrappers._IOption<Dafny.ISequence<Dafny.Rune>> UnescapeQuotes(Dafny.ISequence<Dafny.Rune> str) {
      return Std.Strings.CharStrEscaping.__default.Unescape(str, new Dafny.Rune('\\'));
    }
    public static Dafny.ISequence<Dafny.Rune> OfBool(bool b) {
      if (b) {
        return Dafny.Sequence<Dafny.Rune>.UnicodeFromString("true");
      } else {
        return Dafny.Sequence<Dafny.Rune>.UnicodeFromString("false");
      }
    }
    public static Dafny.ISequence<Dafny.Rune> OfChar(Dafny.Rune c) {
      return Dafny.Sequence<Dafny.Rune>.FromElements(c);
    }
  }
} // end of namespace Std.Strings
namespace Std.Unicode.Utf8EncodingForm {

  public partial class __default {
    public static bool IsMinimalWellFormedCodeUnitSubsequence(Dafny.ISequence<byte> s) {
      if ((new BigInteger((s).Count)) == (BigInteger.One)) {
        bool _0_b = Std.Unicode.Utf8EncodingForm.__default.IsWellFormedSingleCodeUnitSequence(s);
        return _0_b;
      } else if ((new BigInteger((s).Count)) == (new BigInteger(2))) {
        bool _1_b = Std.Unicode.Utf8EncodingForm.__default.IsWellFormedDoubleCodeUnitSequence(s);
        return _1_b;
      } else if ((new BigInteger((s).Count)) == (new BigInteger(3))) {
        bool _2_b = Std.Unicode.Utf8EncodingForm.__default.IsWellFormedTripleCodeUnitSequence(s);
        return _2_b;
      } else if ((new BigInteger((s).Count)) == (new BigInteger(4))) {
        bool _3_b = Std.Unicode.Utf8EncodingForm.__default.IsWellFormedQuadrupleCodeUnitSequence(s);
        return _3_b;
      } else {
        return false;
      }
    }
    public static bool IsWellFormedSingleCodeUnitSequence(Dafny.ISequence<byte> s) {
      byte _0_firstByte = (s).Select(BigInteger.Zero);
      return (true) && ((((byte)(0)) <= (_0_firstByte)) && ((_0_firstByte) <= ((byte)(127))));
    }
    public static bool IsWellFormedDoubleCodeUnitSequence(Dafny.ISequence<byte> s) {
      byte _0_firstByte = (s).Select(BigInteger.Zero);
      byte _1_secondByte = (s).Select(BigInteger.One);
      return ((((byte)(194)) <= (_0_firstByte)) && ((_0_firstByte) <= ((byte)(223)))) && ((((byte)(128)) <= (_1_secondByte)) && ((_1_secondByte) <= ((byte)(191))));
    }
    public static bool IsWellFormedTripleCodeUnitSequence(Dafny.ISequence<byte> s) {
      byte _0_firstByte = (s).Select(BigInteger.Zero);
      byte _1_secondByte = (s).Select(BigInteger.One);
      byte _2_thirdByte = (s).Select(new BigInteger(2));
      return ((((((_0_firstByte) == ((byte)(224))) && ((((byte)(160)) <= (_1_secondByte)) && ((_1_secondByte) <= ((byte)(191))))) || (((((byte)(225)) <= (_0_firstByte)) && ((_0_firstByte) <= ((byte)(236)))) && ((((byte)(128)) <= (_1_secondByte)) && ((_1_secondByte) <= ((byte)(191)))))) || (((_0_firstByte) == ((byte)(237))) && ((((byte)(128)) <= (_1_secondByte)) && ((_1_secondByte) <= ((byte)(159)))))) || (((((byte)(238)) <= (_0_firstByte)) && ((_0_firstByte) <= ((byte)(239)))) && ((((byte)(128)) <= (_1_secondByte)) && ((_1_secondByte) <= ((byte)(191)))))) && ((((byte)(128)) <= (_2_thirdByte)) && ((_2_thirdByte) <= ((byte)(191))));
    }
    public static bool IsWellFormedQuadrupleCodeUnitSequence(Dafny.ISequence<byte> s) {
      byte _0_firstByte = (s).Select(BigInteger.Zero);
      byte _1_secondByte = (s).Select(BigInteger.One);
      byte _2_thirdByte = (s).Select(new BigInteger(2));
      byte _3_fourthByte = (s).Select(new BigInteger(3));
      return ((((((_0_firstByte) == ((byte)(240))) && ((((byte)(144)) <= (_1_secondByte)) && ((_1_secondByte) <= ((byte)(191))))) || (((((byte)(241)) <= (_0_firstByte)) && ((_0_firstByte) <= ((byte)(243)))) && ((((byte)(128)) <= (_1_secondByte)) && ((_1_secondByte) <= ((byte)(191)))))) || (((_0_firstByte) == ((byte)(244))) && ((((byte)(128)) <= (_1_secondByte)) && ((_1_secondByte) <= ((byte)(143)))))) && ((((byte)(128)) <= (_2_thirdByte)) && ((_2_thirdByte) <= ((byte)(191))))) && ((((byte)(128)) <= (_3_fourthByte)) && ((_3_fourthByte) <= ((byte)(191))));
    }
    public static Std.Wrappers._IOption<Dafny.ISequence<byte>> SplitPrefixMinimalWellFormedCodeUnitSubsequence(Dafny.ISequence<byte> s) {
      if (((new BigInteger((s).Count)) >= (BigInteger.One)) && (Std.Unicode.Utf8EncodingForm.__default.IsWellFormedSingleCodeUnitSequence((s).Take(BigInteger.One)))) {
        return Std.Wrappers.Option<Dafny.ISequence<byte>>.create_Some((s).Take(BigInteger.One));
      } else if (((new BigInteger((s).Count)) >= (new BigInteger(2))) && (Std.Unicode.Utf8EncodingForm.__default.IsWellFormedDoubleCodeUnitSequence((s).Take(new BigInteger(2))))) {
        return Std.Wrappers.Option<Dafny.ISequence<byte>>.create_Some((s).Take(new BigInteger(2)));
      } else if (((new BigInteger((s).Count)) >= (new BigInteger(3))) && (Std.Unicode.Utf8EncodingForm.__default.IsWellFormedTripleCodeUnitSequence((s).Take(new BigInteger(3))))) {
        return Std.Wrappers.Option<Dafny.ISequence<byte>>.create_Some((s).Take(new BigInteger(3)));
      } else if (((new BigInteger((s).Count)) >= (new BigInteger(4))) && (Std.Unicode.Utf8EncodingForm.__default.IsWellFormedQuadrupleCodeUnitSequence((s).Take(new BigInteger(4))))) {
        return Std.Wrappers.Option<Dafny.ISequence<byte>>.create_Some((s).Take(new BigInteger(4)));
      } else {
        return Std.Wrappers.Option<Dafny.ISequence<byte>>.create_None();
      }
    }
    public static Dafny.ISequence<byte> EncodeScalarValue(uint v) {
      if ((v) <= (127U)) {
        return Std.Unicode.Utf8EncodingForm.__default.EncodeScalarValueSingleByte(v);
      } else if ((v) <= (2047U)) {
        return Std.Unicode.Utf8EncodingForm.__default.EncodeScalarValueDoubleByte(v);
      } else if ((v) <= (65535U)) {
        return Std.Unicode.Utf8EncodingForm.__default.EncodeScalarValueTripleByte(v);
      } else {
        return Std.Unicode.Utf8EncodingForm.__default.EncodeScalarValueQuadrupleByte(v);
      }
    }
    public static Dafny.ISequence<byte> EncodeScalarValueSingleByte(uint v) {
      byte _0_x = (byte)((v) & (127U));
      byte _1_firstByte = (byte)(_0_x);
      return Dafny.Sequence<byte>.FromElements(_1_firstByte);
    }
    public static Dafny.ISequence<byte> EncodeScalarValueDoubleByte(uint v) {
      byte _0_x = (byte)((v) & (63U));
      byte _1_y = (byte)(((v) & (1984U)) >> ((int)((byte)(6))));
      byte _2_firstByte = (byte)(((byte)(192)) | ((byte)(_1_y)));
      byte _3_secondByte = (byte)(((byte)(128)) | ((byte)(_0_x)));
      return Dafny.Sequence<byte>.FromElements(_2_firstByte, _3_secondByte);
    }
    public static Dafny.ISequence<byte> EncodeScalarValueTripleByte(uint v) {
      byte _0_x = (byte)((v) & (63U));
      byte _1_y = (byte)(((v) & (4032U)) >> ((int)((byte)(6))));
      byte _2_z = (byte)(((v) & (61440U)) >> ((int)((byte)(12))));
      byte _3_firstByte = (byte)(((byte)(224)) | ((byte)(_2_z)));
      byte _4_secondByte = (byte)(((byte)(128)) | ((byte)(_1_y)));
      byte _5_thirdByte = (byte)(((byte)(128)) | ((byte)(_0_x)));
      return Dafny.Sequence<byte>.FromElements(_3_firstByte, _4_secondByte, _5_thirdByte);
    }
    public static Dafny.ISequence<byte> EncodeScalarValueQuadrupleByte(uint v) {
      byte _0_x = (byte)((v) & (63U));
      byte _1_y = (byte)(((v) & (4032U)) >> ((int)((byte)(6))));
      byte _2_z = (byte)(((v) & (61440U)) >> ((int)((byte)(12))));
      byte _3_u2 = (byte)(((v) & (196608U)) >> ((int)((byte)(16))));
      byte _4_u1 = (byte)(((v) & (1835008U)) >> ((int)((byte)(18))));
      byte _5_firstByte = (byte)(((byte)(240)) | ((byte)(_4_u1)));
      byte _6_secondByte = (byte)(((byte)(((byte)(128)) | (unchecked((byte)(((byte)(((byte)(_3_u2)) << ((int)((byte)(4)))))))))) | ((byte)(_2_z)));
      byte _7_thirdByte = (byte)(((byte)(128)) | ((byte)(_1_y)));
      byte _8_fourthByte = (byte)(((byte)(128)) | ((byte)(_0_x)));
      return Dafny.Sequence<byte>.FromElements(_5_firstByte, _6_secondByte, _7_thirdByte, _8_fourthByte);
    }
    public static uint DecodeMinimalWellFormedCodeUnitSubsequence(Dafny.ISequence<byte> m) {
      if ((new BigInteger((m).Count)) == (BigInteger.One)) {
        return Std.Unicode.Utf8EncodingForm.__default.DecodeMinimalWellFormedCodeUnitSubsequenceSingleByte(m);
      } else if ((new BigInteger((m).Count)) == (new BigInteger(2))) {
        return Std.Unicode.Utf8EncodingForm.__default.DecodeMinimalWellFormedCodeUnitSubsequenceDoubleByte(m);
      } else if ((new BigInteger((m).Count)) == (new BigInteger(3))) {
        return Std.Unicode.Utf8EncodingForm.__default.DecodeMinimalWellFormedCodeUnitSubsequenceTripleByte(m);
      } else {
        return Std.Unicode.Utf8EncodingForm.__default.DecodeMinimalWellFormedCodeUnitSubsequenceQuadrupleByte(m);
      }
    }
    public static uint DecodeMinimalWellFormedCodeUnitSubsequenceSingleByte(Dafny.ISequence<byte> m) {
      byte _0_firstByte = (m).Select(BigInteger.Zero);
      byte _1_x = (byte)(_0_firstByte);
      return (uint)(_1_x);
    }
    public static uint DecodeMinimalWellFormedCodeUnitSubsequenceDoubleByte(Dafny.ISequence<byte> m) {
      byte _0_firstByte = (m).Select(BigInteger.Zero);
      byte _1_secondByte = (m).Select(BigInteger.One);
      uint _2_y = (uint)((byte)((_0_firstByte) & ((byte)(31))));
      uint _3_x = (uint)((byte)((_1_secondByte) & ((byte)(63))));
      return (unchecked((uint)(((_2_y) << ((int)((byte)(6)))) & (uint)0xFFFFFFU))) | ((uint)(_3_x));
    }
    public static uint DecodeMinimalWellFormedCodeUnitSubsequenceTripleByte(Dafny.ISequence<byte> m) {
      byte _0_firstByte = (m).Select(BigInteger.Zero);
      byte _1_secondByte = (m).Select(BigInteger.One);
      byte _2_thirdByte = (m).Select(new BigInteger(2));
      uint _3_z = (uint)((byte)((_0_firstByte) & ((byte)(15))));
      uint _4_y = (uint)((byte)((_1_secondByte) & ((byte)(63))));
      uint _5_x = (uint)((byte)((_2_thirdByte) & ((byte)(63))));
      return ((unchecked((uint)(((_3_z) << ((int)((byte)(12)))) & (uint)0xFFFFFFU))) | (unchecked((uint)(((_4_y) << ((int)((byte)(6)))) & (uint)0xFFFFFFU)))) | ((uint)(_5_x));
    }
    public static uint DecodeMinimalWellFormedCodeUnitSubsequenceQuadrupleByte(Dafny.ISequence<byte> m) {
      byte _0_firstByte = (m).Select(BigInteger.Zero);
      byte _1_secondByte = (m).Select(BigInteger.One);
      byte _2_thirdByte = (m).Select(new BigInteger(2));
      byte _3_fourthByte = (m).Select(new BigInteger(3));
      uint _4_u1 = (uint)((byte)((_0_firstByte) & ((byte)(7))));
      uint _5_u2 = (uint)((byte)(((byte)((_1_secondByte) & ((byte)(48)))) >> ((int)((byte)(4)))));
      uint _6_z = (uint)((byte)((_1_secondByte) & ((byte)(15))));
      uint _7_y = (uint)((byte)((_2_thirdByte) & ((byte)(63))));
      uint _8_x = (uint)((byte)((_3_fourthByte) & ((byte)(63))));
      uint _9_r = ((((unchecked((uint)(((_4_u1) << ((int)((byte)(18)))) & (uint)0xFFFFFFU))) | (unchecked((uint)(((_5_u2) << ((int)((byte)(16)))) & (uint)0xFFFFFFU)))) | (unchecked((uint)(((_6_z) << ((int)((byte)(12)))) & (uint)0xFFFFFFU)))) | (unchecked((uint)(((_7_y) << ((int)((byte)(6)))) & (uint)0xFFFFFFU)))) | ((uint)(_8_x));
      return _9_r;
    }
    public static Std.Wrappers._IResult<Dafny.ISequence<Dafny.ISequence<byte>>, Dafny.ISequence<byte>> PartitionCodeUnitSequenceChecked(Dafny.ISequence<byte> s)
    {
      Std.Wrappers._IResult<Dafny.ISequence<Dafny.ISequence<byte>>, Dafny.ISequence<byte>> maybeParts = Std.Wrappers.Result<Dafny.ISequence<Dafny.ISequence<byte>>, Dafny.ISequence<byte>>.Default(Dafny.Sequence<Dafny.ISequence<byte>>.Empty);
      if ((s).Equals(Dafny.Sequence<byte>.FromElements())) {
        maybeParts = Std.Wrappers.Result<Dafny.ISequence<Dafny.ISequence<byte>>, Dafny.ISequence<byte>>.create_Success(Dafny.Sequence<Dafny.ISequence<byte>>.FromElements());
        return maybeParts;
      }
      Dafny.ISequence<Dafny.ISequence<byte>> _0_result;
      _0_result = Dafny.Sequence<Dafny.ISequence<byte>>.FromElements();
      Dafny.ISequence<byte> _1_rest;
      _1_rest = s;
      while ((new BigInteger((_1_rest).Count)).Sign == 1) {
        Std.Wrappers._IResult<Dafny.ISequence<byte>, Dafny.ISequence<byte>> _2_valueOrError0 = default(Std.Wrappers._IResult<Dafny.ISequence<byte>, Dafny.ISequence<byte>>);
        _2_valueOrError0 = (Std.Unicode.Utf8EncodingForm.__default.SplitPrefixMinimalWellFormedCodeUnitSubsequence(_1_rest)).ToResult<Dafny.ISequence<byte>>(_1_rest);
        if ((_2_valueOrError0).IsFailure()) {
          maybeParts = (_2_valueOrError0).PropagateFailure<Dafny.ISequence<Dafny.ISequence<byte>>>();
          return maybeParts;
        }
        Dafny.ISequence<byte> _3_prefix;
        _3_prefix = (_2_valueOrError0).Extract();
        _0_result = Dafny.Sequence<Dafny.ISequence<byte>>.Concat(_0_result, Dafny.Sequence<Dafny.ISequence<byte>>.FromElements(_3_prefix));
        _1_rest = (_1_rest).Drop(new BigInteger((_3_prefix).Count));
      }
      maybeParts = Std.Wrappers.Result<Dafny.ISequence<Dafny.ISequence<byte>>, Dafny.ISequence<byte>>.create_Success(_0_result);
      return maybeParts;
      return maybeParts;
    }
    public static Dafny.ISequence<Dafny.ISequence<byte>> PartitionCodeUnitSequence(Dafny.ISequence<byte> s) {
      return (Std.Unicode.Utf8EncodingForm.__default.PartitionCodeUnitSequenceChecked(s)).Extract();
    }
    public static bool IsWellFormedCodeUnitSequence(Dafny.ISequence<byte> s) {
      return (Std.Unicode.Utf8EncodingForm.__default.PartitionCodeUnitSequenceChecked(s)).is_Success;
    }
    public static Dafny.ISequence<byte> EncodeScalarSequence(Dafny.ISequence<uint> vs)
    {
      Dafny.ISequence<byte> s = Std.Unicode.Utf8EncodingForm.WellFormedCodeUnitSeq.Default();
      s = Dafny.Sequence<byte>.FromElements();
      BigInteger _lo0 = BigInteger.Zero;
      for (BigInteger _0_i = new BigInteger((vs).Count); _lo0 < _0_i; ) {
        _0_i--;
        Dafny.ISequence<byte> _1_next;
        _1_next = Std.Unicode.Utf8EncodingForm.__default.EncodeScalarValue((vs).Select(_0_i));
        s = Dafny.Sequence<byte>.Concat(_1_next, s);
      }
      return s;
    }
    public static Dafny.ISequence<uint> DecodeCodeUnitSequence(Dafny.ISequence<byte> s) {
      Dafny.ISequence<Dafny.ISequence<byte>> _0_parts = Std.Unicode.Utf8EncodingForm.__default.PartitionCodeUnitSequence(s);
      Dafny.ISequence<uint> _1_vs = Std.Collections.Seq.__default.MapPartialFunction<Dafny.ISequence<byte>, uint>(Std.Unicode.Utf8EncodingForm.__default.DecodeMinimalWellFormedCodeUnitSubsequence, _0_parts);
      return _1_vs;
    }
    public static Dafny.ISequence<Dafny.Rune> DecodeErrorMessage(BigInteger index) {
      return Dafny.Sequence<Dafny.Rune>.Concat(Dafny.Sequence<Dafny.Rune>.UnicodeFromString("Could not decode byte at index "), Std.Strings.__default.OfInt(index));
    }
    public static Std.Wrappers._IResult<Dafny.ISequence<uint>, Dafny.ISequence<Dafny.Rune>> DecodeCodeUnitSequenceChecked(Dafny.ISequence<byte> s)
    {
      Std.Wrappers._IResult<Dafny.ISequence<uint>, Dafny.ISequence<Dafny.Rune>> resultVs = Std.Wrappers.Result<Dafny.ISequence<uint>, Dafny.ISequence<Dafny.Rune>>.Default(Dafny.Sequence<uint>.Empty);
      Std.Wrappers._IResult<Dafny.ISequence<Dafny.ISequence<byte>>, Dafny.ISequence<byte>> _0_maybeParts;
      _0_maybeParts = Std.Unicode.Utf8EncodingForm.__default.PartitionCodeUnitSequenceChecked(s);
      if ((_0_maybeParts).is_Failure) {
        resultVs = Std.Wrappers.Result<Dafny.ISequence<uint>, Dafny.ISequence<Dafny.Rune>>.create_Failure(Std.Unicode.Utf8EncodingForm.__default.DecodeErrorMessage((new BigInteger((s).Count)) - (new BigInteger(((_0_maybeParts).dtor_error).Count))));
        return resultVs;
      }
      Dafny.ISequence<Dafny.ISequence<byte>> _1_parts;
      _1_parts = (_0_maybeParts).dtor_value;
      Dafny.ISequence<uint> _2_vs;
      _2_vs = Std.Collections.Seq.__default.MapPartialFunction<Dafny.ISequence<byte>, uint>(Std.Unicode.Utf8EncodingForm.__default.DecodeMinimalWellFormedCodeUnitSubsequence, _1_parts);
      resultVs = Std.Wrappers.Result<Dafny.ISequence<uint>, Dafny.ISequence<Dafny.Rune>>.create_Success(_2_vs);
      return resultVs;
      return resultVs;
    }
  }

  public partial class WellFormedCodeUnitSeq {
    private static readonly Dafny.ISequence<byte> Witness = Dafny.Sequence<byte>.FromElements();
    public static Dafny.ISequence<byte> Default() {
      return Witness;
    }
    private static readonly Dafny.TypeDescriptor<Dafny.ISequence<byte>> _TYPE = new Dafny.TypeDescriptor<Dafny.ISequence<byte>>(Std.Unicode.Utf8EncodingForm.WellFormedCodeUnitSeq.Default());
    public static Dafny.TypeDescriptor<Dafny.ISequence<byte>> _TypeDescriptor() {
      return _TYPE;
    }
    public static bool _Is(Dafny.ISequence<byte> __source) {
      Dafny.ISequence<byte> _3_s = __source;
      return Std.Unicode.Utf8EncodingForm.__default.IsWellFormedCodeUnitSequence(_3_s);
    }
  }

  public partial class MinimalWellFormedCodeUnitSeq {
    private static readonly Dafny.TypeDescriptor<Dafny.ISequence<byte>> _TYPE = new Dafny.TypeDescriptor<Dafny.ISequence<byte>>(Dafny.Sequence<byte>.Empty);
    public static Dafny.TypeDescriptor<Dafny.ISequence<byte>> _TypeDescriptor() {
      return _TYPE;
    }
    public static bool _Is(Dafny.ISequence<byte> __source) {
      Dafny.ISequence<byte> _4_s = __source;
      return Std.Unicode.Utf8EncodingForm.__default.IsMinimalWellFormedCodeUnitSubsequence(_4_s);
    }
  }
} // end of namespace Std.Unicode.Utf8EncodingForm
namespace Std.Unicode.Utf16EncodingForm {

  public partial class __default {
    public static bool IsMinimalWellFormedCodeUnitSubsequence(Dafny.ISequence<ushort> s) {
      if ((new BigInteger((s).Count)) == (BigInteger.One)) {
        return Std.Unicode.Utf16EncodingForm.__default.IsWellFormedSingleCodeUnitSequence(s);
      } else if ((new BigInteger((s).Count)) == (new BigInteger(2))) {
        bool _0_b = Std.Unicode.Utf16EncodingForm.__default.IsWellFormedDoubleCodeUnitSequence(s);
        return _0_b;
      } else {
        return false;
      }
    }
    public static bool IsWellFormedSingleCodeUnitSequence(Dafny.ISequence<ushort> s) {
      ushort _0_firstWord = (s).Select(BigInteger.Zero);
      return ((((ushort)(0)) <= (_0_firstWord)) && ((_0_firstWord) <= ((ushort)(55295)))) || ((((ushort)(57344)) <= (_0_firstWord)) && ((_0_firstWord) <= ((ushort)(65535))));
    }
    public static bool IsWellFormedDoubleCodeUnitSequence(Dafny.ISequence<ushort> s) {
      ushort _0_firstWord = (s).Select(BigInteger.Zero);
      ushort _1_secondWord = (s).Select(BigInteger.One);
      return ((((ushort)(55296)) <= (_0_firstWord)) && ((_0_firstWord) <= ((ushort)(56319)))) && ((((ushort)(56320)) <= (_1_secondWord)) && ((_1_secondWord) <= ((ushort)(57343))));
    }
    public static Std.Wrappers._IOption<Dafny.ISequence<ushort>> SplitPrefixMinimalWellFormedCodeUnitSubsequence(Dafny.ISequence<ushort> s) {
      if (((new BigInteger((s).Count)) >= (BigInteger.One)) && (Std.Unicode.Utf16EncodingForm.__default.IsWellFormedSingleCodeUnitSequence((s).Take(BigInteger.One)))) {
        return Std.Wrappers.Option<Dafny.ISequence<ushort>>.create_Some((s).Take(BigInteger.One));
      } else if (((new BigInteger((s).Count)) >= (new BigInteger(2))) && (Std.Unicode.Utf16EncodingForm.__default.IsWellFormedDoubleCodeUnitSequence((s).Take(new BigInteger(2))))) {
        return Std.Wrappers.Option<Dafny.ISequence<ushort>>.create_Some((s).Take(new BigInteger(2)));
      } else {
        return Std.Wrappers.Option<Dafny.ISequence<ushort>>.create_None();
      }
    }
    public static Dafny.ISequence<ushort> EncodeScalarValue(uint v) {
      if ((((0U) <= (v)) && ((v) <= (55295U))) || (((57344U) <= (v)) && ((v) <= (65535U)))) {
        return Std.Unicode.Utf16EncodingForm.__default.EncodeScalarValueSingleWord(v);
      } else {
        return Std.Unicode.Utf16EncodingForm.__default.EncodeScalarValueDoubleWord(v);
      }
    }
    public static Dafny.ISequence<ushort> EncodeScalarValueSingleWord(uint v) {
      ushort _0_firstWord = (ushort)(v);
      return Dafny.Sequence<ushort>.FromElements(_0_firstWord);
    }
    public static Dafny.ISequence<ushort> EncodeScalarValueDoubleWord(uint v) {
      ushort _0_x2 = (ushort)((v) & (1023U));
      byte _1_x1 = (byte)(((v) & (64512U)) >> ((int)((byte)(10))));
      byte _2_u = (byte)(((v) & (2031616U)) >> ((int)((byte)(16))));
      byte _3_w = (byte)(unchecked((byte)(((byte)((_2_u) - ((byte)(1)))) & (byte)0x1F)));
      ushort _4_firstWord = (ushort)(((ushort)(((ushort)(55296)) | (unchecked((ushort)(((ushort)(((ushort)(_3_w)) << ((int)((byte)(6)))))))))) | ((ushort)(_1_x1)));
      ushort _5_secondWord = (ushort)(((ushort)(56320)) | ((ushort)(_0_x2)));
      return Dafny.Sequence<ushort>.FromElements(_4_firstWord, _5_secondWord);
    }
    public static uint DecodeMinimalWellFormedCodeUnitSubsequence(Dafny.ISequence<ushort> m) {
      if ((new BigInteger((m).Count)) == (BigInteger.One)) {
        return Std.Unicode.Utf16EncodingForm.__default.DecodeMinimalWellFormedCodeUnitSubsequenceSingleWord(m);
      } else {
        return Std.Unicode.Utf16EncodingForm.__default.DecodeMinimalWellFormedCodeUnitSubsequenceDoubleWord(m);
      }
    }
    public static uint DecodeMinimalWellFormedCodeUnitSubsequenceSingleWord(Dafny.ISequence<ushort> m) {
      ushort _0_firstWord = (m).Select(BigInteger.Zero);
      ushort _1_x = _0_firstWord;
      return (uint)(_1_x);
    }
    public static uint DecodeMinimalWellFormedCodeUnitSubsequenceDoubleWord(Dafny.ISequence<ushort> m) {
      ushort _0_firstWord = (m).Select(BigInteger.Zero);
      ushort _1_secondWord = (m).Select(BigInteger.One);
      uint _2_x2 = (uint)((ushort)((_1_secondWord) & ((ushort)(1023))));
      uint _3_x1 = (uint)((ushort)((_0_firstWord) & ((ushort)(63))));
      uint _4_w = (uint)((ushort)(((ushort)((_0_firstWord) & ((ushort)(960)))) >> ((int)((byte)(6)))));
      uint _5_u = unchecked((uint)(((_4_w) + (1U)) & (uint)0xFFFFFFU));
      uint _6_v = ((unchecked((uint)(((_5_u) << ((int)((byte)(16)))) & (uint)0xFFFFFFU))) | (unchecked((uint)(((_3_x1) << ((int)((byte)(10)))) & (uint)0xFFFFFFU)))) | ((uint)(_2_x2));
      return _6_v;
    }
    public static Std.Wrappers._IResult<Dafny.ISequence<Dafny.ISequence<ushort>>, Dafny.ISequence<ushort>> PartitionCodeUnitSequenceChecked(Dafny.ISequence<ushort> s)
    {
      Std.Wrappers._IResult<Dafny.ISequence<Dafny.ISequence<ushort>>, Dafny.ISequence<ushort>> maybeParts = Std.Wrappers.Result<Dafny.ISequence<Dafny.ISequence<ushort>>, Dafny.ISequence<ushort>>.Default(Dafny.Sequence<Dafny.ISequence<ushort>>.Empty);
      if ((s).Equals(Dafny.Sequence<ushort>.FromElements())) {
        maybeParts = Std.Wrappers.Result<Dafny.ISequence<Dafny.ISequence<ushort>>, Dafny.ISequence<ushort>>.create_Success(Dafny.Sequence<Dafny.ISequence<ushort>>.FromElements());
        return maybeParts;
      }
      Dafny.ISequence<Dafny.ISequence<ushort>> _0_result;
      _0_result = Dafny.Sequence<Dafny.ISequence<ushort>>.FromElements();
      Dafny.ISequence<ushort> _1_rest;
      _1_rest = s;
      while ((new BigInteger((_1_rest).Count)).Sign == 1) {
        Std.Wrappers._IResult<Dafny.ISequence<ushort>, Dafny.ISequence<ushort>> _2_valueOrError0 = default(Std.Wrappers._IResult<Dafny.ISequence<ushort>, Dafny.ISequence<ushort>>);
        _2_valueOrError0 = (Std.Unicode.Utf16EncodingForm.__default.SplitPrefixMinimalWellFormedCodeUnitSubsequence(_1_rest)).ToResult<Dafny.ISequence<ushort>>(_1_rest);
        if ((_2_valueOrError0).IsFailure()) {
          maybeParts = (_2_valueOrError0).PropagateFailure<Dafny.ISequence<Dafny.ISequence<ushort>>>();
          return maybeParts;
        }
        Dafny.ISequence<ushort> _3_prefix;
        _3_prefix = (_2_valueOrError0).Extract();
        _0_result = Dafny.Sequence<Dafny.ISequence<ushort>>.Concat(_0_result, Dafny.Sequence<Dafny.ISequence<ushort>>.FromElements(_3_prefix));
        _1_rest = (_1_rest).Drop(new BigInteger((_3_prefix).Count));
      }
      maybeParts = Std.Wrappers.Result<Dafny.ISequence<Dafny.ISequence<ushort>>, Dafny.ISequence<ushort>>.create_Success(_0_result);
      return maybeParts;
      return maybeParts;
    }
    public static Dafny.ISequence<Dafny.ISequence<ushort>> PartitionCodeUnitSequence(Dafny.ISequence<ushort> s) {
      return (Std.Unicode.Utf16EncodingForm.__default.PartitionCodeUnitSequenceChecked(s)).Extract();
    }
    public static bool IsWellFormedCodeUnitSequence(Dafny.ISequence<ushort> s) {
      return (Std.Unicode.Utf16EncodingForm.__default.PartitionCodeUnitSequenceChecked(s)).is_Success;
    }
    public static Dafny.ISequence<ushort> EncodeScalarSequence(Dafny.ISequence<uint> vs)
    {
      Dafny.ISequence<ushort> s = Std.Unicode.Utf16EncodingForm.WellFormedCodeUnitSeq.Default();
      s = Dafny.Sequence<ushort>.FromElements();
      BigInteger _lo0 = BigInteger.Zero;
      for (BigInteger _0_i = new BigInteger((vs).Count); _lo0 < _0_i; ) {
        _0_i--;
        Dafny.ISequence<ushort> _1_next;
        _1_next = Std.Unicode.Utf16EncodingForm.__default.EncodeScalarValue((vs).Select(_0_i));
        s = Dafny.Sequence<ushort>.Concat(_1_next, s);
      }
      return s;
    }
    public static Dafny.ISequence<uint> DecodeCodeUnitSequence(Dafny.ISequence<ushort> s) {
      Dafny.ISequence<Dafny.ISequence<ushort>> _0_parts = Std.Unicode.Utf16EncodingForm.__default.PartitionCodeUnitSequence(s);
      Dafny.ISequence<uint> _1_vs = Std.Collections.Seq.__default.MapPartialFunction<Dafny.ISequence<ushort>, uint>(Std.Unicode.Utf16EncodingForm.__default.DecodeMinimalWellFormedCodeUnitSubsequence, _0_parts);
      return _1_vs;
    }
    public static Dafny.ISequence<Dafny.Rune> DecodeErrorMessage(BigInteger index) {
      return Dafny.Sequence<Dafny.Rune>.Concat(Dafny.Sequence<Dafny.Rune>.UnicodeFromString("Could not decode byte at index "), Std.Strings.__default.OfInt(index));
    }
    public static Std.Wrappers._IResult<Dafny.ISequence<uint>, Dafny.ISequence<Dafny.Rune>> DecodeCodeUnitSequenceChecked(Dafny.ISequence<ushort> s)
    {
      Std.Wrappers._IResult<Dafny.ISequence<uint>, Dafny.ISequence<Dafny.Rune>> resultVs = Std.Wrappers.Result<Dafny.ISequence<uint>, Dafny.ISequence<Dafny.Rune>>.Default(Dafny.Sequence<uint>.Empty);
      Std.Wrappers._IResult<Dafny.ISequence<Dafny.ISequence<ushort>>, Dafny.ISequence<ushort>> _0_maybeParts;
      _0_maybeParts = Std.Unicode.Utf16EncodingForm.__default.PartitionCodeUnitSequenceChecked(s);
      if ((_0_maybeParts).is_Failure) {
        resultVs = Std.Wrappers.Result<Dafny.ISequence<uint>, Dafny.ISequence<Dafny.Rune>>.create_Failure(Std.Unicode.Utf16EncodingForm.__default.DecodeErrorMessage((new BigInteger((s).Count)) - (new BigInteger(((_0_maybeParts).dtor_error).Count))));
        return resultVs;
      }
      Dafny.ISequence<Dafny.ISequence<ushort>> _1_parts;
      _1_parts = (_0_maybeParts).dtor_value;
      Dafny.ISequence<uint> _2_vs;
      _2_vs = Std.Collections.Seq.__default.MapPartialFunction<Dafny.ISequence<ushort>, uint>(Std.Unicode.Utf16EncodingForm.__default.DecodeMinimalWellFormedCodeUnitSubsequence, _1_parts);
      resultVs = Std.Wrappers.Result<Dafny.ISequence<uint>, Dafny.ISequence<Dafny.Rune>>.create_Success(_2_vs);
      return resultVs;
      return resultVs;
    }
  }

  public partial class WellFormedCodeUnitSeq {
    private static readonly Dafny.ISequence<ushort> Witness = Dafny.Sequence<ushort>.FromElements();
    public static Dafny.ISequence<ushort> Default() {
      return Witness;
    }
    private static readonly Dafny.TypeDescriptor<Dafny.ISequence<ushort>> _TYPE = new Dafny.TypeDescriptor<Dafny.ISequence<ushort>>(Std.Unicode.Utf16EncodingForm.WellFormedCodeUnitSeq.Default());
    public static Dafny.TypeDescriptor<Dafny.ISequence<ushort>> _TypeDescriptor() {
      return _TYPE;
    }
    public static bool _Is(Dafny.ISequence<ushort> __source) {
      Dafny.ISequence<ushort> _3_s = __source;
      return Std.Unicode.Utf16EncodingForm.__default.IsWellFormedCodeUnitSequence(_3_s);
    }
  }

  public partial class MinimalWellFormedCodeUnitSeq {
    private static readonly Dafny.TypeDescriptor<Dafny.ISequence<ushort>> _TYPE = new Dafny.TypeDescriptor<Dafny.ISequence<ushort>>(Dafny.Sequence<ushort>.Empty);
    public static Dafny.TypeDescriptor<Dafny.ISequence<ushort>> _TypeDescriptor() {
      return _TYPE;
    }
    public static bool _Is(Dafny.ISequence<ushort> __source) {
      Dafny.ISequence<ushort> _4_s = __source;
      return Std.Unicode.Utf16EncodingForm.__default.IsMinimalWellFormedCodeUnitSubsequence(_4_s);
    }
  }
} // end of namespace Std.Unicode.Utf16EncodingForm
namespace Std.Unicode.UnicodeStringsWithUnicodeChar {

  public partial class __default {
    public static uint CharAsUnicodeScalarValue(Dafny.Rune c) {
      return (uint)(new BigInteger((c).Value));
    }
    public static Dafny.Rune CharFromUnicodeScalarValue(uint sv) {
      return new Dafny.Rune((int)(new BigInteger(sv)));
    }
    public static Std.Wrappers._IOption<Dafny.ISequence<byte>> ToUTF8Checked(Dafny.ISequence<Dafny.Rune> s) {
      Dafny.ISequence<uint> _0_asCodeUnits = Std.Collections.Seq.__default.Map<Dafny.Rune, uint>(Std.Unicode.UnicodeStringsWithUnicodeChar.__default.CharAsUnicodeScalarValue, s);
      Dafny.ISequence<byte> _1_asUtf8CodeUnits = Std.Unicode.Utf8EncodingForm.__default.EncodeScalarSequence(_0_asCodeUnits);
      Dafny.ISequence<byte> _2_asBytes = Std.Collections.Seq.__default.Map<byte, byte>(((System.Func<byte, byte>)((_3_cu) => {
        return (byte)(_3_cu);
      })), _1_asUtf8CodeUnits);
      return Std.Wrappers.Option<Dafny.ISequence<byte>>.create_Some(_2_asBytes);
    }
    public static Std.Wrappers._IResult<Dafny.ISequence<Dafny.Rune>, Dafny.ISequence<Dafny.Rune>> FromUTF8Checked(Dafny.ISequence<byte> bs) {
      Dafny.ISequence<byte> _0_asCodeUnits = Std.Collections.Seq.__default.Map<byte, byte>(((System.Func<byte, byte>)((_1_c) => {
        return (byte)(_1_c);
      })), bs);
      Std.Wrappers._IResult<Dafny.ISequence<uint>, Dafny.ISequence<Dafny.Rune>> _2_valueOrError0 = Std.Unicode.Utf8EncodingForm.__default.DecodeCodeUnitSequenceChecked(_0_asCodeUnits);
      if ((_2_valueOrError0).IsFailure()) {
        return (_2_valueOrError0).PropagateFailure<Dafny.ISequence<Dafny.Rune>>();
      } else {
        Dafny.ISequence<uint> _3_utf32 = (_2_valueOrError0).Extract();
        Dafny.ISequence<Dafny.Rune> _4_asChars = Std.Collections.Seq.__default.Map<uint, Dafny.Rune>(Std.Unicode.UnicodeStringsWithUnicodeChar.__default.CharFromUnicodeScalarValue, _3_utf32);
        return Std.Wrappers.Result<Dafny.ISequence<Dafny.Rune>, Dafny.ISequence<Dafny.Rune>>.create_Success(_4_asChars);
      }
    }
    public static Std.Wrappers._IOption<Dafny.ISequence<ushort>> ToUTF16Checked(Dafny.ISequence<Dafny.Rune> s) {
      Dafny.ISequence<uint> _0_asCodeUnits = Std.Collections.Seq.__default.Map<Dafny.Rune, uint>(Std.Unicode.UnicodeStringsWithUnicodeChar.__default.CharAsUnicodeScalarValue, s);
      Dafny.ISequence<ushort> _1_asUtf16CodeUnits = Std.Unicode.Utf16EncodingForm.__default.EncodeScalarSequence(_0_asCodeUnits);
      Dafny.ISequence<ushort> _2_asBytes = Std.Collections.Seq.__default.Map<ushort, ushort>(((System.Func<ushort, ushort>)((_3_cu) => {
        return (ushort)(_3_cu);
      })), _1_asUtf16CodeUnits);
      return Std.Wrappers.Option<Dafny.ISequence<ushort>>.create_Some(_2_asBytes);
    }
    public static Std.Wrappers._IResult<Dafny.ISequence<Dafny.Rune>, Dafny.ISequence<Dafny.Rune>> FromUTF16Checked(Dafny.ISequence<ushort> bs) {
      Dafny.ISequence<ushort> _0_asCodeUnits = Std.Collections.Seq.__default.Map<ushort, ushort>(((System.Func<ushort, ushort>)((_1_c) => {
        return (ushort)(_1_c);
      })), bs);
      Std.Wrappers._IResult<Dafny.ISequence<uint>, Dafny.ISequence<Dafny.Rune>> _2_valueOrError0 = Std.Unicode.Utf16EncodingForm.__default.DecodeCodeUnitSequenceChecked(_0_asCodeUnits);
      if ((_2_valueOrError0).IsFailure()) {
        return (_2_valueOrError0).PropagateFailure<Dafny.ISequence<Dafny.Rune>>();
      } else {
        Dafny.ISequence<uint> _3_utf32 = (_2_valueOrError0).Extract();
        Dafny.ISequence<Dafny.Rune> _4_asChars = Std.Collections.Seq.__default.Map<uint, Dafny.Rune>(Std.Unicode.UnicodeStringsWithUnicodeChar.__default.CharFromUnicodeScalarValue, _3_utf32);
        return Std.Wrappers.Result<Dafny.ISequence<Dafny.Rune>, Dafny.ISequence<Dafny.Rune>>.create_Success(_4_asChars);
      }
    }
    public static Dafny.ISequence<byte> ASCIIToUTF8(Dafny.ISequence<Dafny.Rune> s) {
      return Std.Collections.Seq.__default.Map<Dafny.Rune, byte>(((System.Func<Dafny.Rune, byte>)((_0_c) => {
        return (byte)((_0_c).Value);
      })), s);
    }
    public static Dafny.ISequence<ushort> ASCIIToUTF16(Dafny.ISequence<Dafny.Rune> s) {
      return Std.Collections.Seq.__default.Map<Dafny.Rune, ushort>(((System.Func<Dafny.Rune, ushort>)((_0_c) => {
        return (ushort)((_0_c).Value);
      })), s);
    }
  }
} // end of namespace Std.Unicode.UnicodeStringsWithUnicodeChar
namespace Std.Unicode.Utf8EncodingScheme {

  public partial class __default {
    public static Dafny.ISequence<byte> Serialize(Dafny.ISequence<byte> s) {
      return Std.Collections.Seq.__default.Map<byte, byte>(((System.Func<byte, byte>)((_0_c) => {
        return (byte)(_0_c);
      })), s);
    }
    public static Dafny.ISequence<byte> Deserialize(Dafny.ISequence<byte> b) {
      return Std.Collections.Seq.__default.Map<byte, byte>(((System.Func<byte, byte>)((_0_b) => {
        return (byte)(_0_b);
      })), b);
    }
  }
} // end of namespace Std.Unicode.Utf8EncodingScheme
namespace Std.Unicode {

} // end of namespace Std.Unicode
namespace Std.FileIO {

  public partial class __default {
    public static Std.Wrappers._IResult<Dafny.ISequence<byte>, Dafny.ISequence<Dafny.Rune>> ReadBytesFromFile(Dafny.ISequence<Dafny.Rune> path)
    {
      Std.Wrappers._IResult<Dafny.ISequence<byte>, Dafny.ISequence<Dafny.Rune>> res = Std.Wrappers.Result<Dafny.ISequence<byte>, Dafny.ISequence<Dafny.Rune>>.Default(Dafny.Sequence<byte>.Empty);
      bool _0_isError;
      Dafny.ISequence<byte> _1_bytesRead;
      Dafny.ISequence<Dafny.Rune> _2_errorMsg;
      bool _out0;
      Dafny.ISequence<byte> _out1;
      Dafny.ISequence<Dafny.Rune> _out2;
      Std.FileIOInternalExterns.__default.INTERNAL__ReadBytesFromFile(path, out _out0, out _out1, out _out2);
      _0_isError = _out0;
      _1_bytesRead = _out1;
      _2_errorMsg = _out2;
      if (_0_isError) {
        res = Std.Wrappers.Result<Dafny.ISequence<byte>, Dafny.ISequence<Dafny.Rune>>.create_Failure(_2_errorMsg);
      } else {
        res = Std.Wrappers.Result<Dafny.ISequence<byte>, Dafny.ISequence<Dafny.Rune>>.create_Success(_1_bytesRead);
      }
      return res;
      return res;
    }
    public static Std.Wrappers._IResult<_System._ITuple0, Dafny.ISequence<Dafny.Rune>> WriteBytesToFile(Dafny.ISequence<Dafny.Rune> path, Dafny.ISequence<byte> bytes)
    {
      Std.Wrappers._IResult<_System._ITuple0, Dafny.ISequence<Dafny.Rune>> res = Std.Wrappers.Result<_System._ITuple0, Dafny.ISequence<Dafny.Rune>>.Default(_System.Tuple0.Default());
      bool _0_isError;
      Dafny.ISequence<Dafny.Rune> _1_errorMsg;
      bool _out0;
      Dafny.ISequence<Dafny.Rune> _out1;
      Std.FileIOInternalExterns.__default.INTERNAL__WriteBytesToFile(path, bytes, out _out0, out _out1);
      _0_isError = _out0;
      _1_errorMsg = _out1;
      if (_0_isError) {
        res = Std.Wrappers.Result<_System._ITuple0, Dafny.ISequence<Dafny.Rune>>.create_Failure(_1_errorMsg);
      } else {
        res = Std.Wrappers.Result<_System._ITuple0, Dafny.ISequence<Dafny.Rune>>.create_Success(_System.Tuple0.create());
      }
      return res;
      return res;
    }
    public static Std.Wrappers._IResult<Dafny.ISequence<Dafny.Rune>, Dafny.ISequence<Dafny.Rune>> ReadUTF8FromFile(Dafny.ISequence<Dafny.Rune> fileName)
    {
      Std.Wrappers._IResult<Dafny.ISequence<Dafny.Rune>, Dafny.ISequence<Dafny.Rune>> r = Std.Wrappers.Result<Dafny.ISequence<Dafny.Rune>, Dafny.ISequence<Dafny.Rune>>.Default(Dafny.Sequence<Dafny.Rune>.Empty);
      Std.Wrappers._IResult<Dafny.ISequence<byte>, Dafny.ISequence<Dafny.Rune>> _0_valueOrError0 = Std.Wrappers.Result<Dafny.ISequence<byte>, Dafny.ISequence<Dafny.Rune>>.Default(Dafny.Sequence<byte>.Empty);
      Std.Wrappers._IResult<Dafny.ISequence<byte>, Dafny.ISequence<Dafny.Rune>> _out0;
      _out0 = Std.FileIO.__default.ReadBytesFromFile(fileName);
      _0_valueOrError0 = _out0;
      if ((_0_valueOrError0).IsFailure()) {
        r = (_0_valueOrError0).PropagateFailure<Dafny.ISequence<Dafny.Rune>>();
        return r;
      }
      Dafny.ISequence<byte> _1_bytes;
      _1_bytes = (_0_valueOrError0).Extract();
      r = Std.Unicode.UnicodeStringsWithUnicodeChar.__default.FromUTF8Checked(((System.Func<Dafny.ISequence<byte>>) (() => {
        BigInteger dim0 = new BigInteger((_1_bytes).Count);
        var arr0 = new byte[Dafny.Helpers.ToIntChecked(dim0, "array size exceeds memory limit")];
        for (int i0 = 0; i0 < dim0; i0++) {
          var _2_i = (BigInteger) i0;
          arr0[(int)(_2_i)] = (byte)((_1_bytes).Select(_2_i));
        }
        return Dafny.Sequence<byte>.FromArray(arr0);
      }))());
      return r;
      return r;
    }
    public static Std.Wrappers._IOutcome<Dafny.ISequence<Dafny.Rune>> WriteUTF8ToFile(Dafny.ISequence<Dafny.Rune> fileName, Dafny.ISequence<Dafny.Rune> content)
    {
      Std.Wrappers._IOutcome<Dafny.ISequence<Dafny.Rune>> r = Std.Wrappers.Outcome<Dafny.ISequence<Dafny.Rune>>.Default();
      Dafny.ISequence<byte> _0_bytes;
      _0_bytes = (Std.Unicode.UnicodeStringsWithUnicodeChar.__default.ToUTF8Checked(content)).dtor_value;
      Std.Wrappers._IResult<_System._ITuple0, Dafny.ISequence<Dafny.Rune>> _1_writeResult;
      Std.Wrappers._IResult<_System._ITuple0, Dafny.ISequence<Dafny.Rune>> _out0;
      _out0 = Std.FileIO.__default.WriteBytesToFile(fileName, ((System.Func<Dafny.ISequence<byte>>) (() => {
        BigInteger dim1 = new BigInteger((_0_bytes).Count);
        var arr1 = new byte[Dafny.Helpers.ToIntChecked(dim1, "array size exceeds memory limit")];
        for (int i1 = 0; i1 < dim1; i1++) {
          var _2_i = (BigInteger) i1;
          arr1[(int)(_2_i)] = (byte)((_0_bytes).Select(_2_i));
        }
        return Dafny.Sequence<byte>.FromArray(arr1);
      }))());
      _1_writeResult = _out0;
      if ((_1_writeResult).IsFailure()) {
        r = Std.Wrappers.Outcome<Dafny.ISequence<Dafny.Rune>>.create_Fail(Dafny.Sequence<Dafny.Rune>.Concat(Dafny.Sequence<Dafny.Rune>.Concat(Dafny.Sequence<Dafny.Rune>.Concat(Dafny.Sequence<Dafny.Rune>.UnicodeFromString("Failed to write to file '"), fileName), Dafny.Sequence<Dafny.Rune>.UnicodeFromString("': ")), (_1_writeResult).dtor_error));
        return r;
      }
      r = Std.Wrappers.Outcome<Dafny.ISequence<Dafny.Rune>>.create_Pass();
      return r;
      return r;
    }
  }
} // end of namespace Std.FileIO
namespace Std.BulkActions {

  public partial class __default {
    public static Std.BulkActions._IBatched<__T, __E> ToBatched<__T, __E>(__T t) {
      return Std.BulkActions.Batched<__T, __E>.create_BatchValue(t);
    }
    public static Std.Producers.Producer<Std.BulkActions._IBatched<__T, __E>> ToBatchedProducer<__T, __E>(Dafny.ISequence<__T> values)
    {
      Std.Producers.Producer<Std.BulkActions._IBatched<__T, __E>> result = default(Std.Producers.Producer<Std.BulkActions._IBatched<__T, __E>>);
      Std.Producers.SeqReader<__T> _0_chunkProducer;
      Std.Producers.SeqReader<__T> _nw0 = new Std.Producers.SeqReader<__T>();
      _nw0.__ctor(values);
      _0_chunkProducer = _nw0;
      Std.Actions.FunctionAction<__T, Std.BulkActions._IBatched<__T, __E>> _1_mapping;
      Std.Actions.FunctionAction<__T, Std.BulkActions._IBatched<__T, __E>> _nw1 = new Std.Actions.FunctionAction<__T, Std.BulkActions._IBatched<__T, __E>>();
      _nw1.__ctor((__T _eta0) => Std.BulkActions.__default.ToBatched<__T, __E>(_eta0));
      _1_mapping = _nw1;
      Std.Producers.MappedProducer<__T, Std.BulkActions._IBatched<__T, __E>> _nw2 = new Std.Producers.MappedProducer<__T, Std.BulkActions._IBatched<__T, __E>>();
      _nw2.__ctor(_0_chunkProducer, _1_mapping);
      result = _nw2;
      return result;
    }
  }

  public interface _IBatched<T, E> {
    bool is_BatchValue { get; }
    bool is_BatchError { get; }
    bool is_EndOfInput { get; }
    T dtor_value { get; }
    E dtor_error { get; }
    _IBatched<__T, __E> DowncastClone<__T, __E>(Func<T, __T> converter0, Func<E, __E> converter1);
  }
  public abstract class Batched<T, E> : _IBatched<T, E> {
    public Batched() {
    }
    public static Std.BulkActions._IBatched<T, E> Default() {
      return create_EndOfInput();
    }
    public static Dafny.TypeDescriptor<Std.BulkActions._IBatched<T, E>> _TypeDescriptor() {
      return new Dafny.TypeDescriptor<Std.BulkActions._IBatched<T, E>>(Std.BulkActions.Batched<T, E>.Default());
    }
    public static _IBatched<T, E> create_BatchValue(T @value) {
      return new Batched_BatchValue<T, E>(@value);
    }
    public static _IBatched<T, E> create_BatchError(E error) {
      return new Batched_BatchError<T, E>(error);
    }
    public static _IBatched<T, E> create_EndOfInput() {
      return new Batched_EndOfInput<T, E>();
    }
    public bool is_BatchValue { get { return this is Batched_BatchValue<T, E>; } }
    public bool is_BatchError { get { return this is Batched_BatchError<T, E>; } }
    public bool is_EndOfInput { get { return this is Batched_EndOfInput<T, E>; } }
    public T dtor_value {
      get {
        var d = this;
        return ((Batched_BatchValue<T, E>)d)._value;
      }
    }
    public E dtor_error {
      get {
        var d = this;
        return ((Batched_BatchError<T, E>)d)._error;
      }
    }
    public abstract _IBatched<__T, __E> DowncastClone<__T, __E>(Func<T, __T> converter0, Func<E, __E> converter1);
  }
  public class Batched_BatchValue<T, E> : Batched<T, E> {
    public readonly T _value;
    public Batched_BatchValue(T @value) : base() {
      this._value = @value;
    }
    public override _IBatched<__T, __E> DowncastClone<__T, __E>(Func<T, __T> converter0, Func<E, __E> converter1) {
      if (this is _IBatched<__T, __E> dt) { return dt; }
      return new Batched_BatchValue<__T, __E>(converter0(_value));
    }
    public override bool Equals(object other) {
      var oth = other as Std.BulkActions.Batched_BatchValue<T, E>;
      return oth != null && object.Equals(this._value, oth._value);
    }
    public override int GetHashCode() {
      ulong hash = 5381;
      hash = ((hash << 5) + hash) + 0;
      hash = ((hash << 5) + hash) + ((ulong)Dafny.Helpers.GetHashCode(this._value));
      return (int) hash;
    }
    public override string ToString() {
      string s = "BulkActions.Batched.BatchValue";
      s += "(";
      s += Dafny.Helpers.ToString(this._value);
      s += ")";
      return s;
    }
  }
  public class Batched_BatchError<T, E> : Batched<T, E> {
    public readonly E _error;
    public Batched_BatchError(E error) : base() {
      this._error = error;
    }
    public override _IBatched<__T, __E> DowncastClone<__T, __E>(Func<T, __T> converter0, Func<E, __E> converter1) {
      if (this is _IBatched<__T, __E> dt) { return dt; }
      return new Batched_BatchError<__T, __E>(converter1(_error));
    }
    public override bool Equals(object other) {
      var oth = other as Std.BulkActions.Batched_BatchError<T, E>;
      return oth != null && object.Equals(this._error, oth._error);
    }
    public override int GetHashCode() {
      ulong hash = 5381;
      hash = ((hash << 5) + hash) + 1;
      hash = ((hash << 5) + hash) + ((ulong)Dafny.Helpers.GetHashCode(this._error));
      return (int) hash;
    }
    public override string ToString() {
      string s = "BulkActions.Batched.BatchError";
      s += "(";
      s += Dafny.Helpers.ToString(this._error);
      s += ")";
      return s;
    }
  }
  public class Batched_EndOfInput<T, E> : Batched<T, E> {
    public Batched_EndOfInput() : base() {
    }
    public override _IBatched<__T, __E> DowncastClone<__T, __E>(Func<T, __T> converter0, Func<E, __E> converter1) {
      if (this is _IBatched<__T, __E> dt) { return dt; }
      return new Batched_EndOfInput<__T, __E>();
    }
    public override bool Equals(object other) {
      var oth = other as Std.BulkActions.Batched_EndOfInput<T, E>;
      return oth != null;
    }
    public override int GetHashCode() {
      ulong hash = 5381;
      hash = ((hash << 5) + hash) + 2;
      return (int) hash;
    }
    public override string ToString() {
      string s = "BulkActions.Batched.EndOfInput";
      return s;
    }
  }

  public interface BulkAction<I, O> : Std.Actions.Action<I, O>, Std.GenericActions.GenericAction<I, O>, Std.Frames.Validatable {
    void Map(Std.Producers.Producer<I> input, Std.Consumers.IConsumer<O> output);
  }
  public class _Companion_BulkAction<I, O> {
  }

  public partial class BatchReader<T, E> : Std.Producers.Producer<Std.BulkActions._IBatched<T, E>>, Std.Actions.Action<_System._ITuple0, Std.Wrappers._IOption<Std.BulkActions._IBatched<T, E>>>, Std.Actions.TotalActionProof<_System._ITuple0, Std.Wrappers._IOption<Std.BulkActions._IBatched<T, E>>>, Std.GenericActions.GenericAction<_System._ITuple0, Std.Wrappers._IOption<Std.BulkActions._IBatched<T, E>>>, Std.Frames.Validatable {
    public BatchReader() {
      this.index = BigInteger.Zero;
      this._elements = Dafny.Sequence<T>.Empty;
    }
    public Std.Wrappers._IOption<Std.BulkActions._IBatched<T, E>> Next()
    {
      Std.Wrappers._IOption<Std.BulkActions._IBatched<T, E>> _out10;
      _out10 = Std.Producers._Companion_Producer<Std.BulkActions._IBatched<T, E>>.Next(this);
      return _out10;
    }
    public BigInteger index {get; set;}
    public void __ctor(Dafny.ISequence<T> elements)
    {
      (this)._elements = elements;
      (this).index = BigInteger.Zero;
    }
    public BigInteger ProducedCount() {
      return this.index;
    }
    public Std.Wrappers._IOption<BigInteger> Remaining() {
      return Std.Wrappers.Option<BigInteger>.create_Some((new BigInteger(((this).elements).Count)) - (this.index));
    }
    public Std.Wrappers._IOption<Std.BulkActions._IBatched<T, E>> Invoke(_System._ITuple0 t)
    {
      Std.Wrappers._IOption<Std.BulkActions._IBatched<T, E>> @value = Std.Wrappers.Option<Std.BulkActions._IBatched<T, E>>.Default();
      if ((new BigInteger(((this).elements).Count)) == (this.index)) {
        @value = Std.Wrappers.Option<Std.BulkActions._IBatched<T, E>>.create_None();
      } else {
        @value = Std.Wrappers.Option<Std.BulkActions._IBatched<T, E>>.create_Some(Std.BulkActions.Batched<T, E>.create_BatchValue(((this).elements).Select(this.index)));
        (this).index = (this.index) + (BigInteger.One);
      }
      return @value;
    }
    public void ForEach(Std.Consumers.IConsumer<Std.BulkActions._IBatched<T, E>> consumer)
    {
      if (Dafny.Helpers.Let<Std.Consumers.IConsumer<Std.BulkActions._IBatched<T, E>>, bool>(consumer, _is_1 => _is_1 is Std.BulkActions.BatchSeqWriter<T, E>)) {
        Std.BulkActions.BatchSeqWriter<T, E> _0_writer;
        _0_writer = ((Std.BulkActions.BatchSeqWriter<T, E>)(consumer));
        Dafny.ISequence<T> _1_s;
        Dafny.ISequence<T> _out0;
        _out0 = (this).Read();
        _1_s = _out0;
        (_0_writer).elements = Dafny.Sequence<T>.Concat(_0_writer.elements, _1_s);
        return ;
      }
      Std.Producers.__default.DefaultForEach<Std.BulkActions._IBatched<T, E>>(this, consumer);
    }
    public void Fill(Std.Consumers.Consumer<Std.BulkActions._IBatched<T, E>> consumer)
    {
      Std.Producers.__default.DefaultFill<Std.BulkActions._IBatched<T, E>>(this, consumer);
    }
    public Dafny.ISequence<T> Read()
    {
      Dafny.ISequence<T> s = Dafny.Sequence<T>.Empty;
      if ((this.index).Sign == 0) {
        s = (this).elements;
      } else {
        s = ((this).elements).Drop(this.index);
      }
      (this).index = new BigInteger(((this).elements).Count);
      Dafny.ISequence<Std.BulkActions._IBatched<T, E>> _0_produced;
      _0_produced = Std.Collections.Seq.__default.Map<T, Std.BulkActions._IBatched<T, E>>((T _eta1) => Std.BulkActions.__default.ToBatched<T, E>(_eta1), s);
      return s;
    }
    public Dafny.ISequence<T> _elements {get; set;}
    public Dafny.ISequence<T> elements { get {
      return this._elements;
    } }
  }

  public partial class BatchSeqWriter<T, E> : Std.Consumers.IConsumer<Std.BulkActions._IBatched<T, E>>, Std.Actions.Action<Std.BulkActions._IBatched<T, E>, _System._ITuple0>, Std.GenericActions.GenericAction<Std.BulkActions._IBatched<T, E>, _System._ITuple0>, Std.Frames.Validatable {
    public BatchSeqWriter() {
      this.elements = Dafny.Sequence<T>.Empty;
      this.state = Std.Wrappers.Result<bool, E>.Default(false);
    }
    public void Accept(Std.BulkActions._IBatched<T, E> t)
    {
      Std.Consumers._Companion_IConsumer<Std.BulkActions._IBatched<T, E>>.Accept(this, t);
    }
    public Dafny.ISequence<T> elements {get; set;}
    public Std.Wrappers._IResult<bool, E> state {get; set;}
    public void __ctor()
    {
      (this).elements = Dafny.Sequence<T>.FromElements();
      (this).state = Std.Wrappers.Result<bool, E>.create_Success(true);
    }
    public _System._ITuple0 Invoke(Std.BulkActions._IBatched<T, E> t)
    {
      _System._ITuple0 r = _System.Tuple0.Default();
      Std.BulkActions._IBatched<T, E> _source0 = t;
      {
        if (_source0.is_BatchValue) {
          T _0_t = _source0.dtor_value;
          (this).elements = Dafny.Sequence<T>.Concat(this.elements, Dafny.Sequence<T>.FromElements(_0_t));
          goto after_match0;
        }
      }
      {
        if (_source0.is_BatchError) {
          E _1_e = _source0.dtor_error;
          (this).state = Std.Wrappers.Result<bool, E>.create_Failure(_1_e);
          goto after_match0;
        }
      }
      {
        (this).state = Std.Wrappers.Result<bool, E>.create_Success(false);
      }
    after_match0: ;
      r = _System.Tuple0.create();
      return r;
    }
    public Dafny.ISequence<T> Values() {
      return this.elements;
    }
  }

  public partial class BatchSeqWriterTotalProof<T, E> : Std.Actions.TotalActionProof<Std.BulkActions._IBatched<T, E>, _System._ITuple0>, Std.Frames.Validatable {
    public BatchSeqWriterTotalProof() {
    }
  }

  public partial class BatchArrayWriter<T, E> : Std.Consumers.Consumer<Std.BulkActions._IBatched<T, E>>, Std.Actions.Action<Std.BulkActions._IBatched<T, E>, bool>, Std.GenericActions.GenericAction<Std.BulkActions._IBatched<T, E>, bool>, Std.Frames.Validatable {
    public BatchArrayWriter() {
      this.storage = new T[0];
      this.size = BigInteger.Zero;
      this.otherInputs = BigInteger.Zero;
      this.state = Std.Wrappers.Result<bool, E>.Default(false);
    }
    public bool Accept(Std.BulkActions._IBatched<T, E> t)
    {
      bool _out3;
      _out3 = Std.Consumers._Companion_Consumer<Std.BulkActions._IBatched<T, E>>.Accept(this, t);
      return _out3;
    }
    public T[] storage {get; set;}
    public BigInteger size {get; set;}
    public BigInteger otherInputs {get; set;}
    public Std.Wrappers._IResult<bool, E> state {get; set;}
    public void __ctor(T[] storage)
    {
      (this).storage = storage;
      (this).size = BigInteger.Zero;
      (this).otherInputs = BigInteger.Zero;
      (this).state = Std.Wrappers.Result<bool, E>.create_Success(true);
    }
    public Std.Wrappers._IOption<BigInteger> Capacity() {
      return Std.Wrappers.Option<BigInteger>.create_Some(((new BigInteger((this.storage).Length)) - (this.size)) - (this.otherInputs));
    }
    public bool Invoke(Std.BulkActions._IBatched<T, E> t)
    {
      bool r = false;
      if (((this.size) + (this.otherInputs)) == (new BigInteger((this.storage).Length))) {
        r = false;
      } else {
        Std.BulkActions._IBatched<T, E> _source0 = t;
        {
          if (_source0.is_BatchValue) {
            T _0_value = _source0.dtor_value;
            T[] _arr0 = this.storage;
            BigInteger _index0 = this.size;
            _arr0[(int)(_index0)] = _0_value;
            (this).size = (this.size) + (BigInteger.One);
            goto after_match0;
          }
        }
        {
          if (_source0.is_BatchError) {
            E _1_e = _source0.dtor_error;
            (this).state = Std.Wrappers.Result<bool, E>.create_Failure(_1_e);
            (this).otherInputs = (this.otherInputs) + (BigInteger.One);
            goto after_match0;
          }
        }
        {
          (this).state = Std.Wrappers.Result<bool, E>.create_Success(false);
          (this).otherInputs = (this.otherInputs) + (BigInteger.One);
        }
      after_match0: ;
        r = true;
      }
      return r;
    }
    public Dafny.ISequence<T> Values() {
      return Dafny.Helpers.SeqFromArray(this.storage).Take(this.size);
    }
  }

  public partial class BatchArrayWriterTotalProof<T, E> : Std.Actions.TotalActionProof<Std.BulkActions._IBatched<T, E>, bool>, Std.Frames.Validatable {
    public BatchArrayWriterTotalProof() {
    }
  }
} // end of namespace Std.BulkActions
namespace Std.Base64 {

  public partial class __default {
    public static bool IsBase64Char(Dafny.Rune c) {
      return (((((c) == (new Dafny.Rune('+'))) || ((c) == (new Dafny.Rune('/')))) || (((new Dafny.Rune('0')) <= (c)) && ((c) <= (new Dafny.Rune('9'))))) || (((new Dafny.Rune('A')) <= (c)) && ((c) <= (new Dafny.Rune('Z'))))) || (((new Dafny.Rune('a')) <= (c)) && ((c) <= (new Dafny.Rune('z'))));
    }
    public static bool IsUnpaddedBase64String(Dafny.ISequence<Dafny.Rune> s) {
      return ((Dafny.Helpers.EuclideanModulus(new BigInteger((s).Count), new BigInteger(4))).Sign == 0) && (Dafny.Helpers.Id<Func<Dafny.ISequence<Dafny.Rune>, bool>>((_0_s) => Dafny.Helpers.Quantifier<Dafny.Rune>((_0_s).UniqueElements, true, (((_forall_var_0) => {
        Dafny.Rune _1_k = (Dafny.Rune)_forall_var_0;
        return !((_0_s).Contains(_1_k)) || (Std.Base64.__default.IsBase64Char(_1_k));
      }))))(s));
    }
    public static Dafny.Rune IndexToChar(byte i) {
      if ((i) == ((byte)(63))) {
        return new Dafny.Rune('/');
      } else if ((i) == ((byte)(62))) {
        return new Dafny.Rune('+');
      } else if ((((byte)(52)) <= (i)) && ((i) <= ((byte)(61)))) {
        return new Dafny.Rune((int)(new BigInteger(unchecked((byte)(((byte)((i) - ((byte)(4)))) & (byte)0x3F)))));
      } else if ((((byte)(26)) <= (i)) && ((i) <= ((byte)(51)))) {
        return Dafny.Helpers.AddRunes(new Dafny.Rune((int)(new BigInteger(i))), new Dafny.Rune((int)(new BigInteger(71))));
      } else {
        return Dafny.Helpers.AddRunes(new Dafny.Rune((int)(new BigInteger(i))), new Dafny.Rune((int)(new BigInteger(65))));
      }
    }
    public static byte CharToIndex(Dafny.Rune c) {
      if ((c) == (new Dafny.Rune('/'))) {
        return (byte)(63);
      } else if ((c) == (new Dafny.Rune('+'))) {
        return (byte)(62);
      } else if (((new Dafny.Rune('0')) <= (c)) && ((c) <= (new Dafny.Rune('9')))) {
        return (byte)(new BigInteger((Dafny.Helpers.AddRunes(c, new Dafny.Rune((int)(new BigInteger(4))))).Value));
      } else if (((new Dafny.Rune('a')) <= (c)) && ((c) <= (new Dafny.Rune('z')))) {
        return (byte)(new BigInteger((Dafny.Helpers.SubtractRunes(c, new Dafny.Rune((int)(new BigInteger(71))))).Value));
      } else {
        return (byte)(new BigInteger((Dafny.Helpers.SubtractRunes(c, new Dafny.Rune((int)(new BigInteger(65))))).Value));
      }
    }
    public static Dafny.ISequence<byte> BV24ToSeq(uint x) {
      byte _0_b0 = (byte)(((x) >> ((int)((byte)(16)))) & (255U));
      byte _1_b1 = (byte)(((x) >> ((int)((byte)(8)))) & (255U));
      byte _2_b2 = (byte)((x) & (255U));
      return Dafny.Sequence<byte>.FromElements(_0_b0, _1_b1, _2_b2);
    }
    public static uint SeqToBV24(Dafny.ISequence<byte> x) {
      return ((unchecked((uint)((((uint)((x).Select(BigInteger.Zero))) << ((int)((byte)(16)))) & (uint)0xFFFFFFU))) | (unchecked((uint)((((uint)((x).Select(BigInteger.One))) << ((int)((byte)(8)))) & (uint)0xFFFFFFU)))) | ((uint)((x).Select(new BigInteger(2))));
    }
    public static Dafny.ISequence<byte> BV24ToIndexSeq(uint x) {
      byte _0_b0 = (byte)(((x) >> ((int)((byte)(18)))) & (63U));
      byte _1_b1 = (byte)(((x) >> ((int)((byte)(12)))) & (63U));
      byte _2_b2 = (byte)(((x) >> ((int)((byte)(6)))) & (63U));
      byte _3_b3 = (byte)((x) & (63U));
      return Dafny.Sequence<byte>.FromElements(_0_b0, _1_b1, _2_b2, _3_b3);
    }
    public static uint IndexSeqToBV24(Dafny.ISequence<byte> x) {
      return (((unchecked((uint)((((uint)((x).Select(BigInteger.Zero))) << ((int)((byte)(18)))) & (uint)0xFFFFFFU))) | (unchecked((uint)((((uint)((x).Select(BigInteger.One))) << ((int)((byte)(12)))) & (uint)0xFFFFFFU)))) | (unchecked((uint)((((uint)((x).Select(new BigInteger(2)))) << ((int)((byte)(6)))) & (uint)0xFFFFFFU)))) | ((uint)((x).Select(new BigInteger(3))));
    }
    public static Dafny.ISequence<byte> DecodeBlock(Dafny.ISequence<byte> s) {
      return Std.Base64.__default.BV24ToSeq(Std.Base64.__default.IndexSeqToBV24(s));
    }
    public static Dafny.ISequence<byte> EncodeBlock(Dafny.ISequence<byte> s) {
      return Std.Base64.__default.BV24ToIndexSeq(Std.Base64.__default.SeqToBV24(s));
    }
    public static Dafny.ISequence<byte> DecodeRecursively(Dafny.ISequence<byte> s)
    {
      Dafny.ISequence<byte> b = Dafny.Sequence<byte>.Empty;
      BigInteger _0_resultLength;
      _0_resultLength = (Dafny.Helpers.EuclideanDivision(new BigInteger((s).Count), new BigInteger(4))) * (new BigInteger(3));
      byte[] _1_result;
      Func<BigInteger, byte> _init0 = ((System.Func<BigInteger, byte>)((_2_i) => {
        return (byte)(0);
      }));
      byte[] _nw0 = new byte[Dafny.Helpers.ToIntChecked(_0_resultLength, "array size exceeds memory limit")];
      for (var _i0_0 = 0; _i0_0 < new BigInteger(_nw0.Length); _i0_0++) {
        _nw0[(int)(_i0_0)] = _init0(_i0_0);
      }
      _1_result = _nw0;
      BigInteger _3_i;
      _3_i = new BigInteger((s).Count);
      BigInteger _4_j;
      _4_j = _0_resultLength;
      while ((_3_i).Sign == 1) {
        _3_i = (_3_i) - (new BigInteger(4));
        _4_j = (_4_j) - (new BigInteger(3));
        Dafny.ISequence<byte> _5_block;
        _5_block = Std.Base64.__default.DecodeBlock((s).Subsequence(_3_i, (_3_i) + (new BigInteger(4))));
        (_1_result)[(int)((_4_j))] = (_5_block).Select(BigInteger.Zero);
        BigInteger _index0 = (_4_j) + (BigInteger.One);
        (_1_result)[(int)(_index0)] = (_5_block).Select(BigInteger.One);
        BigInteger _index1 = (_4_j) + (new BigInteger(2));
        (_1_result)[(int)(_index1)] = (_5_block).Select(new BigInteger(2));
      }
      b = Dafny.Helpers.SeqFromArray(_1_result);
      return b;
    }
    public static Dafny.ISequence<byte> EncodeRecursively(Dafny.ISequence<byte> b)
    {
      Dafny.ISequence<byte> s = Dafny.Sequence<byte>.Empty;
      BigInteger _0_resultLength;
      _0_resultLength = (Dafny.Helpers.EuclideanDivision(new BigInteger((b).Count), new BigInteger(3))) * (new BigInteger(4));
      byte[] _1_result;
      Func<BigInteger, byte> _init0 = ((System.Func<BigInteger, byte>)((_2_i) => {
        return (byte)(0);
      }));
      byte[] _nw0 = new byte[Dafny.Helpers.ToIntChecked(_0_resultLength, "array size exceeds memory limit")];
      for (var _i0_0 = 0; _i0_0 < new BigInteger(_nw0.Length); _i0_0++) {
        _nw0[(int)(_i0_0)] = _init0(_i0_0);
      }
      _1_result = _nw0;
      BigInteger _3_i;
      _3_i = new BigInteger((b).Count);
      BigInteger _4_j;
      _4_j = _0_resultLength;
      while ((_3_i).Sign == 1) {
        _3_i = (_3_i) - (new BigInteger(3));
        _4_j = (_4_j) - (new BigInteger(4));
        Dafny.ISequence<byte> _5_block;
        _5_block = Std.Base64.__default.EncodeBlock((b).Subsequence(_3_i, (_3_i) + (new BigInteger(3))));
        (_1_result)[(int)((_4_j))] = (_5_block).Select(BigInteger.Zero);
        BigInteger _index0 = (_4_j) + (BigInteger.One);
        (_1_result)[(int)(_index0)] = (_5_block).Select(BigInteger.One);
        BigInteger _index1 = (_4_j) + (new BigInteger(2));
        (_1_result)[(int)(_index1)] = (_5_block).Select(new BigInteger(2));
        BigInteger _index2 = (_4_j) + (new BigInteger(3));
        (_1_result)[(int)(_index2)] = (_5_block).Select(new BigInteger(3));
      }
      s = Dafny.Helpers.SeqFromArray(_1_result);
      return s;
    }
    public static Dafny.ISequence<byte> FromCharsToIndices(Dafny.ISequence<Dafny.Rune> s) {
      return ((System.Func<Dafny.ISequence<byte>>) (() => {
        BigInteger dim2 = new BigInteger((s).Count);
        var arr2 = new byte[Dafny.Helpers.ToIntChecked(dim2, "array size exceeds memory limit")];
        for (int i2 = 0; i2 < dim2; i2++) {
          var _0_i = (BigInteger) i2;
          arr2[(int)(_0_i)] = Std.Base64.__default.CharToIndex((s).Select(_0_i));
        }
        return Dafny.Sequence<byte>.FromArray(arr2);
      }))();
    }
    public static Dafny.ISequence<Dafny.Rune> FromIndicesToChars(Dafny.ISequence<byte> b) {
      return ((System.Func<Dafny.ISequence<Dafny.Rune>>) (() => {
        BigInteger dim3 = new BigInteger((b).Count);
        var arr3 = new Dafny.Rune[Dafny.Helpers.ToIntChecked(dim3, "array size exceeds memory limit")];
        for (int i3 = 0; i3 < dim3; i3++) {
          var _0_i = (BigInteger) i3;
          arr3[(int)(_0_i)] = Std.Base64.__default.IndexToChar((b).Select(_0_i));
        }
        return Dafny.Sequence<Dafny.Rune>.FromArray(arr3);
      }))();
    }
    public static Dafny.ISequence<byte> DecodeUnpadded(Dafny.ISequence<Dafny.Rune> s) {
      return Std.Base64.__default.DecodeRecursively(Std.Base64.__default.FromCharsToIndices(s));
    }
    public static Dafny.ISequence<Dafny.Rune> EncodeUnpadded(Dafny.ISequence<byte> b) {
      return Std.Base64.__default.FromIndicesToChars(Std.Base64.__default.EncodeRecursively(b));
    }
    public static bool Is1Padding(Dafny.ISequence<Dafny.Rune> s) {
      return ((((((new BigInteger((s).Count)) == (new BigInteger(4))) && (Std.Base64.__default.IsBase64Char((s).Select(BigInteger.Zero)))) && (Std.Base64.__default.IsBase64Char((s).Select(BigInteger.One)))) && (Std.Base64.__default.IsBase64Char((s).Select(new BigInteger(2))))) && (((byte)((Std.Base64.__default.CharToIndex((s).Select(new BigInteger(2)))) & ((byte)(3)))) == ((byte)(0)))) && (((s).Select(new BigInteger(3))) == (new Dafny.Rune('=')));
    }
    public static Dafny.ISequence<byte> Decode1Padding(Dafny.ISequence<Dafny.Rune> s) {
      Dafny.ISequence<byte> _0_d = Std.Base64.__default.DecodeBlock(Dafny.Sequence<byte>.FromElements(Std.Base64.__default.CharToIndex((s).Select(BigInteger.Zero)), Std.Base64.__default.CharToIndex((s).Select(BigInteger.One)), Std.Base64.__default.CharToIndex((s).Select(new BigInteger(2))), (byte)(0)));
      return Dafny.Sequence<byte>.FromElements((_0_d).Select(BigInteger.Zero), (_0_d).Select(BigInteger.One));
    }
    public static Dafny.ISequence<Dafny.Rune> Encode1Padding(Dafny.ISequence<byte> b) {
      Dafny.ISequence<byte> _0_e = Std.Base64.__default.EncodeBlock(Dafny.Sequence<byte>.FromElements((b).Select(BigInteger.Zero), (b).Select(BigInteger.One), (byte)(0)));
      return Dafny.Sequence<Dafny.Rune>.FromElements(Std.Base64.__default.IndexToChar((_0_e).Select(BigInteger.Zero)), Std.Base64.__default.IndexToChar((_0_e).Select(BigInteger.One)), Std.Base64.__default.IndexToChar((_0_e).Select(new BigInteger(2))), new Dafny.Rune('='));
    }
    public static bool Is2Padding(Dafny.ISequence<Dafny.Rune> s) {
      return ((((((new BigInteger((s).Count)) == (new BigInteger(4))) && (Std.Base64.__default.IsBase64Char((s).Select(BigInteger.Zero)))) && (Std.Base64.__default.IsBase64Char((s).Select(BigInteger.One)))) && (((byte)((Std.Base64.__default.CharToIndex((s).Select(BigInteger.One))) % ((byte)(16)))) == ((byte)(0)))) && (((s).Select(new BigInteger(2))) == (new Dafny.Rune('=')))) && (((s).Select(new BigInteger(3))) == (new Dafny.Rune('=')));
    }
    public static Dafny.ISequence<byte> Decode2Padding(Dafny.ISequence<Dafny.Rune> s) {
      Dafny.ISequence<byte> _0_d = Std.Base64.__default.DecodeBlock(Dafny.Sequence<byte>.FromElements(Std.Base64.__default.CharToIndex((s).Select(BigInteger.Zero)), Std.Base64.__default.CharToIndex((s).Select(BigInteger.One)), (byte)(0), (byte)(0)));
      return Dafny.Sequence<byte>.FromElements((_0_d).Select(BigInteger.Zero));
    }
    public static Dafny.ISequence<Dafny.Rune> Encode2Padding(Dafny.ISequence<byte> b) {
      Dafny.ISequence<byte> _0_e = Std.Base64.__default.EncodeBlock(Dafny.Sequence<byte>.FromElements((b).Select(BigInteger.Zero), (byte)(0), (byte)(0)));
      return Dafny.Sequence<Dafny.Rune>.FromElements(Std.Base64.__default.IndexToChar((_0_e).Select(BigInteger.Zero)), Std.Base64.__default.IndexToChar((_0_e).Select(BigInteger.One)), new Dafny.Rune('='), new Dafny.Rune('='));
    }
    public static bool IsBase64String(Dafny.ISequence<Dafny.Rune> s) {
      BigInteger _0_finalBlockStart = (new BigInteger((s).Count)) - (new BigInteger(4));
      return ((Dafny.Helpers.EuclideanModulus(new BigInteger((s).Count), new BigInteger(4))).Sign == 0) && ((Std.Base64.__default.IsUnpaddedBase64String(s)) || ((Std.Base64.__default.IsUnpaddedBase64String((s).Take(_0_finalBlockStart))) && ((Std.Base64.__default.Is1Padding((s).Drop(_0_finalBlockStart))) || (Std.Base64.__default.Is2Padding((s).Drop(_0_finalBlockStart))))));
    }
    public static Dafny.ISequence<byte> DecodeValid(Dafny.ISequence<Dafny.Rune> s) {
      if ((s).Equals(Dafny.Sequence<Dafny.Rune>.FromElements())) {
        return Dafny.Sequence<byte>.FromElements();
      } else {
        BigInteger _0_finalBlockStart = (new BigInteger((s).Count)) - (new BigInteger(4));
        Dafny.ISequence<Dafny.Rune> _1_prefix = (s).Take(_0_finalBlockStart);
        Dafny.ISequence<Dafny.Rune> _2_suffix = (s).Drop(_0_finalBlockStart);
        if (Std.Base64.__default.Is1Padding(_2_suffix)) {
          return Dafny.Sequence<byte>.Concat(Std.Base64.__default.DecodeUnpadded(_1_prefix), Std.Base64.__default.Decode1Padding(_2_suffix));
        } else if (Std.Base64.__default.Is2Padding(_2_suffix)) {
          return Dafny.Sequence<byte>.Concat(Std.Base64.__default.DecodeUnpadded(_1_prefix), Std.Base64.__default.Decode2Padding(_2_suffix));
        } else {
          return Std.Base64.__default.DecodeUnpadded(s);
        }
      }
    }
    public static Std.Wrappers._IResult<Dafny.ISequence<byte>, Dafny.ISequence<Dafny.Rune>> DecodeBV(Dafny.ISequence<Dafny.Rune> s) {
      if (Std.Base64.__default.IsBase64String(s)) {
        return Std.Wrappers.Result<Dafny.ISequence<byte>, Dafny.ISequence<Dafny.Rune>>.create_Success(Std.Base64.__default.DecodeValid(s));
      } else {
        return Std.Wrappers.Result<Dafny.ISequence<byte>, Dafny.ISequence<Dafny.Rune>>.create_Failure(Dafny.Sequence<Dafny.Rune>.UnicodeFromString("The encoding is malformed"));
      }
    }
    public static Dafny.ISequence<Dafny.Rune> EncodeBV(Dafny.ISequence<byte> b) {
      if ((Dafny.Helpers.EuclideanModulus(new BigInteger((b).Count), new BigInteger(3))).Sign == 0) {
        return Std.Base64.__default.EncodeUnpadded(b);
      } else if ((Dafny.Helpers.EuclideanModulus(new BigInteger((b).Count), new BigInteger(3))) == (BigInteger.One)) {
        Dafny.ISequence<Dafny.Rune> _0_s1 = Std.Base64.__default.EncodeUnpadded((b).Take((new BigInteger((b).Count)) - (BigInteger.One)));
        Dafny.ISequence<Dafny.Rune> _1_s2 = Std.Base64.__default.Encode2Padding((b).Drop((new BigInteger((b).Count)) - (BigInteger.One)));
        return Dafny.Sequence<Dafny.Rune>.Concat(_0_s1, _1_s2);
      } else {
        Dafny.ISequence<Dafny.Rune> _2_s1 = Std.Base64.__default.EncodeUnpadded((b).Take((new BigInteger((b).Count)) - (new BigInteger(2))));
        Dafny.ISequence<Dafny.Rune> _3_s2 = Std.Base64.__default.Encode1Padding((b).Drop((new BigInteger((b).Count)) - (new BigInteger(2))));
        return Dafny.Sequence<Dafny.Rune>.Concat(_2_s1, _3_s2);
      }
    }
    public static Dafny.ISequence<byte> UInt8sToBVs(Dafny.ISequence<byte> u) {
      return ((System.Func<Dafny.ISequence<byte>>) (() => {
        BigInteger dim4 = new BigInteger((u).Count);
        var arr4 = new byte[Dafny.Helpers.ToIntChecked(dim4, "array size exceeds memory limit")];
        for (int i4 = 0; i4 < dim4; i4++) {
          var _0_i = (BigInteger) i4;
          arr4[(int)(_0_i)] = (byte)((u).Select(_0_i));
        }
        return Dafny.Sequence<byte>.FromArray(arr4);
      }))();
    }
    public static Dafny.ISequence<byte> BVsToUInt8s(Dafny.ISequence<byte> b) {
      return ((System.Func<Dafny.ISequence<byte>>) (() => {
        BigInteger dim5 = new BigInteger((b).Count);
        var arr5 = new byte[Dafny.Helpers.ToIntChecked(dim5, "array size exceeds memory limit")];
        for (int i5 = 0; i5 < dim5; i5++) {
          var _0_i = (BigInteger) i5;
          arr5[(int)(_0_i)] = (byte)((b).Select(_0_i));
        }
        return Dafny.Sequence<byte>.FromArray(arr5);
      }))();
    }
    public static Dafny.ISequence<Dafny.Rune> Encode(Dafny.ISequence<byte> u) {
      return Std.Base64.__default.EncodeBV(Std.Base64.__default.UInt8sToBVs(u));
    }
    public static Std.Wrappers._IResult<Dafny.ISequence<byte>, Dafny.ISequence<Dafny.Rune>> Decode(Dafny.ISequence<Dafny.Rune> s) {
      if (Std.Base64.__default.IsBase64String(s)) {
        Dafny.ISequence<byte> _0_b = Std.Base64.__default.DecodeValid(s);
        return Std.Wrappers.Result<Dafny.ISequence<byte>, Dafny.ISequence<Dafny.Rune>>.create_Success(Std.Base64.__default.BVsToUInt8s(_0_b));
      } else {
        return Std.Wrappers.Result<Dafny.ISequence<byte>, Dafny.ISequence<Dafny.Rune>>.create_Failure(Dafny.Sequence<Dafny.Rune>.UnicodeFromString("The encoding is malformed"));
      }
    }
  }
} // end of namespace Std.Base64
namespace Std.JSON.Values {

  public partial class __default {
    public static Std.JSON.Values._IDecimal Int(BigInteger n) {
      return Std.JSON.Values.Decimal.create(n, BigInteger.Zero);
    }
  }

  public interface _IDecimal {
    bool is_Decimal { get; }
    BigInteger dtor_n { get; }
    BigInteger dtor_e10 { get; }
    _IDecimal DowncastClone();
  }
  public class Decimal : _IDecimal {
    public readonly BigInteger _n;
    public readonly BigInteger _e10;
    public Decimal(BigInteger n, BigInteger e10) {
      this._n = n;
      this._e10 = e10;
    }
    public _IDecimal DowncastClone() {
      if (this is _IDecimal dt) { return dt; }
      return new Decimal(_n, _e10);
    }
    public override bool Equals(object other) {
      var oth = other as Std.JSON.Values.Decimal;
      return oth != null && this._n == oth._n && this._e10 == oth._e10;
    }
    public override int GetHashCode() {
      ulong hash = 5381;
      hash = ((hash << 5) + hash) + 0;
      hash = ((hash << 5) + hash) + ((ulong)Dafny.Helpers.GetHashCode(this._n));
      hash = ((hash << 5) + hash) + ((ulong)Dafny.Helpers.GetHashCode(this._e10));
      return (int) hash;
    }
    public override string ToString() {
      string s = "Values.Decimal.Decimal";
      s += "(";
      s += Dafny.Helpers.ToString(this._n);
      s += ", ";
      s += Dafny.Helpers.ToString(this._e10);
      s += ")";
      return s;
    }
    private static readonly Std.JSON.Values._IDecimal theDefault = create(BigInteger.Zero, BigInteger.Zero);
    public static Std.JSON.Values._IDecimal Default() {
      return theDefault;
    }
    private static readonly Dafny.TypeDescriptor<Std.JSON.Values._IDecimal> _TYPE = new Dafny.TypeDescriptor<Std.JSON.Values._IDecimal>(Std.JSON.Values.Decimal.Default());
    public static Dafny.TypeDescriptor<Std.JSON.Values._IDecimal> _TypeDescriptor() {
      return _TYPE;
    }
    public static _IDecimal create(BigInteger n, BigInteger e10) {
      return new Decimal(n, e10);
    }
    public static _IDecimal create_Decimal(BigInteger n, BigInteger e10) {
      return create(n, e10);
    }
    public bool is_Decimal { get { return true; } }
    public BigInteger dtor_n {
      get {
        return this._n;
      }
    }
    public BigInteger dtor_e10 {
      get {
        return this._e10;
      }
    }
  }

  public interface _IJSON {
    bool is_Null { get; }
    bool is_Bool { get; }
    bool is_String { get; }
    bool is_Number { get; }
    bool is_Object { get; }
    bool is_Array { get; }
    bool dtor_b { get; }
    Dafny.ISequence<Dafny.Rune> dtor_str { get; }
    Std.JSON.Values._IDecimal dtor_num { get; }
    Dafny.ISequence<_System._ITuple2<Dafny.ISequence<Dafny.Rune>, Std.JSON.Values._IJSON>> dtor_obj { get; }
    Dafny.ISequence<Std.JSON.Values._IJSON> dtor_arr { get; }
    _IJSON DowncastClone();
  }
  public abstract class JSON : _IJSON {
    public JSON() {
    }
    private static readonly Std.JSON.Values._IJSON theDefault = create_Null();
    public static Std.JSON.Values._IJSON Default() {
      return theDefault;
    }
    private static readonly Dafny.TypeDescriptor<Std.JSON.Values._IJSON> _TYPE = new Dafny.TypeDescriptor<Std.JSON.Values._IJSON>(Std.JSON.Values.JSON.Default());
    public static Dafny.TypeDescriptor<Std.JSON.Values._IJSON> _TypeDescriptor() {
      return _TYPE;
    }
    public static _IJSON create_Null() {
      return new JSON_Null();
    }
    public static _IJSON create_Bool(bool b) {
      return new JSON_Bool(b);
    }
    public static _IJSON create_String(Dafny.ISequence<Dafny.Rune> str) {
      return new JSON_String(str);
    }
    public static _IJSON create_Number(Std.JSON.Values._IDecimal num) {
      return new JSON_Number(num);
    }
    public static _IJSON create_Object(Dafny.ISequence<_System._ITuple2<Dafny.ISequence<Dafny.Rune>, Std.JSON.Values._IJSON>> obj) {
      return new JSON_Object(obj);
    }
    public static _IJSON create_Array(Dafny.ISequence<Std.JSON.Values._IJSON> arr) {
      return new JSON_Array(arr);
    }
    public bool is_Null { get { return this is JSON_Null; } }
    public bool is_Bool { get { return this is JSON_Bool; } }
    public bool is_String { get { return this is JSON_String; } }
    public bool is_Number { get { return this is JSON_Number; } }
    public bool is_Object { get { return this is JSON_Object; } }
    public bool is_Array { get { return this is JSON_Array; } }
    public bool dtor_b {
      get {
        var d = this;
        return ((JSON_Bool)d)._b;
      }
    }
    public Dafny.ISequence<Dafny.Rune> dtor_str {
      get {
        var d = this;
        return ((JSON_String)d)._str;
      }
    }
    public Std.JSON.Values._IDecimal dtor_num {
      get {
        var d = this;
        return ((JSON_Number)d)._num;
      }
    }
    public Dafny.ISequence<_System._ITuple2<Dafny.ISequence<Dafny.Rune>, Std.JSON.Values._IJSON>> dtor_obj {
      get {
        var d = this;
        return ((JSON_Object)d)._obj;
      }
    }
    public Dafny.ISequence<Std.JSON.Values._IJSON> dtor_arr {
      get {
        var d = this;
        return ((JSON_Array)d)._arr;
      }
    }
    public abstract _IJSON DowncastClone();
  }
  public class JSON_Null : JSON {
    public JSON_Null() : base() {
    }
    public override _IJSON DowncastClone() {
      if (this is _IJSON dt) { return dt; }
      return new JSON_Null();
    }
    public override bool Equals(object other) {
      var oth = other as Std.JSON.Values.JSON_Null;
      return oth != null;
    }
    public override int GetHashCode() {
      ulong hash = 5381;
      hash = ((hash << 5) + hash) + 0;
      return (int) hash;
    }
    public override string ToString() {
      string s = "Values.JSON.Null";
      return s;
    }
  }
  public class JSON_Bool : JSON {
    public readonly bool _b;
    public JSON_Bool(bool b) : base() {
      this._b = b;
    }
    public override _IJSON DowncastClone() {
      if (this is _IJSON dt) { return dt; }
      return new JSON_Bool(_b);
    }
    public override bool Equals(object other) {
      var oth = other as Std.JSON.Values.JSON_Bool;
      return oth != null && this._b == oth._b;
    }
    public override int GetHashCode() {
      ulong hash = 5381;
      hash = ((hash << 5) + hash) + 1;
      hash = ((hash << 5) + hash) + ((ulong)Dafny.Helpers.GetHashCode(this._b));
      return (int) hash;
    }
    public override string ToString() {
      string s = "Values.JSON.Bool";
      s += "(";
      s += Dafny.Helpers.ToString(this._b);
      s += ")";
      return s;
    }
  }
  public class JSON_String : JSON {
    public readonly Dafny.ISequence<Dafny.Rune> _str;
    public JSON_String(Dafny.ISequence<Dafny.Rune> str) : base() {
      this._str = str;
    }
    public override _IJSON DowncastClone() {
      if (this is _IJSON dt) { return dt; }
      return new JSON_String(_str);
    }
    public override bool Equals(object other) {
      var oth = other as Std.JSON.Values.JSON_String;
      return oth != null && object.Equals(this._str, oth._str);
    }
    public override int GetHashCode() {
      ulong hash = 5381;
      hash = ((hash << 5) + hash) + 2;
      hash = ((hash << 5) + hash) + ((ulong)Dafny.Helpers.GetHashCode(this._str));
      return (int) hash;
    }
    public override string ToString() {
      string s = "Values.JSON.String";
      s += "(";
      s += this._str.ToVerbatimString(true);
      s += ")";
      return s;
    }
  }
  public class JSON_Number : JSON {
    public readonly Std.JSON.Values._IDecimal _num;
    public JSON_Number(Std.JSON.Values._IDecimal num) : base() {
      this._num = num;
    }
    public override _IJSON DowncastClone() {
      if (this is _IJSON dt) { return dt; }
      return new JSON_Number(_num);
    }
    public override bool Equals(object other) {
      var oth = other as Std.JSON.Values.JSON_Number;
      return oth != null && object.Equals(this._num, oth._num);
    }
    public override int GetHashCode() {
      ulong hash = 5381;
      hash = ((hash << 5) + hash) + 3;
      hash = ((hash << 5) + hash) + ((ulong)Dafny.Helpers.GetHashCode(this._num));
      return (int) hash;
    }
    public override string ToString() {
      string s = "Values.JSON.Number";
      s += "(";
      s += Dafny.Helpers.ToString(this._num);
      s += ")";
      return s;
    }
  }
  public class JSON_Object : JSON {
    public readonly Dafny.ISequence<_System._ITuple2<Dafny.ISequence<Dafny.Rune>, Std.JSON.Values._IJSON>> _obj;
    public JSON_Object(Dafny.ISequence<_System._ITuple2<Dafny.ISequence<Dafny.Rune>, Std.JSON.Values._IJSON>> obj) : base() {
      this._obj = obj;
    }
    public override _IJSON DowncastClone() {
      if (this is _IJSON dt) { return dt; }
      return new JSON_Object(_obj);
    }
    public override bool Equals(object other) {
      var oth = other as Std.JSON.Values.JSON_Object;
      return oth != null && object.Equals(this._obj, oth._obj);
    }
    public override int GetHashCode() {
      ulong hash = 5381;
      hash = ((hash << 5) + hash) + 4;
      hash = ((hash << 5) + hash) + ((ulong)Dafny.Helpers.GetHashCode(this._obj));
      return (int) hash;
    }
    public override string ToString() {
      string s = "Values.JSON.Object";
      s += "(";
      s += Dafny.Helpers.ToString(this._obj);
      s += ")";
      return s;
    }
  }
  public class JSON_Array : JSON {
    public readonly Dafny.ISequence<Std.JSON.Values._IJSON> _arr;
    public JSON_Array(Dafny.ISequence<Std.JSON.Values._IJSON> arr) : base() {
      this._arr = arr;
    }
    public override _IJSON DowncastClone() {
      if (this is _IJSON dt) { return dt; }
      return new JSON_Array(_arr);
    }
    public override bool Equals(object other) {
      var oth = other as Std.JSON.Values.JSON_Array;
      return oth != null && object.Equals(this._arr, oth._arr);
    }
    public override int GetHashCode() {
      ulong hash = 5381;
      hash = ((hash << 5) + hash) + 5;
      hash = ((hash << 5) + hash) + ((ulong)Dafny.Helpers.GetHashCode(this._arr));
      return (int) hash;
    }
    public override string ToString() {
      string s = "Values.JSON.Array";
      s += "(";
      s += Dafny.Helpers.ToString(this._arr);
      s += ")";
      return s;
    }
  }
} // end of namespace Std.JSON.Values
namespace Std.JSON.Errors {


  public interface _IDeserializationError {
    bool is_UnterminatedSequence { get; }
    bool is_UnsupportedEscape { get; }
    bool is_EscapeAtEOS { get; }
    bool is_EmptyNumber { get; }
    bool is_ExpectingEOF { get; }
    bool is_IntOverflow { get; }
    bool is_ReachedEOF { get; }
    bool is_ExpectingByte { get; }
    bool is_ExpectingAnyByte { get; }
    bool is_InvalidUnicode { get; }
    Dafny.ISequence<Dafny.Rune> dtor_str { get; }
    byte dtor_expected { get; }
    short dtor_b { get; }
    Dafny.ISequence<byte> dtor_expected__sq { get; }
    _IDeserializationError DowncastClone();
    Dafny.ISequence<Dafny.Rune> _ToString();
  }
  public abstract class DeserializationError : _IDeserializationError {
    public DeserializationError() {
    }
    private static readonly Std.JSON.Errors._IDeserializationError theDefault = create_UnterminatedSequence();
    public static Std.JSON.Errors._IDeserializationError Default() {
      return theDefault;
    }
    private static readonly Dafny.TypeDescriptor<Std.JSON.Errors._IDeserializationError> _TYPE = new Dafny.TypeDescriptor<Std.JSON.Errors._IDeserializationError>(Std.JSON.Errors.DeserializationError.Default());
    public static Dafny.TypeDescriptor<Std.JSON.Errors._IDeserializationError> _TypeDescriptor() {
      return _TYPE;
    }
    public static _IDeserializationError create_UnterminatedSequence() {
      return new DeserializationError_UnterminatedSequence();
    }
    public static _IDeserializationError create_UnsupportedEscape(Dafny.ISequence<Dafny.Rune> str) {
      return new DeserializationError_UnsupportedEscape(str);
    }
    public static _IDeserializationError create_EscapeAtEOS() {
      return new DeserializationError_EscapeAtEOS();
    }
    public static _IDeserializationError create_EmptyNumber() {
      return new DeserializationError_EmptyNumber();
    }
    public static _IDeserializationError create_ExpectingEOF() {
      return new DeserializationError_ExpectingEOF();
    }
    public static _IDeserializationError create_IntOverflow() {
      return new DeserializationError_IntOverflow();
    }
    public static _IDeserializationError create_ReachedEOF() {
      return new DeserializationError_ReachedEOF();
    }
    public static _IDeserializationError create_ExpectingByte(byte expected, short b) {
      return new DeserializationError_ExpectingByte(expected, b);
    }
    public static _IDeserializationError create_ExpectingAnyByte(Dafny.ISequence<byte> expected__sq, short b) {
      return new DeserializationError_ExpectingAnyByte(expected__sq, b);
    }
    public static _IDeserializationError create_InvalidUnicode(Dafny.ISequence<Dafny.Rune> str) {
      return new DeserializationError_InvalidUnicode(str);
    }
    public bool is_UnterminatedSequence { get { return this is DeserializationError_UnterminatedSequence; } }
    public bool is_UnsupportedEscape { get { return this is DeserializationError_UnsupportedEscape; } }
    public bool is_EscapeAtEOS { get { return this is DeserializationError_EscapeAtEOS; } }
    public bool is_EmptyNumber { get { return this is DeserializationError_EmptyNumber; } }
    public bool is_ExpectingEOF { get { return this is DeserializationError_ExpectingEOF; } }
    public bool is_IntOverflow { get { return this is DeserializationError_IntOverflow; } }
    public bool is_ReachedEOF { get { return this is DeserializationError_ReachedEOF; } }
    public bool is_ExpectingByte { get { return this is DeserializationError_ExpectingByte; } }
    public bool is_ExpectingAnyByte { get { return this is DeserializationError_ExpectingAnyByte; } }
    public bool is_InvalidUnicode { get { return this is DeserializationError_InvalidUnicode; } }
    public Dafny.ISequence<Dafny.Rune> dtor_str {
      get {
        var d = this;
        if (d is DeserializationError_UnsupportedEscape) { return ((DeserializationError_UnsupportedEscape)d)._str; }
        return ((DeserializationError_InvalidUnicode)d)._str;
      }
    }
    public byte dtor_expected {
      get {
        var d = this;
        return ((DeserializationError_ExpectingByte)d)._expected;
      }
    }
    public short dtor_b {
      get {
        var d = this;
        if (d is DeserializationError_ExpectingByte) { return ((DeserializationError_ExpectingByte)d)._b; }
        return ((DeserializationError_ExpectingAnyByte)d)._b;
      }
    }
    public Dafny.ISequence<byte> dtor_expected__sq {
      get {
        var d = this;
        return ((DeserializationError_ExpectingAnyByte)d)._expected__sq;
      }
    }
    public abstract _IDeserializationError DowncastClone();
    public Dafny.ISequence<Dafny.Rune> _ToString() {
      Std.JSON.Errors._IDeserializationError _source0 = this;
      {
        if (_source0.is_UnterminatedSequence) {
          return Dafny.Sequence<Dafny.Rune>.UnicodeFromString("Unterminated sequence");
        }
      }
      {
        if (_source0.is_UnsupportedEscape) {
          Dafny.ISequence<Dafny.Rune> _0_str = _source0.dtor_str;
          return Dafny.Sequence<Dafny.Rune>.Concat(Dafny.Sequence<Dafny.Rune>.UnicodeFromString("Unsupported escape sequence: "), _0_str);
        }
      }
      {
        if (_source0.is_EscapeAtEOS) {
          return Dafny.Sequence<Dafny.Rune>.UnicodeFromString("Escape character at end of string");
        }
      }
      {
        if (_source0.is_EmptyNumber) {
          return Dafny.Sequence<Dafny.Rune>.UnicodeFromString("Number must contain at least one digit");
        }
      }
      {
        if (_source0.is_ExpectingEOF) {
          return Dafny.Sequence<Dafny.Rune>.UnicodeFromString("Expecting EOF");
        }
      }
      {
        if (_source0.is_IntOverflow) {
          return Dafny.Sequence<Dafny.Rune>.UnicodeFromString("Input length does not fit in a 32-bit counter");
        }
      }
      {
        if (_source0.is_ReachedEOF) {
          return Dafny.Sequence<Dafny.Rune>.UnicodeFromString("Reached EOF");
        }
      }
      {
        if (_source0.is_ExpectingByte) {
          byte _1_b0 = _source0.dtor_expected;
          short _2_b = _source0.dtor_b;
          Dafny.ISequence<Dafny.Rune> _3_c = (((_2_b) > ((short)(0))) ? (Dafny.Sequence<Dafny.Rune>.Concat(Dafny.Sequence<Dafny.Rune>.Concat(Dafny.Sequence<Dafny.Rune>.UnicodeFromString("'"), Dafny.Sequence<Dafny.Rune>.FromElements(new Dafny.Rune((int)(_2_b)))), Dafny.Sequence<Dafny.Rune>.UnicodeFromString("'"))) : (Dafny.Sequence<Dafny.Rune>.UnicodeFromString("EOF")));
          return Dafny.Sequence<Dafny.Rune>.Concat(Dafny.Sequence<Dafny.Rune>.Concat(Dafny.Sequence<Dafny.Rune>.Concat(Dafny.Sequence<Dafny.Rune>.UnicodeFromString("Expecting '"), Dafny.Sequence<Dafny.Rune>.FromElements(new Dafny.Rune((int)(_1_b0)))), Dafny.Sequence<Dafny.Rune>.UnicodeFromString("', read ")), _3_c);
        }
      }
      {
        if (_source0.is_ExpectingAnyByte) {
          Dafny.ISequence<byte> _4_bs0 = _source0.dtor_expected__sq;
          short _5_b = _source0.dtor_b;
          Dafny.ISequence<Dafny.Rune> _6_c = (((_5_b) > ((short)(0))) ? (Dafny.Sequence<Dafny.Rune>.Concat(Dafny.Sequence<Dafny.Rune>.Concat(Dafny.Sequence<Dafny.Rune>.UnicodeFromString("'"), Dafny.Sequence<Dafny.Rune>.FromElements(new Dafny.Rune((int)(_5_b)))), Dafny.Sequence<Dafny.Rune>.UnicodeFromString("'"))) : (Dafny.Sequence<Dafny.Rune>.UnicodeFromString("EOF")));
          Dafny.ISequence<Dafny.Rune> _7_c0s = ((System.Func<Dafny.ISequence<Dafny.Rune>>) (() => {
            BigInteger dim6 = new BigInteger((_4_bs0).Count);
            var arr6 = new Dafny.Rune[Dafny.Helpers.ToIntChecked(dim6, "array size exceeds memory limit")];
            for (int i6 = 0; i6 < dim6; i6++) {
              var _8_idx = (BigInteger) i6;
              arr6[(int)(_8_idx)] = new Dafny.Rune((int)((_4_bs0).Select(_8_idx)));
            }
            return Dafny.Sequence<Dafny.Rune>.FromArray(arr6);
          }))();
          return Dafny.Sequence<Dafny.Rune>.Concat(Dafny.Sequence<Dafny.Rune>.Concat(Dafny.Sequence<Dafny.Rune>.Concat(Dafny.Sequence<Dafny.Rune>.UnicodeFromString("Expecting one of '"), _7_c0s), Dafny.Sequence<Dafny.Rune>.UnicodeFromString("', read ")), _6_c);
        }
      }
      {
        Dafny.ISequence<Dafny.Rune> _9_str = _source0.dtor_str;
        if ((_9_str).Equals(Dafny.Sequence<Dafny.Rune>.UnicodeFromString(""))) {
          return Dafny.Sequence<Dafny.Rune>.UnicodeFromString("Invalid Unicode sequence");
        } else {
          return _9_str;
        }
      }
    }
  }
  public class DeserializationError_UnterminatedSequence : DeserializationError {
    public DeserializationError_UnterminatedSequence() : base() {
    }
    public override _IDeserializationError DowncastClone() {
      if (this is _IDeserializationError dt) { return dt; }
      return new DeserializationError_UnterminatedSequence();
    }
    public override bool Equals(object other) {
      var oth = other as Std.JSON.Errors.DeserializationError_UnterminatedSequence;
      return oth != null;
    }
    public override int GetHashCode() {
      ulong hash = 5381;
      hash = ((hash << 5) + hash) + 0;
      return (int) hash;
    }
    public override string ToString() {
      string s = "Errors.DeserializationError.UnterminatedSequence";
      return s;
    }
  }
  public class DeserializationError_UnsupportedEscape : DeserializationError {
    public readonly Dafny.ISequence<Dafny.Rune> _str;
    public DeserializationError_UnsupportedEscape(Dafny.ISequence<Dafny.Rune> str) : base() {
      this._str = str;
    }
    public override _IDeserializationError DowncastClone() {
      if (this is _IDeserializationError dt) { return dt; }
      return new DeserializationError_UnsupportedEscape(_str);
    }
    public override bool Equals(object other) {
      var oth = other as Std.JSON.Errors.DeserializationError_UnsupportedEscape;
      return oth != null && object.Equals(this._str, oth._str);
    }
    public override int GetHashCode() {
      ulong hash = 5381;
      hash = ((hash << 5) + hash) + 1;
      hash = ((hash << 5) + hash) + ((ulong)Dafny.Helpers.GetHashCode(this._str));
      return (int) hash;
    }
    public override string ToString() {
      string s = "Errors.DeserializationError.UnsupportedEscape";
      s += "(";
      s += this._str.ToVerbatimString(true);
      s += ")";
      return s;
    }
  }
  public class DeserializationError_EscapeAtEOS : DeserializationError {
    public DeserializationError_EscapeAtEOS() : base() {
    }
    public override _IDeserializationError DowncastClone() {
      if (this is _IDeserializationError dt) { return dt; }
      return new DeserializationError_EscapeAtEOS();
    }
    public override bool Equals(object other) {
      var oth = other as Std.JSON.Errors.DeserializationError_EscapeAtEOS;
      return oth != null;
    }
    public override int GetHashCode() {
      ulong hash = 5381;
      hash = ((hash << 5) + hash) + 2;
      return (int) hash;
    }
    public override string ToString() {
      string s = "Errors.DeserializationError.EscapeAtEOS";
      return s;
    }
  }
  public class DeserializationError_EmptyNumber : DeserializationError {
    public DeserializationError_EmptyNumber() : base() {
    }
    public override _IDeserializationError DowncastClone() {
      if (this is _IDeserializationError dt) { return dt; }
      return new DeserializationError_EmptyNumber();
    }
    public override bool Equals(object other) {
      var oth = other as Std.JSON.Errors.DeserializationError_EmptyNumber;
      return oth != null;
    }
    public override int GetHashCode() {
      ulong hash = 5381;
      hash = ((hash << 5) + hash) + 3;
      return (int) hash;
    }
    public override string ToString() {
      string s = "Errors.DeserializationError.EmptyNumber";
      return s;
    }
  }
  public class DeserializationError_ExpectingEOF : DeserializationError {
    public DeserializationError_ExpectingEOF() : base() {
    }
    public override _IDeserializationError DowncastClone() {
      if (this is _IDeserializationError dt) { return dt; }
      return new DeserializationError_ExpectingEOF();
    }
    public override bool Equals(object other) {
      var oth = other as Std.JSON.Errors.DeserializationError_ExpectingEOF;
      return oth != null;
    }
    public override int GetHashCode() {
      ulong hash = 5381;
      hash = ((hash << 5) + hash) + 4;
      return (int) hash;
    }
    public override string ToString() {
      string s = "Errors.DeserializationError.ExpectingEOF";
      return s;
    }
  }
  public class DeserializationError_IntOverflow : DeserializationError {
    public DeserializationError_IntOverflow() : base() {
    }
    public override _IDeserializationError DowncastClone() {
      if (this is _IDeserializationError dt) { return dt; }
      return new DeserializationError_IntOverflow();
    }
    public override bool Equals(object other) {
      var oth = other as Std.JSON.Errors.DeserializationError_IntOverflow;
      return oth != null;
    }
    public override int GetHashCode() {
      ulong hash = 5381;
      hash = ((hash << 5) + hash) + 5;
      return (int) hash;
    }
    public override string ToString() {
      string s = "Errors.DeserializationError.IntOverflow";
      return s;
    }
  }
  public class DeserializationError_ReachedEOF : DeserializationError {
    public DeserializationError_ReachedEOF() : base() {
    }
    public override _IDeserializationError DowncastClone() {
      if (this is _IDeserializationError dt) { return dt; }
      return new DeserializationError_ReachedEOF();
    }
    public override bool Equals(object other) {
      var oth = other as Std.JSON.Errors.DeserializationError_ReachedEOF;
      return oth != null;
    }
    public override int GetHashCode() {
      ulong hash = 5381;
      hash = ((hash << 5) + hash) + 6;
      return (int) hash;
    }
    public override string ToString() {
      string s = "Errors.DeserializationError.ReachedEOF";
      return s;
    }
  }
  public class DeserializationError_ExpectingByte : DeserializationError {
    public readonly byte _expected;
    public readonly short _b;
    public DeserializationError_ExpectingByte(byte expected, short b) : base() {
      this._expected = expected;
      this._b = b;
    }
    public override _IDeserializationError DowncastClone() {
      if (this is _IDeserializationError dt) { return dt; }
      return new DeserializationError_ExpectingByte(_expected, _b);
    }
    public override bool Equals(object other) {
      var oth = other as Std.JSON.Errors.DeserializationError_ExpectingByte;
      return oth != null && this._expected == oth._expected && this._b == oth._b;
    }
    public override int GetHashCode() {
      ulong hash = 5381;
      hash = ((hash << 5) + hash) + 7;
      hash = ((hash << 5) + hash) + ((ulong)Dafny.Helpers.GetHashCode(this._expected));
      hash = ((hash << 5) + hash) + ((ulong)Dafny.Helpers.GetHashCode(this._b));
      return (int) hash;
    }
    public override string ToString() {
      string s = "Errors.DeserializationError.ExpectingByte";
      s += "(";
      s += Dafny.Helpers.ToString(this._expected);
      s += ", ";
      s += Dafny.Helpers.ToString(this._b);
      s += ")";
      return s;
    }
  }
  public class DeserializationError_ExpectingAnyByte : DeserializationError {
    public readonly Dafny.ISequence<byte> _expected__sq;
    public readonly short _b;
    public DeserializationError_ExpectingAnyByte(Dafny.ISequence<byte> expected__sq, short b) : base() {
      this._expected__sq = expected__sq;
      this._b = b;
    }
    public override _IDeserializationError DowncastClone() {
      if (this is _IDeserializationError dt) { return dt; }
      return new DeserializationError_ExpectingAnyByte(_expected__sq, _b);
    }
    public override bool Equals(object other) {
      var oth = other as Std.JSON.Errors.DeserializationError_ExpectingAnyByte;
      return oth != null && object.Equals(this._expected__sq, oth._expected__sq) && this._b == oth._b;
    }
    public override int GetHashCode() {
      ulong hash = 5381;
      hash = ((hash << 5) + hash) + 8;
      hash = ((hash << 5) + hash) + ((ulong)Dafny.Helpers.GetHashCode(this._expected__sq));
      hash = ((hash << 5) + hash) + ((ulong)Dafny.Helpers.GetHashCode(this._b));
      return (int) hash;
    }
    public override string ToString() {
      string s = "Errors.DeserializationError.ExpectingAnyByte";
      s += "(";
      s += Dafny.Helpers.ToString(this._expected__sq);
      s += ", ";
      s += Dafny.Helpers.ToString(this._b);
      s += ")";
      return s;
    }
  }
  public class DeserializationError_InvalidUnicode : DeserializationError {
    public readonly Dafny.ISequence<Dafny.Rune> _str;
    public DeserializationError_InvalidUnicode(Dafny.ISequence<Dafny.Rune> str) : base() {
      this._str = str;
    }
    public override _IDeserializationError DowncastClone() {
      if (this is _IDeserializationError dt) { return dt; }
      return new DeserializationError_InvalidUnicode(_str);
    }
    public override bool Equals(object other) {
      var oth = other as Std.JSON.Errors.DeserializationError_InvalidUnicode;
      return oth != null && object.Equals(this._str, oth._str);
    }
    public override int GetHashCode() {
      ulong hash = 5381;
      hash = ((hash << 5) + hash) + 9;
      hash = ((hash << 5) + hash) + ((ulong)Dafny.Helpers.GetHashCode(this._str));
      return (int) hash;
    }
    public override string ToString() {
      string s = "Errors.DeserializationError.InvalidUnicode";
      s += "(";
      s += this._str.ToVerbatimString(true);
      s += ")";
      return s;
    }
  }

  public interface _ISerializationError {
    bool is_OutOfMemory { get; }
    bool is_IntTooLarge { get; }
    bool is_StringTooLong { get; }
    bool is_InvalidUnicode { get; }
    BigInteger dtor_i { get; }
    Dafny.ISequence<Dafny.Rune> dtor_s { get; }
    _ISerializationError DowncastClone();
    Dafny.ISequence<Dafny.Rune> _ToString();
  }
  public abstract class SerializationError : _ISerializationError {
    public SerializationError() {
    }
    private static readonly Std.JSON.Errors._ISerializationError theDefault = create_OutOfMemory();
    public static Std.JSON.Errors._ISerializationError Default() {
      return theDefault;
    }
    private static readonly Dafny.TypeDescriptor<Std.JSON.Errors._ISerializationError> _TYPE = new Dafny.TypeDescriptor<Std.JSON.Errors._ISerializationError>(Std.JSON.Errors.SerializationError.Default());
    public static Dafny.TypeDescriptor<Std.JSON.Errors._ISerializationError> _TypeDescriptor() {
      return _TYPE;
    }
    public static _ISerializationError create_OutOfMemory() {
      return new SerializationError_OutOfMemory();
    }
    public static _ISerializationError create_IntTooLarge(BigInteger i) {
      return new SerializationError_IntTooLarge(i);
    }
    public static _ISerializationError create_StringTooLong(Dafny.ISequence<Dafny.Rune> s) {
      return new SerializationError_StringTooLong(s);
    }
    public static _ISerializationError create_InvalidUnicode() {
      return new SerializationError_InvalidUnicode();
    }
    public bool is_OutOfMemory { get { return this is SerializationError_OutOfMemory; } }
    public bool is_IntTooLarge { get { return this is SerializationError_IntTooLarge; } }
    public bool is_StringTooLong { get { return this is SerializationError_StringTooLong; } }
    public bool is_InvalidUnicode { get { return this is SerializationError_InvalidUnicode; } }
    public BigInteger dtor_i {
      get {
        var d = this;
        return ((SerializationError_IntTooLarge)d)._i;
      }
    }
    public Dafny.ISequence<Dafny.Rune> dtor_s {
      get {
        var d = this;
        return ((SerializationError_StringTooLong)d)._s;
      }
    }
    public abstract _ISerializationError DowncastClone();
    public Dafny.ISequence<Dafny.Rune> _ToString() {
      Std.JSON.Errors._ISerializationError _source0 = this;
      {
        if (_source0.is_OutOfMemory) {
          return Dafny.Sequence<Dafny.Rune>.UnicodeFromString("Out of memory");
        }
      }
      {
        if (_source0.is_IntTooLarge) {
          BigInteger _0_i = _source0.dtor_i;
          return Dafny.Sequence<Dafny.Rune>.Concat(Dafny.Sequence<Dafny.Rune>.UnicodeFromString("Integer too large: "), Std.Strings.__default.OfInt(_0_i));
        }
      }
      {
        if (_source0.is_StringTooLong) {
          Dafny.ISequence<Dafny.Rune> _1_s = _source0.dtor_s;
          return Dafny.Sequence<Dafny.Rune>.Concat(Dafny.Sequence<Dafny.Rune>.UnicodeFromString("String too long: "), _1_s);
        }
      }
      {
        return Dafny.Sequence<Dafny.Rune>.UnicodeFromString("Invalid Unicode sequence");
      }
    }
  }
  public class SerializationError_OutOfMemory : SerializationError {
    public SerializationError_OutOfMemory() : base() {
    }
    public override _ISerializationError DowncastClone() {
      if (this is _ISerializationError dt) { return dt; }
      return new SerializationError_OutOfMemory();
    }
    public override bool Equals(object other) {
      var oth = other as Std.JSON.Errors.SerializationError_OutOfMemory;
      return oth != null;
    }
    public override int GetHashCode() {
      ulong hash = 5381;
      hash = ((hash << 5) + hash) + 0;
      return (int) hash;
    }
    public override string ToString() {
      string s = "Errors.SerializationError.OutOfMemory";
      return s;
    }
  }
  public class SerializationError_IntTooLarge : SerializationError {
    public readonly BigInteger _i;
    public SerializationError_IntTooLarge(BigInteger i) : base() {
      this._i = i;
    }
    public override _ISerializationError DowncastClone() {
      if (this is _ISerializationError dt) { return dt; }
      return new SerializationError_IntTooLarge(_i);
    }
    public override bool Equals(object other) {
      var oth = other as Std.JSON.Errors.SerializationError_IntTooLarge;
      return oth != null && this._i == oth._i;
    }
    public override int GetHashCode() {
      ulong hash = 5381;
      hash = ((hash << 5) + hash) + 1;
      hash = ((hash << 5) + hash) + ((ulong)Dafny.Helpers.GetHashCode(this._i));
      return (int) hash;
    }
    public override string ToString() {
      string s = "Errors.SerializationError.IntTooLarge";
      s += "(";
      s += Dafny.Helpers.ToString(this._i);
      s += ")";
      return s;
    }
  }
  public class SerializationError_StringTooLong : SerializationError {
    public readonly Dafny.ISequence<Dafny.Rune> _s;
    public SerializationError_StringTooLong(Dafny.ISequence<Dafny.Rune> s) : base() {
      this._s = s;
    }
    public override _ISerializationError DowncastClone() {
      if (this is _ISerializationError dt) { return dt; }
      return new SerializationError_StringTooLong(_s);
    }
    public override bool Equals(object other) {
      var oth = other as Std.JSON.Errors.SerializationError_StringTooLong;
      return oth != null && object.Equals(this._s, oth._s);
    }
    public override int GetHashCode() {
      ulong hash = 5381;
      hash = ((hash << 5) + hash) + 2;
      hash = ((hash << 5) + hash) + ((ulong)Dafny.Helpers.GetHashCode(this._s));
      return (int) hash;
    }
    public override string ToString() {
      string ss = "Errors.SerializationError.StringTooLong";
      ss += "(";
      ss += this._s.ToVerbatimString(true);
      ss += ")";
      return ss;
    }
  }
  public class SerializationError_InvalidUnicode : SerializationError {
    public SerializationError_InvalidUnicode() : base() {
    }
    public override _ISerializationError DowncastClone() {
      if (this is _ISerializationError dt) { return dt; }
      return new SerializationError_InvalidUnicode();
    }
    public override bool Equals(object other) {
      var oth = other as Std.JSON.Errors.SerializationError_InvalidUnicode;
      return oth != null;
    }
    public override int GetHashCode() {
      ulong hash = 5381;
      hash = ((hash << 5) + hash) + 3;
      return (int) hash;
    }
    public override string ToString() {
      string s = "Errors.SerializationError.InvalidUnicode";
      return s;
    }
  }
} // end of namespace Std.JSON.Errors
namespace Std.JSON.Spec {

  public partial class __default {
    public static Dafny.ISequence<ushort> EscapeUnicode(ushort c) {
      Dafny.ISequence<Dafny.Rune> _0_sStr = Std.Strings.HexConversion.__default.OfNat(new BigInteger(c));
      Dafny.ISequence<ushort> _1_s = Std.Unicode.UnicodeStringsWithUnicodeChar.__default.ASCIIToUTF16(_0_sStr);
      return Dafny.Sequence<ushort>.Concat(((System.Func<Dafny.ISequence<ushort>>) (() => {
        BigInteger dim7 = (new BigInteger(4)) - (new BigInteger((_1_s).Count));
        var arr7 = new ushort[Dafny.Helpers.ToIntChecked(dim7, "array size exceeds memory limit")];
        for (int i7 = 0; i7 < dim7; i7++) {
          var _2___v8 = (BigInteger) i7;
          arr7[(int)(_2___v8)] = (ushort)((new Dafny.Rune('0')).Value);
        }
        return Dafny.Sequence<ushort>.FromArray(arr7);
      }))(), _1_s);
    }
    public static Dafny.ISequence<ushort> Escape(Dafny.ISequence<ushort> str, BigInteger start)
    {
      Dafny.ISequence<ushort> _0___accumulator = Dafny.Sequence<ushort>.FromElements();
    TAIL_CALL_START: ;
      if ((start) >= (new BigInteger((str).Count))) {
        return Dafny.Sequence<ushort>.Concat(_0___accumulator, Dafny.Sequence<ushort>.FromElements());
      } else {
        _0___accumulator = Dafny.Sequence<ushort>.Concat(_0___accumulator, ((System.Func<Dafny.ISequence<ushort>>)(() => {
          ushort _source0 = (str).Select(start);
          {
            if ((_source0) == ((ushort)(34))) {
              return Std.Unicode.UnicodeStringsWithUnicodeChar.__default.ASCIIToUTF16(Dafny.Sequence<Dafny.Rune>.UnicodeFromString("\\\""));
            }
          }
          {
            if ((_source0) == ((ushort)(92))) {
              return Std.Unicode.UnicodeStringsWithUnicodeChar.__default.ASCIIToUTF16(Dafny.Sequence<Dafny.Rune>.UnicodeFromString("\\\\"));
            }
          }
          {
            if ((_source0) == ((ushort)(8))) {
              return Std.Unicode.UnicodeStringsWithUnicodeChar.__default.ASCIIToUTF16(Dafny.Sequence<Dafny.Rune>.UnicodeFromString("\\b"));
            }
          }
          {
            if ((_source0) == ((ushort)(12))) {
              return Std.Unicode.UnicodeStringsWithUnicodeChar.__default.ASCIIToUTF16(Dafny.Sequence<Dafny.Rune>.UnicodeFromString("\\f"));
            }
          }
          {
            if ((_source0) == ((ushort)(10))) {
              return Std.Unicode.UnicodeStringsWithUnicodeChar.__default.ASCIIToUTF16(Dafny.Sequence<Dafny.Rune>.UnicodeFromString("\\n"));
            }
          }
          {
            if ((_source0) == ((ushort)(13))) {
              return Std.Unicode.UnicodeStringsWithUnicodeChar.__default.ASCIIToUTF16(Dafny.Sequence<Dafny.Rune>.UnicodeFromString("\\r"));
            }
          }
          {
            if ((_source0) == ((ushort)(9))) {
              return Std.Unicode.UnicodeStringsWithUnicodeChar.__default.ASCIIToUTF16(Dafny.Sequence<Dafny.Rune>.UnicodeFromString("\\t"));
            }
          }
          {
            ushort _1_c = _source0;
            if ((_1_c) < ((ushort)(31))) {
              return Dafny.Sequence<ushort>.Concat(Std.Unicode.UnicodeStringsWithUnicodeChar.__default.ASCIIToUTF16(Dafny.Sequence<Dafny.Rune>.UnicodeFromString("\\u")), Std.JSON.Spec.__default.EscapeUnicode(_1_c));
            } else {
              return Dafny.Sequence<ushort>.FromElements((str).Select(start));
            }
          }
        }))());
        Dafny.ISequence<ushort> _in0 = str;
        BigInteger _in1 = (start) + (BigInteger.One);
        str = _in0;
        start = _in1;
        goto TAIL_CALL_START;
      }
    }
    public static Std.Wrappers._IResult<Dafny.ISequence<byte>, Std.JSON.Errors._ISerializationError> EscapeToUTF8(Dafny.ISequence<Dafny.Rune> str, BigInteger start)
    {
      Std.Wrappers._IResult<Dafny.ISequence<ushort>, Std.JSON.Errors._ISerializationError> _0_valueOrError0 = (Std.Unicode.UnicodeStringsWithUnicodeChar.__default.ToUTF16Checked(str)).ToResult<Std.JSON.Errors._ISerializationError>(Std.JSON.Errors.SerializationError.create_InvalidUnicode());
      if ((_0_valueOrError0).IsFailure()) {
        return (_0_valueOrError0).PropagateFailure<Dafny.ISequence<byte>>();
      } else {
        Dafny.ISequence<ushort> _1_utf16 = (_0_valueOrError0).Extract();
        Dafny.ISequence<ushort> _2_escaped = Std.JSON.Spec.__default.Escape(_1_utf16, BigInteger.Zero);
        Std.Wrappers._IResult<Dafny.ISequence<Dafny.Rune>, Std.JSON.Errors._ISerializationError> _3_valueOrError1 = ((Std.Unicode.UnicodeStringsWithUnicodeChar.__default.FromUTF16Checked(_2_escaped)).ToOption()).ToResult<Std.JSON.Errors._ISerializationError>(Std.JSON.Errors.SerializationError.create_InvalidUnicode());
        if ((_3_valueOrError1).IsFailure()) {
          return (_3_valueOrError1).PropagateFailure<Dafny.ISequence<byte>>();
        } else {
          Dafny.ISequence<Dafny.Rune> _4_utf32 = (_3_valueOrError1).Extract();
          return (Std.Unicode.UnicodeStringsWithUnicodeChar.__default.ToUTF8Checked(_4_utf32)).ToResult<Std.JSON.Errors._ISerializationError>(Std.JSON.Errors.SerializationError.create_InvalidUnicode());
        }
      }
    }
    public static Std.Wrappers._IResult<Dafny.ISequence<byte>, Std.JSON.Errors._ISerializationError> String(Dafny.ISequence<Dafny.Rune> str) {
      Std.Wrappers._IResult<Dafny.ISequence<byte>, Std.JSON.Errors._ISerializationError> _0_valueOrError0 = Std.JSON.Spec.__default.EscapeToUTF8(str, BigInteger.Zero);
      if ((_0_valueOrError0).IsFailure()) {
        return (_0_valueOrError0).PropagateFailure<Dafny.ISequence<byte>>();
      } else {
        Dafny.ISequence<byte> _1_inBytes = (_0_valueOrError0).Extract();
        return Std.Wrappers.Result<Dafny.ISequence<byte>, Std.JSON.Errors._ISerializationError>.create_Success(Dafny.Sequence<byte>.Concat(Dafny.Sequence<byte>.Concat(Std.Unicode.UnicodeStringsWithUnicodeChar.__default.ASCIIToUTF8(Dafny.Sequence<Dafny.Rune>.UnicodeFromString("\"")), _1_inBytes), Std.Unicode.UnicodeStringsWithUnicodeChar.__default.ASCIIToUTF8(Dafny.Sequence<Dafny.Rune>.UnicodeFromString("\""))));
      }
    }
    public static Dafny.ISequence<byte> IntToBytes(BigInteger n) {
      Dafny.ISequence<Dafny.Rune> _0_s = Std.Strings.__default.OfInt(n);
      return Std.Unicode.UnicodeStringsWithUnicodeChar.__default.ASCIIToUTF8(_0_s);
    }
    public static Std.Wrappers._IResult<Dafny.ISequence<byte>, Std.JSON.Errors._ISerializationError> Number(Std.JSON.Values._IDecimal dec) {
      return Std.Wrappers.Result<Dafny.ISequence<byte>, Std.JSON.Errors._ISerializationError>.create_Success(Dafny.Sequence<byte>.Concat(Std.JSON.Spec.__default.IntToBytes((dec).dtor_n), ((((dec).dtor_e10).Sign == 0) ? (Dafny.Sequence<byte>.FromElements()) : (Dafny.Sequence<byte>.Concat(Std.Unicode.UnicodeStringsWithUnicodeChar.__default.ASCIIToUTF8(Dafny.Sequence<Dafny.Rune>.UnicodeFromString("e")), Std.JSON.Spec.__default.IntToBytes((dec).dtor_e10))))));
    }
    public static Std.Wrappers._IResult<Dafny.ISequence<byte>, Std.JSON.Errors._ISerializationError> KeyValue(_System._ITuple2<Dafny.ISequence<Dafny.Rune>, Std.JSON.Values._IJSON> kv) {
      Std.Wrappers._IResult<Dafny.ISequence<byte>, Std.JSON.Errors._ISerializationError> _0_valueOrError0 = Std.JSON.Spec.__default.String((kv).dtor__0);
      if ((_0_valueOrError0).IsFailure()) {
        return (_0_valueOrError0).PropagateFailure<Dafny.ISequence<byte>>();
      } else {
        Dafny.ISequence<byte> _1_key = (_0_valueOrError0).Extract();
        Std.Wrappers._IResult<Dafny.ISequence<byte>, Std.JSON.Errors._ISerializationError> _2_valueOrError1 = Std.JSON.Spec.__default.JSON((kv).dtor__1);
        if ((_2_valueOrError1).IsFailure()) {
          return (_2_valueOrError1).PropagateFailure<Dafny.ISequence<byte>>();
        } else {
          Dafny.ISequence<byte> _3_value = (_2_valueOrError1).Extract();
          return Std.Wrappers.Result<Dafny.ISequence<byte>, Std.JSON.Errors._ISerializationError>.create_Success(Dafny.Sequence<byte>.Concat(Dafny.Sequence<byte>.Concat(_1_key, Std.Unicode.UnicodeStringsWithUnicodeChar.__default.ASCIIToUTF8(Dafny.Sequence<Dafny.Rune>.UnicodeFromString(":"))), _3_value));
        }
      }
    }
    public static Std.Wrappers._IResult<Dafny.ISequence<byte>, Std.JSON.Errors._ISerializationError> Join(Dafny.ISequence<byte> sep, Dafny.ISequence<Std.Wrappers._IResult<Dafny.ISequence<byte>, Std.JSON.Errors._ISerializationError>> items)
    {
      if ((new BigInteger((items).Count)).Sign == 0) {
        return Std.Wrappers.Result<Dafny.ISequence<byte>, Std.JSON.Errors._ISerializationError>.create_Success(Dafny.Sequence<byte>.FromElements());
      } else {
        Std.Wrappers._IResult<Dafny.ISequence<byte>, Std.JSON.Errors._ISerializationError> _0_valueOrError0 = (items).Select(BigInteger.Zero);
        if ((_0_valueOrError0).IsFailure()) {
          return (_0_valueOrError0).PropagateFailure<Dafny.ISequence<byte>>();
        } else {
          Dafny.ISequence<byte> _1_first = (_0_valueOrError0).Extract();
          if ((new BigInteger((items).Count)) == (BigInteger.One)) {
            return Std.Wrappers.Result<Dafny.ISequence<byte>, Std.JSON.Errors._ISerializationError>.create_Success(_1_first);
          } else {
            Std.Wrappers._IResult<Dafny.ISequence<byte>, Std.JSON.Errors._ISerializationError> _2_valueOrError1 = Std.JSON.Spec.__default.Join(sep, (items).Drop(BigInteger.One));
            if ((_2_valueOrError1).IsFailure()) {
              return (_2_valueOrError1).PropagateFailure<Dafny.ISequence<byte>>();
            } else {
              Dafny.ISequence<byte> _3_rest = (_2_valueOrError1).Extract();
              return Std.Wrappers.Result<Dafny.ISequence<byte>, Std.JSON.Errors._ISerializationError>.create_Success(Dafny.Sequence<byte>.Concat(Dafny.Sequence<byte>.Concat(_1_first, sep), _3_rest));
            }
          }
        }
      }
    }
    public static Std.Wrappers._IResult<Dafny.ISequence<byte>, Std.JSON.Errors._ISerializationError> Object(Dafny.ISequence<_System._ITuple2<Dafny.ISequence<Dafny.Rune>, Std.JSON.Values._IJSON>> obj) {
      Std.Wrappers._IResult<Dafny.ISequence<byte>, Std.JSON.Errors._ISerializationError> _0_valueOrError0 = Std.JSON.Spec.__default.Join(Std.Unicode.UnicodeStringsWithUnicodeChar.__default.ASCIIToUTF8(Dafny.Sequence<Dafny.Rune>.UnicodeFromString(",")), ((System.Func<Dafny.ISequence<Std.Wrappers._IResult<Dafny.ISequence<byte>, Std.JSON.Errors._ISerializationError>>>) (() => {
        BigInteger dim8 = new BigInteger((obj).Count);
        var arr8 = new Std.Wrappers._IResult<Dafny.ISequence<byte>, Std.JSON.Errors._ISerializationError>[Dafny.Helpers.ToIntChecked(dim8, "array size exceeds memory limit")];
        for (int i8 = 0; i8 < dim8; i8++) {
          var _1_i = (BigInteger) i8;
          arr8[(int)(_1_i)] = Std.JSON.Spec.__default.KeyValue((obj).Select(_1_i));
        }
        return Dafny.Sequence<Std.Wrappers._IResult<Dafny.ISequence<byte>, Std.JSON.Errors._ISerializationError>>.FromArray(arr8);
      }))());
      if ((_0_valueOrError0).IsFailure()) {
        return (_0_valueOrError0).PropagateFailure<Dafny.ISequence<byte>>();
      } else {
        Dafny.ISequence<byte> _2_middle = (_0_valueOrError0).Extract();
        return Std.Wrappers.Result<Dafny.ISequence<byte>, Std.JSON.Errors._ISerializationError>.create_Success(Dafny.Sequence<byte>.Concat(Dafny.Sequence<byte>.Concat(Std.Unicode.UnicodeStringsWithUnicodeChar.__default.ASCIIToUTF8(Dafny.Sequence<Dafny.Rune>.UnicodeFromString("{")), _2_middle), Std.Unicode.UnicodeStringsWithUnicodeChar.__default.ASCIIToUTF8(Dafny.Sequence<Dafny.Rune>.UnicodeFromString("}"))));
      }
    }
    public static Std.Wrappers._IResult<Dafny.ISequence<byte>, Std.JSON.Errors._ISerializationError> Array(Dafny.ISequence<Std.JSON.Values._IJSON> arr) {
      Std.Wrappers._IResult<Dafny.ISequence<byte>, Std.JSON.Errors._ISerializationError> _0_valueOrError0 = Std.JSON.Spec.__default.Join(Std.Unicode.UnicodeStringsWithUnicodeChar.__default.ASCIIToUTF8(Dafny.Sequence<Dafny.Rune>.UnicodeFromString(",")), ((System.Func<Dafny.ISequence<Std.Wrappers._IResult<Dafny.ISequence<byte>, Std.JSON.Errors._ISerializationError>>>) (() => {
        BigInteger dim9 = new BigInteger((arr).Count);
        var arr9 = new Std.Wrappers._IResult<Dafny.ISequence<byte>, Std.JSON.Errors._ISerializationError>[Dafny.Helpers.ToIntChecked(dim9, "array size exceeds memory limit")];
        for (int i9 = 0; i9 < dim9; i9++) {
          var _1_i = (BigInteger) i9;
          arr9[(int)(_1_i)] = Std.JSON.Spec.__default.JSON((arr).Select(_1_i));
        }
        return Dafny.Sequence<Std.Wrappers._IResult<Dafny.ISequence<byte>, Std.JSON.Errors._ISerializationError>>.FromArray(arr9);
      }))());
      if ((_0_valueOrError0).IsFailure()) {
        return (_0_valueOrError0).PropagateFailure<Dafny.ISequence<byte>>();
      } else {
        Dafny.ISequence<byte> _2_middle = (_0_valueOrError0).Extract();
        return Std.Wrappers.Result<Dafny.ISequence<byte>, Std.JSON.Errors._ISerializationError>.create_Success(Dafny.Sequence<byte>.Concat(Dafny.Sequence<byte>.Concat(Std.Unicode.UnicodeStringsWithUnicodeChar.__default.ASCIIToUTF8(Dafny.Sequence<Dafny.Rune>.UnicodeFromString("[")), _2_middle), Std.Unicode.UnicodeStringsWithUnicodeChar.__default.ASCIIToUTF8(Dafny.Sequence<Dafny.Rune>.UnicodeFromString("]"))));
      }
    }
    public static Std.Wrappers._IResult<Dafny.ISequence<byte>, Std.JSON.Errors._ISerializationError> JSON(Std.JSON.Values._IJSON js) {
      Std.JSON.Values._IJSON _source0 = js;
      {
        if (_source0.is_Null) {
          return Std.Wrappers.Result<Dafny.ISequence<byte>, Std.JSON.Errors._ISerializationError>.create_Success(Std.Unicode.UnicodeStringsWithUnicodeChar.__default.ASCIIToUTF8(Dafny.Sequence<Dafny.Rune>.UnicodeFromString("null")));
        }
      }
      {
        if (_source0.is_Bool) {
          bool _0_b = _source0.dtor_b;
          return Std.Wrappers.Result<Dafny.ISequence<byte>, Std.JSON.Errors._ISerializationError>.create_Success(((_0_b) ? (Std.Unicode.UnicodeStringsWithUnicodeChar.__default.ASCIIToUTF8(Dafny.Sequence<Dafny.Rune>.UnicodeFromString("true"))) : (Std.Unicode.UnicodeStringsWithUnicodeChar.__default.ASCIIToUTF8(Dafny.Sequence<Dafny.Rune>.UnicodeFromString("false")))));
        }
      }
      {
        if (_source0.is_String) {
          Dafny.ISequence<Dafny.Rune> _1_str = _source0.dtor_str;
          return Std.JSON.Spec.__default.String(_1_str);
        }
      }
      {
        if (_source0.is_Number) {
          Std.JSON.Values._IDecimal _2_dec = _source0.dtor_num;
          return Std.JSON.Spec.__default.Number(_2_dec);
        }
      }
      {
        if (_source0.is_Object) {
          Dafny.ISequence<_System._ITuple2<Dafny.ISequence<Dafny.Rune>, Std.JSON.Values._IJSON>> _3_obj = _source0.dtor_obj;
          return Std.JSON.Spec.__default.Object(_3_obj);
        }
      }
      {
        Dafny.ISequence<Std.JSON.Values._IJSON> _4_arr = _source0.dtor_arr;
        return Std.JSON.Spec.__default.Array(_4_arr);
      }
    }
  }
} // end of namespace Std.JSON.Spec
namespace Std.JSON.Utils.Views.Core {

  public partial class __default {
    public static bool Adjacent(Std.JSON.Utils.Views.Core._IView__ lv, Std.JSON.Utils.Views.Core._IView__ rv)
    {
      return (((lv).dtor_end) == ((rv).dtor_beg)) && (((lv).dtor_s).Equals((rv).dtor_s));
    }
    public static Std.JSON.Utils.Views.Core._IView__ Merge(Std.JSON.Utils.Views.Core._IView__ lv, Std.JSON.Utils.Views.Core._IView__ rv)
    {
      Std.JSON.Utils.Views.Core._IView__ _0_dt__update__tmp_h0 = lv;
      uint _1_dt__update_hend_h0 = (rv).dtor_end;
      return Std.JSON.Utils.Views.Core.View__.create((_0_dt__update__tmp_h0).dtor_s, (_0_dt__update__tmp_h0).dtor_beg, _1_dt__update_hend_h0);
    }
  }

  public partial class View {
    private static readonly Std.JSON.Utils.Views.Core._IView__ Witness = Std.JSON.Utils.Views.Core.View__.create(Dafny.Sequence<byte>.FromElements(), 0U, 0U);
    public static Std.JSON.Utils.Views.Core._IView__ Default() {
      return Witness;
    }
    private static readonly Dafny.TypeDescriptor<Std.JSON.Utils.Views.Core._IView__> _TYPE = new Dafny.TypeDescriptor<Std.JSON.Utils.Views.Core._IView__>(Std.JSON.Utils.Views.Core.View.Default());
    public static Dafny.TypeDescriptor<Std.JSON.Utils.Views.Core._IView__> _TypeDescriptor() {
      return _TYPE;
    }
  }

  public interface _IView__ {
    bool is_View { get; }
    Dafny.ISequence<byte> dtor_s { get; }
    uint dtor_beg { get; }
    uint dtor_end { get; }
    _IView__ DowncastClone();
    bool Empty_q { get; }
    uint Length();
    Dafny.ISequence<byte> Bytes();
    bool Byte_q(byte c);
    bool Char_q(Dafny.Rune c);
    byte At(uint idx);
    short Peek();
    void CopyTo(byte[] dest, uint start);
  }
  public class View__ : _IView__ {
    public readonly Dafny.ISequence<byte> _s;
    public readonly uint _beg;
    public readonly uint _end;
    public View__(Dafny.ISequence<byte> s, uint beg, uint end) {
      this._s = s;
      this._beg = beg;
      this._end = end;
    }
    public _IView__ DowncastClone() {
      if (this is _IView__ dt) { return dt; }
      return new View__(_s, _beg, _end);
    }
    public override bool Equals(object other) {
      var oth = other as Std.JSON.Utils.Views.Core.View__;
      return oth != null && object.Equals(this._s, oth._s) && this._beg == oth._beg && this._end == oth._end;
    }
    public override int GetHashCode() {
      ulong hash = 5381;
      hash = ((hash << 5) + hash) + 0;
      hash = ((hash << 5) + hash) + ((ulong)Dafny.Helpers.GetHashCode(this._s));
      hash = ((hash << 5) + hash) + ((ulong)Dafny.Helpers.GetHashCode(this._beg));
      hash = ((hash << 5) + hash) + ((ulong)Dafny.Helpers.GetHashCode(this._end));
      return (int) hash;
    }
    public override string ToString() {
      string ss = "Core.View_.View";
      ss += "(";
      ss += Dafny.Helpers.ToString(this._s);
      ss += ", ";
      ss += Dafny.Helpers.ToString(this._beg);
      ss += ", ";
      ss += Dafny.Helpers.ToString(this._end);
      ss += ")";
      return ss;
    }
    private static readonly Std.JSON.Utils.Views.Core._IView__ theDefault = create(Dafny.Sequence<byte>.Empty, 0, 0);
    public static Std.JSON.Utils.Views.Core._IView__ Default() {
      return theDefault;
    }
    private static readonly Dafny.TypeDescriptor<Std.JSON.Utils.Views.Core._IView__> _TYPE = new Dafny.TypeDescriptor<Std.JSON.Utils.Views.Core._IView__>(Std.JSON.Utils.Views.Core.View__.Default());
    public static Dafny.TypeDescriptor<Std.JSON.Utils.Views.Core._IView__> _TypeDescriptor() {
      return _TYPE;
    }
    public static _IView__ create(Dafny.ISequence<byte> s, uint beg, uint end) {
      return new View__(s, beg, end);
    }
    public static _IView__ create_View(Dafny.ISequence<byte> s, uint beg, uint end) {
      return create(s, beg, end);
    }
    public bool is_View { get { return true; } }
    public Dafny.ISequence<byte> dtor_s {
      get {
        return this._s;
      }
    }
    public uint dtor_beg {
      get {
        return this._beg;
      }
    }
    public uint dtor_end {
      get {
        return this._end;
      }
    }
    public uint Length() {
      return ((this).dtor_end) - ((this).dtor_beg);
    }
    public Dafny.ISequence<byte> Bytes() {
      return ((this).dtor_s).Subsequence((this).dtor_beg, (this).dtor_end);
    }
    public static Std.JSON.Utils.Views.Core._IView__ OfBytes(Dafny.ISequence<byte> bs) {
      return Std.JSON.Utils.Views.Core.View__.create(bs, (uint)(0U), (uint)(bs).LongCount);
    }
    public static Dafny.ISequence<byte> OfString(Dafny.ISequence<Dafny.Rune> s) {
      return ((System.Func<Dafny.ISequence<byte>>) (() => {
        BigInteger dim10 = new BigInteger((s).Count);
        var arr10 = new byte[Dafny.Helpers.ToIntChecked(dim10, "array size exceeds memory limit")];
        for (int i10 = 0; i10 < dim10; i10++) {
          var _0_i = (BigInteger) i10;
          arr10[(int)(_0_i)] = (byte)(((s).Select(_0_i)).Value);
        }
        return Dafny.Sequence<byte>.FromArray(arr10);
      }))();
    }
    public bool Byte_q(byte c)
    {
      bool _hresult = false;
      _hresult = (((this).Length()) == (1U)) && (((this).At(0U)) == (c));
      return _hresult;
      return _hresult;
    }
    public bool Char_q(Dafny.Rune c) {
      return (this).Byte_q((byte)((c).Value));
    }
    public byte At(uint idx) {
      return ((this).dtor_s).Select(((this).dtor_beg) + (idx));
    }
    public short Peek() {
      if ((this).Empty_q) {
        return (short)(-1);
      } else {
        return (short)((this).At(0U));
      }
    }
    public void CopyTo(byte[] dest, uint start)
    {
      uint _hi0 = (this).Length();
      for (uint _0_idx = 0U; _0_idx < _hi0; _0_idx++) {
        uint _index0 = (start) + (_0_idx);
        (dest)[(int)(_index0)] = ((this).dtor_s).Select(((this).dtor_beg) + (_0_idx));
      }
    }
    public static Std.JSON.Utils.Views.Core._IView__ Empty { get {
      return Std.JSON.Utils.Views.Core.View__.create(Dafny.Sequence<byte>.FromElements(), 0U, 0U);
    } }
    public bool Empty_q { get {
      return ((this).dtor_beg) == ((this).dtor_end);
    } }
  }
} // end of namespace Std.JSON.Utils.Views.Core
namespace Std.JSON.Utils.Views.Writers {


  public interface _IChain {
    bool is_Empty { get; }
    bool is_Chain { get; }
    Std.JSON.Utils.Views.Writers._IChain dtor_previous { get; }
    Std.JSON.Utils.Views.Core._IView__ dtor_v { get; }
    _IChain DowncastClone();
    BigInteger Length();
    BigInteger Count();
    Dafny.ISequence<byte> Bytes();
    Std.JSON.Utils.Views.Writers._IChain Append(Std.JSON.Utils.Views.Core._IView__ v_k);
    void CopyTo(byte[] dest, uint end);
  }
  public abstract class Chain : _IChain {
    public Chain() {
    }
    private static readonly Std.JSON.Utils.Views.Writers._IChain theDefault = create_Empty();
    public static Std.JSON.Utils.Views.Writers._IChain Default() {
      return theDefault;
    }
    private static readonly Dafny.TypeDescriptor<Std.JSON.Utils.Views.Writers._IChain> _TYPE = new Dafny.TypeDescriptor<Std.JSON.Utils.Views.Writers._IChain>(Std.JSON.Utils.Views.Writers.Chain.Default());
    public static Dafny.TypeDescriptor<Std.JSON.Utils.Views.Writers._IChain> _TypeDescriptor() {
      return _TYPE;
    }
    public static _IChain create_Empty() {
      return new Chain_Empty();
    }
    public static _IChain create_Chain(Std.JSON.Utils.Views.Writers._IChain previous, Std.JSON.Utils.Views.Core._IView__ v) {
      return new Chain_Chain(previous, v);
    }
    public bool is_Empty { get { return this is Chain_Empty; } }
    public bool is_Chain { get { return this is Chain_Chain; } }
    public Std.JSON.Utils.Views.Writers._IChain dtor_previous {
      get {
        var d = this;
        return ((Chain_Chain)d)._previous;
      }
    }
    public Std.JSON.Utils.Views.Core._IView__ dtor_v {
      get {
        var d = this;
        return ((Chain_Chain)d)._v;
      }
    }
    public abstract _IChain DowncastClone();
    public BigInteger Length() {
      BigInteger _0___accumulator = BigInteger.Zero;
      _IChain _this = this;
    TAIL_CALL_START: ;
      if ((_this).is_Empty) {
        return (BigInteger.Zero) + (_0___accumulator);
      } else {
        _0___accumulator = (new BigInteger(((_this).dtor_v).Length())) + (_0___accumulator);
        Std.JSON.Utils.Views.Writers._IChain _in0 = (_this).dtor_previous;
        _this = _in0;
        ;
        goto TAIL_CALL_START;
      }
    }
    public BigInteger Count() {
      BigInteger _0___accumulator = BigInteger.Zero;
      _IChain _this = this;
    TAIL_CALL_START: ;
      if ((_this).is_Empty) {
        return (BigInteger.Zero) + (_0___accumulator);
      } else {
        _0___accumulator = (BigInteger.One) + (_0___accumulator);
        Std.JSON.Utils.Views.Writers._IChain _in0 = (_this).dtor_previous;
        _this = _in0;
        ;
        goto TAIL_CALL_START;
      }
    }
    public Dafny.ISequence<byte> Bytes() {
      Dafny.ISequence<byte> _0___accumulator = Dafny.Sequence<byte>.FromElements();
      _IChain _this = this;
    TAIL_CALL_START: ;
      if ((_this).is_Empty) {
        return Dafny.Sequence<byte>.Concat(Dafny.Sequence<byte>.FromElements(), _0___accumulator);
      } else {
        _0___accumulator = Dafny.Sequence<byte>.Concat(((_this).dtor_v).Bytes(), _0___accumulator);
        Std.JSON.Utils.Views.Writers._IChain _in0 = (_this).dtor_previous;
        _this = _in0;
        ;
        goto TAIL_CALL_START;
      }
    }
    public Std.JSON.Utils.Views.Writers._IChain Append(Std.JSON.Utils.Views.Core._IView__ v_k) {
      if (((this).is_Chain) && (Std.JSON.Utils.Views.Core.__default.Adjacent((this).dtor_v, v_k))) {
        return Std.JSON.Utils.Views.Writers.Chain.create_Chain((this).dtor_previous, Std.JSON.Utils.Views.Core.__default.Merge((this).dtor_v, v_k));
      } else {
        return Std.JSON.Utils.Views.Writers.Chain.create_Chain(this, v_k);
      }
    }
    public void CopyTo(byte[] dest, uint end)
    {
      _IChain _this = this;
    TAIL_CALL_START: ;
      if ((_this).is_Chain) {
        uint _0_end;
        _0_end = (end) - (((_this).dtor_v).Length());
        ((_this).dtor_v).CopyTo(dest, _0_end);
        Std.JSON.Utils.Views.Writers._IChain _in0 = (_this).dtor_previous;
        byte[] _in1 = dest;
        uint _in2 = _0_end;
        _this = _in0;
        ;
        dest = _in1;
        end = _in2;
        goto TAIL_CALL_START;
      }
    }
  }
  public class Chain_Empty : Chain {
    public Chain_Empty() : base() {
    }
    public override _IChain DowncastClone() {
      if (this is _IChain dt) { return dt; }
      return new Chain_Empty();
    }
    public override bool Equals(object other) {
      var oth = other as Std.JSON.Utils.Views.Writers.Chain_Empty;
      return oth != null;
    }
    public override int GetHashCode() {
      ulong hash = 5381;
      hash = ((hash << 5) + hash) + 0;
      return (int) hash;
    }
    public override string ToString() {
      string s = "Writers.Chain.Empty";
      return s;
    }
  }
  public class Chain_Chain : Chain {
    public readonly Std.JSON.Utils.Views.Writers._IChain _previous;
    public readonly Std.JSON.Utils.Views.Core._IView__ _v;
    public Chain_Chain(Std.JSON.Utils.Views.Writers._IChain previous, Std.JSON.Utils.Views.Core._IView__ v) : base() {
      this._previous = previous;
      this._v = v;
    }
    public override _IChain DowncastClone() {
      if (this is _IChain dt) { return dt; }
      return new Chain_Chain(_previous, _v);
    }
    public override bool Equals(object other) {
      var oth = other as Std.JSON.Utils.Views.Writers.Chain_Chain;
      return oth != null && object.Equals(this._previous, oth._previous) && object.Equals(this._v, oth._v);
    }
    public override int GetHashCode() {
      ulong hash = 5381;
      hash = ((hash << 5) + hash) + 1;
      hash = ((hash << 5) + hash) + ((ulong)Dafny.Helpers.GetHashCode(this._previous));
      hash = ((hash << 5) + hash) + ((ulong)Dafny.Helpers.GetHashCode(this._v));
      return (int) hash;
    }
    public override string ToString() {
      string s = "Writers.Chain.Chain";
      s += "(";
      s += Dafny.Helpers.ToString(this._previous);
      s += ", ";
      s += Dafny.Helpers.ToString(this._v);
      s += ")";
      return s;
    }
  }

  public partial class Writer {
    private static readonly Std.JSON.Utils.Views.Writers._IWriter__ Witness = Std.JSON.Utils.Views.Writers.Writer__.create(0U, Std.JSON.Utils.Views.Writers.Chain.create_Empty());
    public static Std.JSON.Utils.Views.Writers._IWriter__ Default() {
      return Witness;
    }
    private static readonly Dafny.TypeDescriptor<Std.JSON.Utils.Views.Writers._IWriter__> _TYPE = new Dafny.TypeDescriptor<Std.JSON.Utils.Views.Writers._IWriter__>(Std.JSON.Utils.Views.Writers.Writer.Default());
    public static Dafny.TypeDescriptor<Std.JSON.Utils.Views.Writers._IWriter__> _TypeDescriptor() {
      return _TYPE;
    }
  }

  public interface _IWriter__ {
    bool is_Writer { get; }
    uint dtor_length { get; }
    Std.JSON.Utils.Views.Writers._IChain dtor_chain { get; }
    _IWriter__ DowncastClone();
    bool Empty_q { get; }
    bool Unsaturated_q { get; }
    Dafny.ISequence<byte> Bytes();
    Std.JSON.Utils.Views.Writers._IWriter__ Append(Std.JSON.Utils.Views.Core._IView__ v_k);
    Std.JSON.Utils.Views.Writers._IWriter__ Then(Func<Std.JSON.Utils.Views.Writers._IWriter__, Std.JSON.Utils.Views.Writers._IWriter__> fn);
    void CopyTo(byte[] dest);
    byte[] ToArray();
  }
  public class Writer__ : _IWriter__ {
    public readonly uint _length;
    public readonly Std.JSON.Utils.Views.Writers._IChain _chain;
    public Writer__(uint length, Std.JSON.Utils.Views.Writers._IChain chain) {
      this._length = length;
      this._chain = chain;
    }
    public _IWriter__ DowncastClone() {
      if (this is _IWriter__ dt) { return dt; }
      return new Writer__(_length, _chain);
    }
    public override bool Equals(object other) {
      var oth = other as Std.JSON.Utils.Views.Writers.Writer__;
      return oth != null && this._length == oth._length && object.Equals(this._chain, oth._chain);
    }
    public override int GetHashCode() {
      ulong hash = 5381;
      hash = ((hash << 5) + hash) + 0;
      hash = ((hash << 5) + hash) + ((ulong)Dafny.Helpers.GetHashCode(this._length));
      hash = ((hash << 5) + hash) + ((ulong)Dafny.Helpers.GetHashCode(this._chain));
      return (int) hash;
    }
    public override string ToString() {
      string s = "Writers.Writer_.Writer";
      s += "(";
      s += Dafny.Helpers.ToString(this._length);
      s += ", ";
      s += Dafny.Helpers.ToString(this._chain);
      s += ")";
      return s;
    }
    private static readonly Std.JSON.Utils.Views.Writers._IWriter__ theDefault = create(0, Std.JSON.Utils.Views.Writers.Chain.Default());
    public static Std.JSON.Utils.Views.Writers._IWriter__ Default() {
      return theDefault;
    }
    private static readonly Dafny.TypeDescriptor<Std.JSON.Utils.Views.Writers._IWriter__> _TYPE = new Dafny.TypeDescriptor<Std.JSON.Utils.Views.Writers._IWriter__>(Std.JSON.Utils.Views.Writers.Writer__.Default());
    public static Dafny.TypeDescriptor<Std.JSON.Utils.Views.Writers._IWriter__> _TypeDescriptor() {
      return _TYPE;
    }
    public static _IWriter__ create(uint length, Std.JSON.Utils.Views.Writers._IChain chain) {
      return new Writer__(length, chain);
    }
    public static _IWriter__ create_Writer(uint length, Std.JSON.Utils.Views.Writers._IChain chain) {
      return create(length, chain);
    }
    public bool is_Writer { get { return true; } }
    public uint dtor_length {
      get {
        return this._length;
      }
    }
    public Std.JSON.Utils.Views.Writers._IChain dtor_chain {
      get {
        return this._chain;
      }
    }
    public Dafny.ISequence<byte> Bytes() {
      return ((this).dtor_chain).Bytes();
    }
    public static uint SaturatedAddU32(uint a, uint b)
    {
      if ((a) <= ((Std.BoundedInts.__default.UINT32__MAX) - (b))) {
        return (a) + (b);
      } else {
        return Std.BoundedInts.__default.UINT32__MAX;
      }
    }
    public Std.JSON.Utils.Views.Writers._IWriter__ Append(Std.JSON.Utils.Views.Core._IView__ v_k) {
      return Std.JSON.Utils.Views.Writers.Writer__.create(Std.JSON.Utils.Views.Writers.Writer__.SaturatedAddU32((this).dtor_length, (v_k).Length()), ((this).dtor_chain).Append(v_k));
    }
    public Std.JSON.Utils.Views.Writers._IWriter__ Then(Func<Std.JSON.Utils.Views.Writers._IWriter__, Std.JSON.Utils.Views.Writers._IWriter__> fn) {
      return Dafny.Helpers.Id<Func<Std.JSON.Utils.Views.Writers._IWriter__, Std.JSON.Utils.Views.Writers._IWriter__>>(fn)(this);
    }
    public void CopyTo(byte[] dest)
    {
      ((this).dtor_chain).CopyTo(dest, (this).dtor_length);
    }
    public byte[] ToArray()
    {
      byte[] bs = new byte[0];
      Func<BigInteger, byte> _init0 = ((System.Func<BigInteger, byte>)((_0_i) => {
        return (byte)(0);
      }));
      byte[] _nw0 = new byte[Dafny.Helpers.ToIntChecked((this).dtor_length, "array size exceeds memory limit")];
      for (var _i0_0 = 0; _i0_0 < new BigInteger(_nw0.Length); _i0_0++) {
        _nw0[(int)(_i0_0)] = _init0(_i0_0);
      }
      bs = _nw0;
      (this).CopyTo(bs);
      return bs;
    }
    public static Std.JSON.Utils.Views.Writers._IWriter__ Empty { get {
      return Std.JSON.Utils.Views.Writers.Writer__.create(0U, Std.JSON.Utils.Views.Writers.Chain.create_Empty());
    } }
    public bool Unsaturated_q { get {
      return ((this).dtor_length) != (Std.BoundedInts.__default.UINT32__MAX);
    } }
    public bool Empty_q { get {
      return ((this).dtor_chain).is_Empty;
    } }
  }
} // end of namespace Std.JSON.Utils.Views.Writers
namespace Std.JSON.Utils.Lexers.Core {


  public interface _ILexerResult<out T, out R> {
    bool is_Accept { get; }
    bool is_Reject { get; }
    bool is_Partial { get; }
    R dtor_err { get; }
    T dtor_st { get; }
    _ILexerResult<__T, __R> DowncastClone<__T, __R>(Func<T, __T> converter0, Func<R, __R> converter1);
  }
  public abstract class LexerResult<T, R> : _ILexerResult<T, R> {
    public LexerResult() {
    }
    public static Std.JSON.Utils.Lexers.Core._ILexerResult<T, R> Default() {
      return create_Accept();
    }
    public static Dafny.TypeDescriptor<Std.JSON.Utils.Lexers.Core._ILexerResult<T, R>> _TypeDescriptor() {
      return new Dafny.TypeDescriptor<Std.JSON.Utils.Lexers.Core._ILexerResult<T, R>>(Std.JSON.Utils.Lexers.Core.LexerResult<T, R>.Default());
    }
    public static _ILexerResult<T, R> create_Accept() {
      return new LexerResult_Accept<T, R>();
    }
    public static _ILexerResult<T, R> create_Reject(R err) {
      return new LexerResult_Reject<T, R>(err);
    }
    public static _ILexerResult<T, R> create_Partial(T st) {
      return new LexerResult_Partial<T, R>(st);
    }
    public bool is_Accept { get { return this is LexerResult_Accept<T, R>; } }
    public bool is_Reject { get { return this is LexerResult_Reject<T, R>; } }
    public bool is_Partial { get { return this is LexerResult_Partial<T, R>; } }
    public R dtor_err {
      get {
        var d = this;
        return ((LexerResult_Reject<T, R>)d)._err;
      }
    }
    public T dtor_st {
      get {
        var d = this;
        return ((LexerResult_Partial<T, R>)d)._st;
      }
    }
    public abstract _ILexerResult<__T, __R> DowncastClone<__T, __R>(Func<T, __T> converter0, Func<R, __R> converter1);
  }
  public class LexerResult_Accept<T, R> : LexerResult<T, R> {
    public LexerResult_Accept() : base() {
    }
    public override _ILexerResult<__T, __R> DowncastClone<__T, __R>(Func<T, __T> converter0, Func<R, __R> converter1) {
      if (this is _ILexerResult<__T, __R> dt) { return dt; }
      return new LexerResult_Accept<__T, __R>();
    }
    public override bool Equals(object other) {
      var oth = other as Std.JSON.Utils.Lexers.Core.LexerResult_Accept<T, R>;
      return oth != null;
    }
    public override int GetHashCode() {
      ulong hash = 5381;
      hash = ((hash << 5) + hash) + 0;
      return (int) hash;
    }
    public override string ToString() {
      string s = "Core.LexerResult.Accept";
      return s;
    }
  }
  public class LexerResult_Reject<T, R> : LexerResult<T, R> {
    public readonly R _err;
    public LexerResult_Reject(R err) : base() {
      this._err = err;
    }
    public override _ILexerResult<__T, __R> DowncastClone<__T, __R>(Func<T, __T> converter0, Func<R, __R> converter1) {
      if (this is _ILexerResult<__T, __R> dt) { return dt; }
      return new LexerResult_Reject<__T, __R>(converter1(_err));
    }
    public override bool Equals(object other) {
      var oth = other as Std.JSON.Utils.Lexers.Core.LexerResult_Reject<T, R>;
      return oth != null && object.Equals(this._err, oth._err);
    }
    public override int GetHashCode() {
      ulong hash = 5381;
      hash = ((hash << 5) + hash) + 1;
      hash = ((hash << 5) + hash) + ((ulong)Dafny.Helpers.GetHashCode(this._err));
      return (int) hash;
    }
    public override string ToString() {
      string s = "Core.LexerResult.Reject";
      s += "(";
      s += Dafny.Helpers.ToString(this._err);
      s += ")";
      return s;
    }
  }
  public class LexerResult_Partial<T, R> : LexerResult<T, R> {
    public readonly T _st;
    public LexerResult_Partial(T st) : base() {
      this._st = st;
    }
    public override _ILexerResult<__T, __R> DowncastClone<__T, __R>(Func<T, __T> converter0, Func<R, __R> converter1) {
      if (this is _ILexerResult<__T, __R> dt) { return dt; }
      return new LexerResult_Partial<__T, __R>(converter0(_st));
    }
    public override bool Equals(object other) {
      var oth = other as Std.JSON.Utils.Lexers.Core.LexerResult_Partial<T, R>;
      return oth != null && object.Equals(this._st, oth._st);
    }
    public override int GetHashCode() {
      ulong hash = 5381;
      hash = ((hash << 5) + hash) + 2;
      hash = ((hash << 5) + hash) + ((ulong)Dafny.Helpers.GetHashCode(this._st));
      return (int) hash;
    }
    public override string ToString() {
      string s = "Core.LexerResult.Partial";
      s += "(";
      s += Dafny.Helpers.ToString(this._st);
      s += ")";
      return s;
    }
  }
} // end of namespace Std.JSON.Utils.Lexers.Core
namespace Std.JSON.Utils.Lexers.Strings {

  public partial class __default {
    public static Std.JSON.Utils.Lexers.Core._ILexerResult<bool, __R> StringBody<__R>(bool escaped, short @byte)
    {
      if ((@byte) == ((short)((new Dafny.Rune('\\')).Value))) {
        return Std.JSON.Utils.Lexers.Core.LexerResult<bool, __R>.create_Partial(!(escaped));
      } else if (((@byte) == ((short)((new Dafny.Rune('\"')).Value))) && (!(escaped))) {
        return Std.JSON.Utils.Lexers.Core.LexerResult<bool, __R>.create_Accept();
      } else {
        return Std.JSON.Utils.Lexers.Core.LexerResult<bool, __R>.create_Partial(false);
      }
    }
    public static Std.JSON.Utils.Lexers.Core._ILexerResult<Std.JSON.Utils.Lexers.Strings._IStringLexerState, Dafny.ISequence<Dafny.Rune>> String(Std.JSON.Utils.Lexers.Strings._IStringLexerState st, short @byte)
    {
      Std.JSON.Utils.Lexers.Strings._IStringLexerState _source0 = st;
      {
        if (_source0.is_Start) {
          if ((@byte) == ((short)((new Dafny.Rune('\"')).Value))) {
            return Std.JSON.Utils.Lexers.Core.LexerResult<Std.JSON.Utils.Lexers.Strings._IStringLexerState, Dafny.ISequence<Dafny.Rune>>.create_Partial(Std.JSON.Utils.Lexers.Strings.StringLexerState.create_Body(false));
          } else {
            return Std.JSON.Utils.Lexers.Core.LexerResult<Std.JSON.Utils.Lexers.Strings._IStringLexerState, Dafny.ISequence<Dafny.Rune>>.create_Reject(Dafny.Sequence<Dafny.Rune>.UnicodeFromString("String must start with double quote"));
          }
        }
      }
      {
        if (_source0.is_End) {
          return Std.JSON.Utils.Lexers.Core.LexerResult<Std.JSON.Utils.Lexers.Strings._IStringLexerState, Dafny.ISequence<Dafny.Rune>>.create_Accept();
        }
      }
      {
        bool _0_escaped = _source0.dtor_escaped;
        if ((@byte) == ((short)((new Dafny.Rune('\\')).Value))) {
          return Std.JSON.Utils.Lexers.Core.LexerResult<Std.JSON.Utils.Lexers.Strings._IStringLexerState, Dafny.ISequence<Dafny.Rune>>.create_Partial(Std.JSON.Utils.Lexers.Strings.StringLexerState.create_Body(!(_0_escaped)));
        } else if (((@byte) == ((short)((new Dafny.Rune('\"')).Value))) && (!(_0_escaped))) {
          return Std.JSON.Utils.Lexers.Core.LexerResult<Std.JSON.Utils.Lexers.Strings._IStringLexerState, Dafny.ISequence<Dafny.Rune>>.create_Partial(Std.JSON.Utils.Lexers.Strings.StringLexerState.create_End());
        } else {
          return Std.JSON.Utils.Lexers.Core.LexerResult<Std.JSON.Utils.Lexers.Strings._IStringLexerState, Dafny.ISequence<Dafny.Rune>>.create_Partial(Std.JSON.Utils.Lexers.Strings.StringLexerState.create_Body(false));
        }
      }
    }
    public static bool StringBodyLexerStart { get {
      return false;
    } }
    public static Std.JSON.Utils.Lexers.Strings._IStringLexerState StringLexerStart { get {
      return Std.JSON.Utils.Lexers.Strings.StringLexerState.create_Start();
    } }
  }

  public interface _IStringLexerState {
    bool is_Start { get; }
    bool is_Body { get; }
    bool is_End { get; }
    bool dtor_escaped { get; }
    _IStringLexerState DowncastClone();
  }
  public abstract class StringLexerState : _IStringLexerState {
    public StringLexerState() {
    }
    private static readonly Std.JSON.Utils.Lexers.Strings._IStringLexerState theDefault = create_Start();
    public static Std.JSON.Utils.Lexers.Strings._IStringLexerState Default() {
      return theDefault;
    }
    private static readonly Dafny.TypeDescriptor<Std.JSON.Utils.Lexers.Strings._IStringLexerState> _TYPE = new Dafny.TypeDescriptor<Std.JSON.Utils.Lexers.Strings._IStringLexerState>(Std.JSON.Utils.Lexers.Strings.StringLexerState.Default());
    public static Dafny.TypeDescriptor<Std.JSON.Utils.Lexers.Strings._IStringLexerState> _TypeDescriptor() {
      return _TYPE;
    }
    public static _IStringLexerState create_Start() {
      return new StringLexerState_Start();
    }
    public static _IStringLexerState create_Body(bool escaped) {
      return new StringLexerState_Body(escaped);
    }
    public static _IStringLexerState create_End() {
      return new StringLexerState_End();
    }
    public bool is_Start { get { return this is StringLexerState_Start; } }
    public bool is_Body { get { return this is StringLexerState_Body; } }
    public bool is_End { get { return this is StringLexerState_End; } }
    public bool dtor_escaped {
      get {
        var d = this;
        return ((StringLexerState_Body)d)._escaped;
      }
    }
    public abstract _IStringLexerState DowncastClone();
  }
  public class StringLexerState_Start : StringLexerState {
    public StringLexerState_Start() : base() {
    }
    public override _IStringLexerState DowncastClone() {
      if (this is _IStringLexerState dt) { return dt; }
      return new StringLexerState_Start();
    }
    public override bool Equals(object other) {
      var oth = other as Std.JSON.Utils.Lexers.Strings.StringLexerState_Start;
      return oth != null;
    }
    public override int GetHashCode() {
      ulong hash = 5381;
      hash = ((hash << 5) + hash) + 0;
      return (int) hash;
    }
    public override string ToString() {
      string s = "Strings.StringLexerState.Start";
      return s;
    }
  }
  public class StringLexerState_Body : StringLexerState {
    public readonly bool _escaped;
    public StringLexerState_Body(bool escaped) : base() {
      this._escaped = escaped;
    }
    public override _IStringLexerState DowncastClone() {
      if (this is _IStringLexerState dt) { return dt; }
      return new StringLexerState_Body(_escaped);
    }
    public override bool Equals(object other) {
      var oth = other as Std.JSON.Utils.Lexers.Strings.StringLexerState_Body;
      return oth != null && this._escaped == oth._escaped;
    }
    public override int GetHashCode() {
      ulong hash = 5381;
      hash = ((hash << 5) + hash) + 1;
      hash = ((hash << 5) + hash) + ((ulong)Dafny.Helpers.GetHashCode(this._escaped));
      return (int) hash;
    }
    public override string ToString() {
      string s = "Strings.StringLexerState.Body";
      s += "(";
      s += Dafny.Helpers.ToString(this._escaped);
      s += ")";
      return s;
    }
  }
  public class StringLexerState_End : StringLexerState {
    public StringLexerState_End() : base() {
    }
    public override _IStringLexerState DowncastClone() {
      if (this is _IStringLexerState dt) { return dt; }
      return new StringLexerState_End();
    }
    public override bool Equals(object other) {
      var oth = other as Std.JSON.Utils.Lexers.Strings.StringLexerState_End;
      return oth != null;
    }
    public override int GetHashCode() {
      ulong hash = 5381;
      hash = ((hash << 5) + hash) + 2;
      return (int) hash;
    }
    public override string ToString() {
      string s = "Strings.StringLexerState.End";
      return s;
    }
  }
} // end of namespace Std.JSON.Utils.Lexers.Strings
namespace Std.JSON.Utils.Lexers {

} // end of namespace Std.JSON.Utils.Lexers
namespace Std.JSON.Utils.Cursors {


  public interface _ISplit<out T> {
    bool is_SP { get; }
    T dtor_t { get; }
    Std.JSON.Utils.Cursors._ICursor__ dtor_cs { get; }
    _ISplit<__T> DowncastClone<__T>(Func<T, __T> converter0);
  }
  public class Split<T> : _ISplit<T> {
    public readonly T _t;
    public readonly Std.JSON.Utils.Cursors._ICursor__ _cs;
    public Split(T t, Std.JSON.Utils.Cursors._ICursor__ cs) {
      this._t = t;
      this._cs = cs;
    }
    public _ISplit<__T> DowncastClone<__T>(Func<T, __T> converter0) {
      if (this is _ISplit<__T> dt) { return dt; }
      return new Split<__T>(converter0(_t), _cs);
    }
    public override bool Equals(object other) {
      var oth = other as Std.JSON.Utils.Cursors.Split<T>;
      return oth != null && object.Equals(this._t, oth._t) && object.Equals(this._cs, oth._cs);
    }
    public override int GetHashCode() {
      ulong hash = 5381;
      hash = ((hash << 5) + hash) + 0;
      hash = ((hash << 5) + hash) + ((ulong)Dafny.Helpers.GetHashCode(this._t));
      hash = ((hash << 5) + hash) + ((ulong)Dafny.Helpers.GetHashCode(this._cs));
      return (int) hash;
    }
    public override string ToString() {
      string s = "Cursors.Split.SP";
      s += "(";
      s += Dafny.Helpers.ToString(this._t);
      s += ", ";
      s += Dafny.Helpers.ToString(this._cs);
      s += ")";
      return s;
    }
    public static Std.JSON.Utils.Cursors._ISplit<T> Default(T _default_T) {
      return create(_default_T, Std.JSON.Utils.Cursors.FreshCursor.Default());
    }
    public static Dafny.TypeDescriptor<Std.JSON.Utils.Cursors._ISplit<T>> _TypeDescriptor(Dafny.TypeDescriptor<T> _td_T) {
      return new Dafny.TypeDescriptor<Std.JSON.Utils.Cursors._ISplit<T>>(Std.JSON.Utils.Cursors.Split<T>.Default(_td_T.Default()));
    }
    public static _ISplit<T> create(T t, Std.JSON.Utils.Cursors._ICursor__ cs) {
      return new Split<T>(t, cs);
    }
    public static _ISplit<T> create_SP(T t, Std.JSON.Utils.Cursors._ICursor__ cs) {
      return create(t, cs);
    }
    public bool is_SP { get { return true; } }
    public T dtor_t {
      get {
        return this._t;
      }
    }
    public Std.JSON.Utils.Cursors._ICursor__ dtor_cs {
      get {
        return this._cs;
      }
    }
  }

  public partial class Cursor {
    private static readonly Std.JSON.Utils.Cursors._ICursor__ Witness = Std.JSON.Utils.Cursors.Cursor__.create(Dafny.Sequence<byte>.FromElements(), 0U, 0U, 0U);
    public static Std.JSON.Utils.Cursors._ICursor__ Default() {
      return Witness;
    }
    private static readonly Dafny.TypeDescriptor<Std.JSON.Utils.Cursors._ICursor__> _TYPE = new Dafny.TypeDescriptor<Std.JSON.Utils.Cursors._ICursor__>(Std.JSON.Utils.Cursors.Cursor.Default());
    public static Dafny.TypeDescriptor<Std.JSON.Utils.Cursors._ICursor__> _TypeDescriptor() {
      return _TYPE;
    }
  }

  public partial class FreshCursor {
    private static readonly Std.JSON.Utils.Cursors._ICursor__ Witness = Std.JSON.Utils.Cursors.Cursor__.create(Dafny.Sequence<byte>.FromElements(), 0U, 0U, 0U);
    public static Std.JSON.Utils.Cursors._ICursor__ Default() {
      return Witness;
    }
    private static readonly Dafny.TypeDescriptor<Std.JSON.Utils.Cursors._ICursor__> _TYPE = new Dafny.TypeDescriptor<Std.JSON.Utils.Cursors._ICursor__>(Std.JSON.Utils.Cursors.FreshCursor.Default());
    public static Dafny.TypeDescriptor<Std.JSON.Utils.Cursors._ICursor__> _TypeDescriptor() {
      return _TYPE;
    }
  }

  public interface _ICursorError<out R> {
    bool is_EOF { get; }
    bool is_ExpectingByte { get; }
    bool is_ExpectingAnyByte { get; }
    bool is_OtherError { get; }
    byte dtor_expected { get; }
    short dtor_b { get; }
    Dafny.ISequence<byte> dtor_expected__sq { get; }
    R dtor_err { get; }
    _ICursorError<__R> DowncastClone<__R>(Func<R, __R> converter0);
  }
  public abstract class CursorError<R> : _ICursorError<R> {
    public CursorError() {
    }
    public static Std.JSON.Utils.Cursors._ICursorError<R> Default() {
      return create_EOF();
    }
    public static Dafny.TypeDescriptor<Std.JSON.Utils.Cursors._ICursorError<R>> _TypeDescriptor() {
      return new Dafny.TypeDescriptor<Std.JSON.Utils.Cursors._ICursorError<R>>(Std.JSON.Utils.Cursors.CursorError<R>.Default());
    }
    public static _ICursorError<R> create_EOF() {
      return new CursorError_EOF<R>();
    }
    public static _ICursorError<R> create_ExpectingByte(byte expected, short b) {
      return new CursorError_ExpectingByte<R>(expected, b);
    }
    public static _ICursorError<R> create_ExpectingAnyByte(Dafny.ISequence<byte> expected__sq, short b) {
      return new CursorError_ExpectingAnyByte<R>(expected__sq, b);
    }
    public static _ICursorError<R> create_OtherError(R err) {
      return new CursorError_OtherError<R>(err);
    }
    public bool is_EOF { get { return this is CursorError_EOF<R>; } }
    public bool is_ExpectingByte { get { return this is CursorError_ExpectingByte<R>; } }
    public bool is_ExpectingAnyByte { get { return this is CursorError_ExpectingAnyByte<R>; } }
    public bool is_OtherError { get { return this is CursorError_OtherError<R>; } }
    public byte dtor_expected {
      get {
        var d = this;
        return ((CursorError_ExpectingByte<R>)d)._expected;
      }
    }
    public short dtor_b {
      get {
        var d = this;
        if (d is CursorError_ExpectingByte<R>) { return ((CursorError_ExpectingByte<R>)d)._b; }
        return ((CursorError_ExpectingAnyByte<R>)d)._b;
      }
    }
    public Dafny.ISequence<byte> dtor_expected__sq {
      get {
        var d = this;
        return ((CursorError_ExpectingAnyByte<R>)d)._expected__sq;
      }
    }
    public R dtor_err {
      get {
        var d = this;
        return ((CursorError_OtherError<R>)d)._err;
      }
    }
    public abstract _ICursorError<__R> DowncastClone<__R>(Func<R, __R> converter0);
    public static Dafny.ISequence<Dafny.Rune> _ToString(Std.JSON.Utils.Cursors._ICursorError<R> _this, Func<R, Dafny.ISequence<Dafny.Rune>> pr) {
      Std.JSON.Utils.Cursors._ICursorError<R> _source0 = _this;
      {
        if (_source0.is_EOF) {
          return Dafny.Sequence<Dafny.Rune>.UnicodeFromString("Reached EOF");
        }
      }
      {
        if (_source0.is_ExpectingByte) {
          byte _0_b0 = _source0.dtor_expected;
          short _1_b = _source0.dtor_b;
          Dafny.ISequence<Dafny.Rune> _2_c = (((_1_b) > ((short)(0))) ? (Dafny.Sequence<Dafny.Rune>.Concat(Dafny.Sequence<Dafny.Rune>.Concat(Dafny.Sequence<Dafny.Rune>.UnicodeFromString("'"), Dafny.Sequence<Dafny.Rune>.FromElements(new Dafny.Rune((int)(_1_b)))), Dafny.Sequence<Dafny.Rune>.UnicodeFromString("'"))) : (Dafny.Sequence<Dafny.Rune>.UnicodeFromString("EOF")));
          return Dafny.Sequence<Dafny.Rune>.Concat(Dafny.Sequence<Dafny.Rune>.Concat(Dafny.Sequence<Dafny.Rune>.Concat(Dafny.Sequence<Dafny.Rune>.UnicodeFromString("Expecting '"), Dafny.Sequence<Dafny.Rune>.FromElements(new Dafny.Rune((int)(_0_b0)))), Dafny.Sequence<Dafny.Rune>.UnicodeFromString("', read ")), _2_c);
        }
      }
      {
        if (_source0.is_ExpectingAnyByte) {
          Dafny.ISequence<byte> _3_bs0 = _source0.dtor_expected__sq;
          short _4_b = _source0.dtor_b;
          Dafny.ISequence<Dafny.Rune> _5_c = (((_4_b) > ((short)(0))) ? (Dafny.Sequence<Dafny.Rune>.Concat(Dafny.Sequence<Dafny.Rune>.Concat(Dafny.Sequence<Dafny.Rune>.UnicodeFromString("'"), Dafny.Sequence<Dafny.Rune>.FromElements(new Dafny.Rune((int)(_4_b)))), Dafny.Sequence<Dafny.Rune>.UnicodeFromString("'"))) : (Dafny.Sequence<Dafny.Rune>.UnicodeFromString("EOF")));
          Dafny.ISequence<Dafny.Rune> _6_c0s = ((System.Func<Dafny.ISequence<Dafny.Rune>>) (() => {
            BigInteger dim11 = new BigInteger((_3_bs0).Count);
            var arr11 = new Dafny.Rune[Dafny.Helpers.ToIntChecked(dim11, "array size exceeds memory limit")];
            for (int i11 = 0; i11 < dim11; i11++) {
              var _7_idx = (BigInteger) i11;
              arr11[(int)(_7_idx)] = new Dafny.Rune((int)((_3_bs0).Select(_7_idx)));
            }
            return Dafny.Sequence<Dafny.Rune>.FromArray(arr11);
          }))();
          return Dafny.Sequence<Dafny.Rune>.Concat(Dafny.Sequence<Dafny.Rune>.Concat(Dafny.Sequence<Dafny.Rune>.Concat(Dafny.Sequence<Dafny.Rune>.UnicodeFromString("Expecting one of '"), _6_c0s), Dafny.Sequence<Dafny.Rune>.UnicodeFromString("', read ")), _5_c);
        }
      }
      {
        R _8_err = _source0.dtor_err;
        return Dafny.Helpers.Id<Func<R, Dafny.ISequence<Dafny.Rune>>>(pr)(_8_err);
      }
    }
  }
  public class CursorError_EOF<R> : CursorError<R> {
    public CursorError_EOF() : base() {
    }
    public override _ICursorError<__R> DowncastClone<__R>(Func<R, __R> converter0) {
      if (this is _ICursorError<__R> dt) { return dt; }
      return new CursorError_EOF<__R>();
    }
    public override bool Equals(object other) {
      var oth = other as Std.JSON.Utils.Cursors.CursorError_EOF<R>;
      return oth != null;
    }
    public override int GetHashCode() {
      ulong hash = 5381;
      hash = ((hash << 5) + hash) + 0;
      return (int) hash;
    }
    public override string ToString() {
      string s = "Cursors.CursorError.EOF";
      return s;
    }
  }
  public class CursorError_ExpectingByte<R> : CursorError<R> {
    public readonly byte _expected;
    public readonly short _b;
    public CursorError_ExpectingByte(byte expected, short b) : base() {
      this._expected = expected;
      this._b = b;
    }
    public override _ICursorError<__R> DowncastClone<__R>(Func<R, __R> converter0) {
      if (this is _ICursorError<__R> dt) { return dt; }
      return new CursorError_ExpectingByte<__R>(_expected, _b);
    }
    public override bool Equals(object other) {
      var oth = other as Std.JSON.Utils.Cursors.CursorError_ExpectingByte<R>;
      return oth != null && this._expected == oth._expected && this._b == oth._b;
    }
    public override int GetHashCode() {
      ulong hash = 5381;
      hash = ((hash << 5) + hash) + 1;
      hash = ((hash << 5) + hash) + ((ulong)Dafny.Helpers.GetHashCode(this._expected));
      hash = ((hash << 5) + hash) + ((ulong)Dafny.Helpers.GetHashCode(this._b));
      return (int) hash;
    }
    public override string ToString() {
      string s = "Cursors.CursorError.ExpectingByte";
      s += "(";
      s += Dafny.Helpers.ToString(this._expected);
      s += ", ";
      s += Dafny.Helpers.ToString(this._b);
      s += ")";
      return s;
    }
  }
  public class CursorError_ExpectingAnyByte<R> : CursorError<R> {
    public readonly Dafny.ISequence<byte> _expected__sq;
    public readonly short _b;
    public CursorError_ExpectingAnyByte(Dafny.ISequence<byte> expected__sq, short b) : base() {
      this._expected__sq = expected__sq;
      this._b = b;
    }
    public override _ICursorError<__R> DowncastClone<__R>(Func<R, __R> converter0) {
      if (this is _ICursorError<__R> dt) { return dt; }
      return new CursorError_ExpectingAnyByte<__R>(_expected__sq, _b);
    }
    public override bool Equals(object other) {
      var oth = other as Std.JSON.Utils.Cursors.CursorError_ExpectingAnyByte<R>;
      return oth != null && object.Equals(this._expected__sq, oth._expected__sq) && this._b == oth._b;
    }
    public override int GetHashCode() {
      ulong hash = 5381;
      hash = ((hash << 5) + hash) + 2;
      hash = ((hash << 5) + hash) + ((ulong)Dafny.Helpers.GetHashCode(this._expected__sq));
      hash = ((hash << 5) + hash) + ((ulong)Dafny.Helpers.GetHashCode(this._b));
      return (int) hash;
    }
    public override string ToString() {
      string s = "Cursors.CursorError.ExpectingAnyByte";
      s += "(";
      s += Dafny.Helpers.ToString(this._expected__sq);
      s += ", ";
      s += Dafny.Helpers.ToString(this._b);
      s += ")";
      return s;
    }
  }
  public class CursorError_OtherError<R> : CursorError<R> {
    public readonly R _err;
    public CursorError_OtherError(R err) : base() {
      this._err = err;
    }
    public override _ICursorError<__R> DowncastClone<__R>(Func<R, __R> converter0) {
      if (this is _ICursorError<__R> dt) { return dt; }
      return new CursorError_OtherError<__R>(converter0(_err));
    }
    public override bool Equals(object other) {
      var oth = other as Std.JSON.Utils.Cursors.CursorError_OtherError<R>;
      return oth != null && object.Equals(this._err, oth._err);
    }
    public override int GetHashCode() {
      ulong hash = 5381;
      hash = ((hash << 5) + hash) + 3;
      hash = ((hash << 5) + hash) + ((ulong)Dafny.Helpers.GetHashCode(this._err));
      return (int) hash;
    }
    public override string ToString() {
      string s = "Cursors.CursorError.OtherError";
      s += "(";
      s += Dafny.Helpers.ToString(this._err);
      s += ")";
      return s;
    }
  }

  public interface _ICursor__ {
    bool is_Cursor { get; }
    Dafny.ISequence<byte> dtor_s { get; }
    uint dtor_beg { get; }
    uint dtor_point { get; }
    uint dtor_end { get; }
    _ICursor__ DowncastClone();
    bool BOF_q { get; }
    bool EOF_q { get; }
    Dafny.ISequence<byte> Bytes();
    Std.JSON.Utils.Views.Core._IView__ Prefix();
    Std.JSON.Utils.Cursors._ICursor__ Suffix();
    Std.JSON.Utils.Cursors._ISplit<Std.JSON.Utils.Views.Core._IView__> Split();
    uint PrefixLength();
    uint SuffixLength();
    uint Length();
    byte At(uint idx);
    byte SuffixAt(uint idx);
    short Peek();
    bool LookingAt(Dafny.Rune c);
    Std.JSON.Utils.Cursors._ICursor__ Skip(uint n);
    Std.JSON.Utils.Cursors._ICursor__ Unskip(uint n);
    Std.Wrappers._IResult<Std.JSON.Utils.Cursors._ICursor__, Std.JSON.Utils.Cursors._ICursorError<__R>> Get<__R>(__R err);
    Std.Wrappers._IResult<Std.JSON.Utils.Cursors._ICursor__, Std.JSON.Utils.Cursors._ICursorError<__R>> AssertByte<__R>(byte b);
    Std.Wrappers._IResult<Std.JSON.Utils.Cursors._ICursor__, Std.JSON.Utils.Cursors._ICursorError<__R>> AssertBytes<__R>(Dafny.ISequence<byte> bs, uint offset);
    Std.Wrappers._IResult<Std.JSON.Utils.Cursors._ICursor__, Std.JSON.Utils.Cursors._ICursorError<__R>> AssertChar<__R>(Dafny.Rune c0);
    Std.JSON.Utils.Cursors._ICursor__ SkipByte();
    Std.JSON.Utils.Cursors._ICursor__ SkipIf(Func<byte, bool> p);
    Std.JSON.Utils.Cursors._ICursor__ SkipWhile(Func<byte, bool> p);
    Std.Wrappers._IResult<Std.JSON.Utils.Cursors._ICursor__, Std.JSON.Utils.Cursors._ICursorError<__R>> SkipWhileLexer<__A, __R>(Func<__A, short, Std.JSON.Utils.Lexers.Core._ILexerResult<__A, __R>> step, __A st);
  }
  public class Cursor__ : _ICursor__ {
    public readonly Dafny.ISequence<byte> _s;
    public readonly uint _beg;
    public readonly uint _point;
    public readonly uint _end;
    public Cursor__(Dafny.ISequence<byte> s, uint beg, uint point, uint end) {
      this._s = s;
      this._beg = beg;
      this._point = point;
      this._end = end;
    }
    public _ICursor__ DowncastClone() {
      if (this is _ICursor__ dt) { return dt; }
      return new Cursor__(_s, _beg, _point, _end);
    }
    public override bool Equals(object other) {
      var oth = other as Std.JSON.Utils.Cursors.Cursor__;
      return oth != null && object.Equals(this._s, oth._s) && this._beg == oth._beg && this._point == oth._point && this._end == oth._end;
    }
    public override int GetHashCode() {
      ulong hash = 5381;
      hash = ((hash << 5) + hash) + 0;
      hash = ((hash << 5) + hash) + ((ulong)Dafny.Helpers.GetHashCode(this._s));
      hash = ((hash << 5) + hash) + ((ulong)Dafny.Helpers.GetHashCode(this._beg));
      hash = ((hash << 5) + hash) + ((ulong)Dafny.Helpers.GetHashCode(this._point));
      hash = ((hash << 5) + hash) + ((ulong)Dafny.Helpers.GetHashCode(this._end));
      return (int) hash;
    }
    public override string ToString() {
      string ss = "Cursors.Cursor_.Cursor";
      ss += "(";
      ss += Dafny.Helpers.ToString(this._s);
      ss += ", ";
      ss += Dafny.Helpers.ToString(this._beg);
      ss += ", ";
      ss += Dafny.Helpers.ToString(this._point);
      ss += ", ";
      ss += Dafny.Helpers.ToString(this._end);
      ss += ")";
      return ss;
    }
    private static readonly Std.JSON.Utils.Cursors._ICursor__ theDefault = create(Dafny.Sequence<byte>.Empty, 0, 0, 0);
    public static Std.JSON.Utils.Cursors._ICursor__ Default() {
      return theDefault;
    }
    private static readonly Dafny.TypeDescriptor<Std.JSON.Utils.Cursors._ICursor__> _TYPE = new Dafny.TypeDescriptor<Std.JSON.Utils.Cursors._ICursor__>(Std.JSON.Utils.Cursors.Cursor__.Default());
    public static Dafny.TypeDescriptor<Std.JSON.Utils.Cursors._ICursor__> _TypeDescriptor() {
      return _TYPE;
    }
    public static _ICursor__ create(Dafny.ISequence<byte> s, uint beg, uint point, uint end) {
      return new Cursor__(s, beg, point, end);
    }
    public static _ICursor__ create_Cursor(Dafny.ISequence<byte> s, uint beg, uint point, uint end) {
      return create(s, beg, point, end);
    }
    public bool is_Cursor { get { return true; } }
    public Dafny.ISequence<byte> dtor_s {
      get {
        return this._s;
      }
    }
    public uint dtor_beg {
      get {
        return this._beg;
      }
    }
    public uint dtor_point {
      get {
        return this._point;
      }
    }
    public uint dtor_end {
      get {
        return this._end;
      }
    }
    public static Std.JSON.Utils.Cursors._ICursor__ OfView(Std.JSON.Utils.Views.Core._IView__ v) {
      return Std.JSON.Utils.Cursors.Cursor__.create((v).dtor_s, (v).dtor_beg, (v).dtor_beg, (v).dtor_end);
    }
    public static Std.JSON.Utils.Cursors._ICursor__ OfBytes(Dafny.ISequence<byte> bs) {
      return Std.JSON.Utils.Cursors.Cursor__.create(bs, 0U, 0U, (uint)(bs).LongCount);
    }
    public Dafny.ISequence<byte> Bytes() {
      return ((this).dtor_s).Subsequence((this).dtor_beg, (this).dtor_end);
    }
    public Std.JSON.Utils.Views.Core._IView__ Prefix() {
      return Std.JSON.Utils.Views.Core.View__.create((this).dtor_s, (this).dtor_beg, (this).dtor_point);
    }
    public Std.JSON.Utils.Cursors._ICursor__ Suffix() {
      Std.JSON.Utils.Cursors._ICursor__ _0_dt__update__tmp_h0 = this;
      uint _1_dt__update_hbeg_h0 = (this).dtor_point;
      return Std.JSON.Utils.Cursors.Cursor__.create((_0_dt__update__tmp_h0).dtor_s, _1_dt__update_hbeg_h0, (_0_dt__update__tmp_h0).dtor_point, (_0_dt__update__tmp_h0).dtor_end);
    }
    public Std.JSON.Utils.Cursors._ISplit<Std.JSON.Utils.Views.Core._IView__> Split() {
      return Std.JSON.Utils.Cursors.Split<Std.JSON.Utils.Views.Core._IView__>.create((this).Prefix(), (this).Suffix());
    }
    public uint PrefixLength() {
      return ((this).dtor_point) - ((this).dtor_beg);
    }
    public uint SuffixLength() {
      return ((this).dtor_end) - ((this).dtor_point);
    }
    public uint Length() {
      return ((this).dtor_end) - ((this).dtor_beg);
    }
    public byte At(uint idx) {
      return ((this).dtor_s).Select(((this).dtor_beg) + (idx));
    }
    public byte SuffixAt(uint idx) {
      return ((this).dtor_s).Select(((this).dtor_point) + (idx));
    }
    public short Peek() {
      if ((this).EOF_q) {
        return (short)(-1);
      } else {
        return (short)((this).SuffixAt(0U));
      }
    }
    public bool LookingAt(Dafny.Rune c) {
      return ((this).Peek()) == ((short)((c).Value));
    }
    public Std.JSON.Utils.Cursors._ICursor__ Skip(uint n) {
      Std.JSON.Utils.Cursors._ICursor__ _0_dt__update__tmp_h0 = this;
      uint _1_dt__update_hpoint_h0 = ((this).dtor_point) + (n);
      return Std.JSON.Utils.Cursors.Cursor__.create((_0_dt__update__tmp_h0).dtor_s, (_0_dt__update__tmp_h0).dtor_beg, _1_dt__update_hpoint_h0, (_0_dt__update__tmp_h0).dtor_end);
    }
    public Std.JSON.Utils.Cursors._ICursor__ Unskip(uint n) {
      Std.JSON.Utils.Cursors._ICursor__ _0_dt__update__tmp_h0 = this;
      uint _1_dt__update_hpoint_h0 = ((this).dtor_point) - (n);
      return Std.JSON.Utils.Cursors.Cursor__.create((_0_dt__update__tmp_h0).dtor_s, (_0_dt__update__tmp_h0).dtor_beg, _1_dt__update_hpoint_h0, (_0_dt__update__tmp_h0).dtor_end);
    }
    public Std.Wrappers._IResult<Std.JSON.Utils.Cursors._ICursor__, Std.JSON.Utils.Cursors._ICursorError<__R>> Get<__R>(__R err) {
      if ((this).EOF_q) {
        return Std.Wrappers.Result<Std.JSON.Utils.Cursors._ICursor__, Std.JSON.Utils.Cursors._ICursorError<__R>>.create_Failure(Std.JSON.Utils.Cursors.CursorError<__R>.create_OtherError(err));
      } else {
        return Std.Wrappers.Result<Std.JSON.Utils.Cursors._ICursor__, Std.JSON.Utils.Cursors._ICursorError<__R>>.create_Success((this).Skip(1U));
      }
    }
    public Std.Wrappers._IResult<Std.JSON.Utils.Cursors._ICursor__, Std.JSON.Utils.Cursors._ICursorError<__R>> AssertByte<__R>(byte b) {
      short _0_nxt = (this).Peek();
      if ((_0_nxt) == ((short)(b))) {
        return Std.Wrappers.Result<Std.JSON.Utils.Cursors._ICursor__, Std.JSON.Utils.Cursors._ICursorError<__R>>.create_Success((this).Skip(1U));
      } else {
        return Std.Wrappers.Result<Std.JSON.Utils.Cursors._ICursor__, Std.JSON.Utils.Cursors._ICursorError<__R>>.create_Failure(Std.JSON.Utils.Cursors.CursorError<__R>.create_ExpectingByte(b, _0_nxt));
      }
    }
    public Std.Wrappers._IResult<Std.JSON.Utils.Cursors._ICursor__, Std.JSON.Utils.Cursors._ICursorError<__R>> AssertBytes<__R>(Dafny.ISequence<byte> bs, uint offset)
    {
      _ICursor__ _this = this;
    TAIL_CALL_START: ;
      if ((offset) == ((uint)(bs).LongCount)) {
        return Std.Wrappers.Result<Std.JSON.Utils.Cursors._ICursor__, Std.JSON.Utils.Cursors._ICursorError<__R>>.create_Success(_this);
      } else {
        Std.Wrappers._IResult<Std.JSON.Utils.Cursors._ICursor__, Std.JSON.Utils.Cursors._ICursorError<__R>> _0_valueOrError0 = (_this).AssertByte<__R>((bs).Select(offset));
        if ((_0_valueOrError0).IsFailure()) {
          return (_0_valueOrError0).PropagateFailure<Std.JSON.Utils.Cursors._ICursor__>();
        } else {
          Std.JSON.Utils.Cursors._ICursor__ _1_ps = (_0_valueOrError0).Extract();
          Std.JSON.Utils.Cursors._ICursor__ _in0 = _1_ps;
          Dafny.ISequence<byte> _in1 = bs;
          uint _in2 = (offset) + (1U);
          _this = _in0;
          ;
          bs = _in1;
          offset = _in2;
          goto TAIL_CALL_START;
        }
      }
    }
    public Std.Wrappers._IResult<Std.JSON.Utils.Cursors._ICursor__, Std.JSON.Utils.Cursors._ICursorError<__R>> AssertChar<__R>(Dafny.Rune c0) {
      return (this).AssertByte<__R>((byte)((c0).Value));
    }
    public Std.JSON.Utils.Cursors._ICursor__ SkipByte() {
      if ((this).EOF_q) {
        return this;
      } else {
        return (this).Skip(1U);
      }
    }
    public Std.JSON.Utils.Cursors._ICursor__ SkipIf(Func<byte, bool> p) {
      if (((this).EOF_q) || (!(Dafny.Helpers.Id<Func<byte, bool>>(p)((this).SuffixAt(0U))))) {
        return this;
      } else {
        return (this).Skip(1U);
      }
    }
    public Std.JSON.Utils.Cursors._ICursor__ SkipWhile(Func<byte, bool> p)
    {
      Std.JSON.Utils.Cursors._ICursor__ ps = Std.JSON.Utils.Cursors.Cursor.Default();
      uint _0_point_k;
      _0_point_k = (this).dtor_point;
      uint _1_end;
      _1_end = (this).dtor_end;
      while (((_0_point_k) < (_1_end)) && (Dafny.Helpers.Id<Func<byte, bool>>(p)(((this).dtor_s).Select(_0_point_k)))) {
        _0_point_k = (_0_point_k) + (1U);
      }
      ps = Std.JSON.Utils.Cursors.Cursor__.create((this).dtor_s, (this).dtor_beg, _0_point_k, (this).dtor_end);
      return ps;
      return ps;
    }
    public Std.Wrappers._IResult<Std.JSON.Utils.Cursors._ICursor__, Std.JSON.Utils.Cursors._ICursorError<__R>> SkipWhileLexer<__A, __R>(Func<__A, short, Std.JSON.Utils.Lexers.Core._ILexerResult<__A, __R>> step, __A st)
    {
      Std.Wrappers._IResult<Std.JSON.Utils.Cursors._ICursor__, Std.JSON.Utils.Cursors._ICursorError<__R>> pr = Std.Wrappers.Result<Std.JSON.Utils.Cursors._ICursor__, Std.JSON.Utils.Cursors._ICursorError<__R>>.Default(Std.JSON.Utils.Cursors.Cursor.Default());
      uint _0_point_k;
      _0_point_k = (this).dtor_point;
      uint _1_end;
      _1_end = (this).dtor_end;
      __A _2_st_k;
      _2_st_k = st;
      while (true) {
        bool _3_eof;
        _3_eof = (_0_point_k) == (_1_end);
        short _4_minusone;
        _4_minusone = (short)(-1);
        short _5_c;
        if (_3_eof) {
          _5_c = _4_minusone;
        } else {
          _5_c = (short)(((this).dtor_s).Select(_0_point_k));
        }
        Std.JSON.Utils.Lexers.Core._ILexerResult<__A, __R> _source0 = Dafny.Helpers.Id<Func<__A, short, Std.JSON.Utils.Lexers.Core._ILexerResult<__A, __R>>>(step)(_2_st_k, _5_c);
        {
          if (_source0.is_Accept) {
            pr = Std.Wrappers.Result<Std.JSON.Utils.Cursors._ICursor__, Std.JSON.Utils.Cursors._ICursorError<__R>>.create_Success(Std.JSON.Utils.Cursors.Cursor__.create((this).dtor_s, (this).dtor_beg, _0_point_k, (this).dtor_end));
            return pr;
            goto after_match0;
          }
        }
        {
          if (_source0.is_Reject) {
            __R _6_err = _source0.dtor_err;
            pr = Std.Wrappers.Result<Std.JSON.Utils.Cursors._ICursor__, Std.JSON.Utils.Cursors._ICursorError<__R>>.create_Failure(Std.JSON.Utils.Cursors.CursorError<__R>.create_OtherError(_6_err));
            return pr;
            goto after_match0;
          }
        }
        {
          __A _7_st_k_k = _source0.dtor_st;
          if (_3_eof) {
            pr = Std.Wrappers.Result<Std.JSON.Utils.Cursors._ICursor__, Std.JSON.Utils.Cursors._ICursorError<__R>>.create_Failure(Std.JSON.Utils.Cursors.CursorError<__R>.create_EOF());
            return pr;
          } else {
            _2_st_k = _7_st_k_k;
            _0_point_k = (_0_point_k) + (1U);
          }
        }
      after_match0: ;
      }
      return pr;
    }
    public bool BOF_q { get {
      return ((this).dtor_point) == ((this).dtor_beg);
    } }
    public bool EOF_q { get {
      return ((this).dtor_point) == ((this).dtor_end);
    } }
  }
} // end of namespace Std.JSON.Utils.Cursors
namespace Std.JSON.Utils.Parsers {

  public partial class __default {
    public static Func<Std.JSON.Utils.Cursors._ICursor__, Std.Wrappers._IResult<Std.JSON.Utils.Cursors._ISplit<__T>, Std.JSON.Utils.Cursors._ICursorError<__R>>> ParserWitness<__T, __R>() {
      return ((System.Func<Std.JSON.Utils.Cursors._ICursor__, Std.Wrappers._IResult<Std.JSON.Utils.Cursors._ISplit<__T>, Std.JSON.Utils.Cursors._ICursorError<__R>>>)((_0___v9) => {
        return Std.Wrappers.Result<Std.JSON.Utils.Cursors._ISplit<__T>, Std.JSON.Utils.Cursors._ICursorError<__R>>.create_Failure(Std.JSON.Utils.Cursors.CursorError<__R>.create_EOF());
      }));
    }
    public static Func<Std.JSON.Utils.Cursors._ICursor__, Std.Wrappers._IResult<Std.JSON.Utils.Cursors._ISplit<__T>, Std.JSON.Utils.Cursors._ICursorError<__R>>> SubParserWitness<__T, __R>() {
      return ((System.Func<Std.JSON.Utils.Cursors._ICursor__, Std.Wrappers._IResult<Std.JSON.Utils.Cursors._ISplit<__T>, Std.JSON.Utils.Cursors._ICursorError<__R>>>)((_0_cs) => {
        return Std.Wrappers.Result<Std.JSON.Utils.Cursors._ISplit<__T>, Std.JSON.Utils.Cursors._ICursorError<__R>>.create_Failure(Std.JSON.Utils.Cursors.CursorError<__R>.create_EOF());
      }));
    }
  }

  public partial class Parser<T, R> {
    public static Func<Std.JSON.Utils.Cursors._ICursor__, Std.Wrappers._IResult<Std.JSON.Utils.Cursors._ISplit<T>, Std.JSON.Utils.Cursors._ICursorError<R>>> Default() {
      return Std.JSON.Utils.Parsers.__default.ParserWitness<T, R>();
    }
    public static Dafny.TypeDescriptor<Func<Std.JSON.Utils.Cursors._ICursor__, Std.Wrappers._IResult<Std.JSON.Utils.Cursors._ISplit<T>, Std.JSON.Utils.Cursors._ICursorError<R>>>> _TypeDescriptor(Dafny.TypeDescriptor<T> _td_T, Dafny.TypeDescriptor<R> _td_R) {
      return new Dafny.TypeDescriptor<Func<Std.JSON.Utils.Cursors._ICursor__, Std.Wrappers._IResult<Std.JSON.Utils.Cursors._ISplit<T>, Std.JSON.Utils.Cursors._ICursorError<R>>>>(Std.JSON.Utils.Parsers.Parser<T, R>.Default());
    }
  }

  public interface _IParser__<T, out R> {
    bool is_Parser { get; }
    Func<Std.JSON.Utils.Cursors._ICursor__, Std.Wrappers._IResult<Std.JSON.Utils.Cursors._ISplit<T>, Std.JSON.Utils.Cursors._ICursorError<R>>> dtor_fn { get; }
  }
  public class Parser__<T, R> : _IParser__<T, R> {
    public readonly Func<Std.JSON.Utils.Cursors._ICursor__, Std.Wrappers._IResult<Std.JSON.Utils.Cursors._ISplit<T>, Std.JSON.Utils.Cursors._ICursorError<R>>> _fn;
    public Parser__(Func<Std.JSON.Utils.Cursors._ICursor__, Std.Wrappers._IResult<Std.JSON.Utils.Cursors._ISplit<T>, Std.JSON.Utils.Cursors._ICursorError<R>>> fn) {
      this._fn = fn;
    }
    public static Func<Std.JSON.Utils.Cursors._ICursor__, Std.Wrappers._IResult<Std.JSON.Utils.Cursors._ISplit<__T>, Std.JSON.Utils.Cursors._ICursorError<__R>>> DowncastClone<__T, __R>(Func<Std.JSON.Utils.Cursors._ICursor__, Std.Wrappers._IResult<Std.JSON.Utils.Cursors._ISplit<T>, Std.JSON.Utils.Cursors._ICursorError<R>>> _this, Func<T, __T> converter0, Func<R, __R> converter1) {
      return (_this).DowncastClone<Std.JSON.Utils.Cursors._ICursor__, Std.Wrappers._IResult<Std.JSON.Utils.Cursors._ISplit<T>, Std.JSON.Utils.Cursors._ICursorError<R>>, Std.JSON.Utils.Cursors._ICursor__, Std.Wrappers._IResult<Std.JSON.Utils.Cursors._ISplit<__T>, Std.JSON.Utils.Cursors._ICursorError<__R>>>(Dafny.Helpers.Id<Std.JSON.Utils.Cursors._ICursor__>, Dafny.Helpers.CastConverter<Std.Wrappers._IResult<Std.JSON.Utils.Cursors._ISplit<T>, Std.JSON.Utils.Cursors._ICursorError<R>>, Std.Wrappers._IResult<Std.JSON.Utils.Cursors._ISplit<__T>, Std.JSON.Utils.Cursors._ICursorError<__R>>>);
    }
    public override bool Equals(object other) {
      var oth = other as Std.JSON.Utils.Parsers.Parser__<T, R>;
      return oth != null && object.Equals(this._fn, oth._fn);
    }
    public override int GetHashCode() {
      ulong hash = 5381;
      hash = ((hash << 5) + hash) + 0;
      hash = ((hash << 5) + hash) + ((ulong)Dafny.Helpers.GetHashCode(this._fn));
      return (int) hash;
    }
    public override string ToString() {
      string s = "Parsers.Parser_.Parser";
      s += "(";
      s += Dafny.Helpers.ToString(this._fn);
      s += ")";
      return s;
    }
    public static Func<Std.JSON.Utils.Cursors._ICursor__, Std.Wrappers._IResult<Std.JSON.Utils.Cursors._ISplit<T>, Std.JSON.Utils.Cursors._ICursorError<R>>> Default(T _default_T) {
      return ((Std.JSON.Utils.Cursors._ICursor__ x1) => Std.Wrappers.Result<Std.JSON.Utils.Cursors._ISplit<T>, Std.JSON.Utils.Cursors._ICursorError<R>>.Default(Std.JSON.Utils.Cursors.Split<T>.Default(_default_T)));
    }
    public static Dafny.TypeDescriptor<Func<Std.JSON.Utils.Cursors._ICursor__, Std.Wrappers._IResult<Std.JSON.Utils.Cursors._ISplit<T>, Std.JSON.Utils.Cursors._ICursorError<R>>>> _TypeDescriptor(Dafny.TypeDescriptor<T> _td_T) {
      return new Dafny.TypeDescriptor<Func<Std.JSON.Utils.Cursors._ICursor__, Std.Wrappers._IResult<Std.JSON.Utils.Cursors._ISplit<T>, Std.JSON.Utils.Cursors._ICursorError<R>>>>(((Std.JSON.Utils.Cursors._ICursor__ x2) => Std.Wrappers.Result<Std.JSON.Utils.Cursors._ISplit<T>, Std.JSON.Utils.Cursors._ICursorError<R>>.Default(Std.JSON.Utils.Cursors.Split<T>.Default(_td_T.Default()))));
    }
    public static _IParser__<T, R> create(Func<Std.JSON.Utils.Cursors._ICursor__, Std.Wrappers._IResult<Std.JSON.Utils.Cursors._ISplit<T>, Std.JSON.Utils.Cursors._ICursorError<R>>> fn) {
      return new Parser__<T, R>(fn);
    }
    public static _IParser__<T, R> create_Parser(Func<Std.JSON.Utils.Cursors._ICursor__, Std.Wrappers._IResult<Std.JSON.Utils.Cursors._ISplit<T>, Std.JSON.Utils.Cursors._ICursorError<R>>> fn) {
      return create(fn);
    }
    public bool is_Parser { get { return true; } }
    public Func<Std.JSON.Utils.Cursors._ICursor__, Std.Wrappers._IResult<Std.JSON.Utils.Cursors._ISplit<T>, Std.JSON.Utils.Cursors._ICursorError<R>>> dtor_fn {
      get {
        return this._fn;
      }
    }
  }

  public interface _ISubParser__<T, out R> {
    bool is_SubParser { get; }
    Func<Std.JSON.Utils.Cursors._ICursor__, Std.Wrappers._IResult<Std.JSON.Utils.Cursors._ISplit<T>, Std.JSON.Utils.Cursors._ICursorError<R>>> dtor_fn { get; }
  }
  public class SubParser__<T, R> : _ISubParser__<T, R> {
    public readonly Func<Std.JSON.Utils.Cursors._ICursor__, Std.Wrappers._IResult<Std.JSON.Utils.Cursors._ISplit<T>, Std.JSON.Utils.Cursors._ICursorError<R>>> _fn;
    public SubParser__(Func<Std.JSON.Utils.Cursors._ICursor__, Std.Wrappers._IResult<Std.JSON.Utils.Cursors._ISplit<T>, Std.JSON.Utils.Cursors._ICursorError<R>>> fn) {
      this._fn = fn;
    }
    public static Func<Std.JSON.Utils.Cursors._ICursor__, Std.Wrappers._IResult<Std.JSON.Utils.Cursors._ISplit<__T>, Std.JSON.Utils.Cursors._ICursorError<__R>>> DowncastClone<__T, __R>(Func<Std.JSON.Utils.Cursors._ICursor__, Std.Wrappers._IResult<Std.JSON.Utils.Cursors._ISplit<T>, Std.JSON.Utils.Cursors._ICursorError<R>>> _this, Func<T, __T> converter0, Func<R, __R> converter1) {
      return (_this).DowncastClone<Std.JSON.Utils.Cursors._ICursor__, Std.Wrappers._IResult<Std.JSON.Utils.Cursors._ISplit<T>, Std.JSON.Utils.Cursors._ICursorError<R>>, Std.JSON.Utils.Cursors._ICursor__, Std.Wrappers._IResult<Std.JSON.Utils.Cursors._ISplit<__T>, Std.JSON.Utils.Cursors._ICursorError<__R>>>(Dafny.Helpers.Id<Std.JSON.Utils.Cursors._ICursor__>, Dafny.Helpers.CastConverter<Std.Wrappers._IResult<Std.JSON.Utils.Cursors._ISplit<T>, Std.JSON.Utils.Cursors._ICursorError<R>>, Std.Wrappers._IResult<Std.JSON.Utils.Cursors._ISplit<__T>, Std.JSON.Utils.Cursors._ICursorError<__R>>>);
    }
    public override bool Equals(object other) {
      var oth = other as Std.JSON.Utils.Parsers.SubParser__<T, R>;
      return oth != null && object.Equals(this._fn, oth._fn);
    }
    public override int GetHashCode() {
      ulong hash = 5381;
      hash = ((hash << 5) + hash) + 0;
      hash = ((hash << 5) + hash) + ((ulong)Dafny.Helpers.GetHashCode(this._fn));
      return (int) hash;
    }
    public override string ToString() {
      string s = "Parsers.SubParser_.SubParser";
      s += "(";
      s += Dafny.Helpers.ToString(this._fn);
      s += ")";
      return s;
    }
    public static Func<Std.JSON.Utils.Cursors._ICursor__, Std.Wrappers._IResult<Std.JSON.Utils.Cursors._ISplit<T>, Std.JSON.Utils.Cursors._ICursorError<R>>> Default() {
      return ((Func<Std.JSON.Utils.Cursors._ICursor__, Std.Wrappers._IResult<Std.JSON.Utils.Cursors._ISplit<T>, Std.JSON.Utils.Cursors._ICursorError<R>>>)null);
    }
    public static Dafny.TypeDescriptor<Func<Std.JSON.Utils.Cursors._ICursor__, Std.Wrappers._IResult<Std.JSON.Utils.Cursors._ISplit<T>, Std.JSON.Utils.Cursors._ICursorError<R>>>> _TypeDescriptor() {
      return new Dafny.TypeDescriptor<Func<Std.JSON.Utils.Cursors._ICursor__, Std.Wrappers._IResult<Std.JSON.Utils.Cursors._ISplit<T>, Std.JSON.Utils.Cursors._ICursorError<R>>>>(((Func<Std.JSON.Utils.Cursors._ICursor__, Std.Wrappers._IResult<Std.JSON.Utils.Cursors._ISplit<T>, Std.JSON.Utils.Cursors._ICursorError<R>>>)null));
    }
    public static _ISubParser__<T, R> create(Func<Std.JSON.Utils.Cursors._ICursor__, Std.Wrappers._IResult<Std.JSON.Utils.Cursors._ISplit<T>, Std.JSON.Utils.Cursors._ICursorError<R>>> fn) {
      return new SubParser__<T, R>(fn);
    }
    public static _ISubParser__<T, R> create_SubParser(Func<Std.JSON.Utils.Cursors._ICursor__, Std.Wrappers._IResult<Std.JSON.Utils.Cursors._ISplit<T>, Std.JSON.Utils.Cursors._ICursorError<R>>> fn) {
      return create(fn);
    }
    public bool is_SubParser { get { return true; } }
    public Func<Std.JSON.Utils.Cursors._ICursor__, Std.Wrappers._IResult<Std.JSON.Utils.Cursors._ISplit<T>, Std.JSON.Utils.Cursors._ICursorError<R>>> dtor_fn {
      get {
        return this._fn;
      }
    }
  }

  public partial class SubParser<T, R> {
    public static Func<Std.JSON.Utils.Cursors._ICursor__, Std.Wrappers._IResult<Std.JSON.Utils.Cursors._ISplit<T>, Std.JSON.Utils.Cursors._ICursorError<R>>> Default() {
      return Std.JSON.Utils.Parsers.__default.SubParserWitness<T, R>();
    }
    public static Dafny.TypeDescriptor<Func<Std.JSON.Utils.Cursors._ICursor__, Std.Wrappers._IResult<Std.JSON.Utils.Cursors._ISplit<T>, Std.JSON.Utils.Cursors._ICursorError<R>>>> _TypeDescriptor(Dafny.TypeDescriptor<T> _td_T, Dafny.TypeDescriptor<R> _td_R) {
      return new Dafny.TypeDescriptor<Func<Std.JSON.Utils.Cursors._ICursor__, Std.Wrappers._IResult<Std.JSON.Utils.Cursors._ISplit<T>, Std.JSON.Utils.Cursors._ICursorError<R>>>>(Std.JSON.Utils.Parsers.SubParser<T, R>.Default());
    }
  }
} // end of namespace Std.JSON.Utils.Parsers
namespace Std.JSON.Grammar {

  public partial class __default {
    public static bool Blank_q(byte b) {
      return ((((b) == ((byte)(32))) || ((b) == ((byte)(9)))) || ((b) == ((byte)(10)))) || ((b) == ((byte)(13)));
    }
    public static bool Digit_q(byte b) {
      return (((byte)((new Dafny.Rune('0')).Value)) <= (b)) && ((b) <= ((byte)((new Dafny.Rune('9')).Value)));
    }
    public static Dafny.ISequence<byte> NULL { get {
      return Dafny.Sequence<byte>.FromElements((byte)((new Dafny.Rune('n')).Value), (byte)((new Dafny.Rune('u')).Value), (byte)((new Dafny.Rune('l')).Value), (byte)((new Dafny.Rune('l')).Value));
    } }
    public static Dafny.ISequence<byte> TRUE { get {
      return Dafny.Sequence<byte>.FromElements((byte)((new Dafny.Rune('t')).Value), (byte)((new Dafny.Rune('r')).Value), (byte)((new Dafny.Rune('u')).Value), (byte)((new Dafny.Rune('e')).Value));
    } }
    public static Dafny.ISequence<byte> FALSE { get {
      return Dafny.Sequence<byte>.FromElements((byte)((new Dafny.Rune('f')).Value), (byte)((new Dafny.Rune('a')).Value), (byte)((new Dafny.Rune('l')).Value), (byte)((new Dafny.Rune('s')).Value), (byte)((new Dafny.Rune('e')).Value));
    } }
    public static Std.JSON.Utils.Views.Core._IView__ DOUBLEQUOTE { get {
      return Std.JSON.Utils.Views.Core.View__.OfBytes(Dafny.Sequence<byte>.FromElements((byte)((new Dafny.Rune('\"')).Value)));
    } }
    public static Std.JSON.Utils.Views.Core._IView__ PERIOD { get {
      return Std.JSON.Utils.Views.Core.View__.OfBytes(Dafny.Sequence<byte>.FromElements((byte)((new Dafny.Rune('.')).Value)));
    } }
    public static Std.JSON.Utils.Views.Core._IView__ E { get {
      return Std.JSON.Utils.Views.Core.View__.OfBytes(Dafny.Sequence<byte>.FromElements((byte)((new Dafny.Rune('e')).Value)));
    } }
    public static Std.JSON.Utils.Views.Core._IView__ COLON { get {
      return Std.JSON.Utils.Views.Core.View__.OfBytes(Dafny.Sequence<byte>.FromElements((byte)((new Dafny.Rune(':')).Value)));
    } }
    public static Std.JSON.Utils.Views.Core._IView__ COMMA { get {
      return Std.JSON.Utils.Views.Core.View__.OfBytes(Dafny.Sequence<byte>.FromElements((byte)((new Dafny.Rune(',')).Value)));
    } }
    public static Std.JSON.Utils.Views.Core._IView__ LBRACE { get {
      return Std.JSON.Utils.Views.Core.View__.OfBytes(Dafny.Sequence<byte>.FromElements((byte)((new Dafny.Rune('{')).Value)));
    } }
    public static Std.JSON.Utils.Views.Core._IView__ RBRACE { get {
      return Std.JSON.Utils.Views.Core.View__.OfBytes(Dafny.Sequence<byte>.FromElements((byte)((new Dafny.Rune('}')).Value)));
    } }
    public static Std.JSON.Utils.Views.Core._IView__ LBRACKET { get {
      return Std.JSON.Utils.Views.Core.View__.OfBytes(Dafny.Sequence<byte>.FromElements((byte)((new Dafny.Rune('[')).Value)));
    } }
    public static Std.JSON.Utils.Views.Core._IView__ RBRACKET { get {
      return Std.JSON.Utils.Views.Core.View__.OfBytes(Dafny.Sequence<byte>.FromElements((byte)((new Dafny.Rune(']')).Value)));
    } }
    public static Std.JSON.Utils.Views.Core._IView__ MINUS { get {
      return Std.JSON.Utils.Views.Core.View__.OfBytes(Dafny.Sequence<byte>.FromElements((byte)((new Dafny.Rune('-')).Value)));
    } }
    public static Std.JSON.Utils.Views.Core._IView__ EMPTY { get {
      return Std.JSON.Utils.Views.Core.View__.OfBytes(Dafny.Sequence<byte>.FromElements());
    } }
  }

  public partial class jchar {
    private static readonly Std.JSON.Utils.Views.Core._IView__ Witness = Std.JSON.Utils.Views.Core.View__.OfBytes(Dafny.Sequence<byte>.FromElements((byte)((new Dafny.Rune('b')).Value)));
    public static Std.JSON.Utils.Views.Core._IView__ Default() {
      return Witness;
    }
    private static readonly Dafny.TypeDescriptor<Std.JSON.Utils.Views.Core._IView__> _TYPE = new Dafny.TypeDescriptor<Std.JSON.Utils.Views.Core._IView__>(Std.JSON.Grammar.jchar.Default());
    public static Dafny.TypeDescriptor<Std.JSON.Utils.Views.Core._IView__> _TypeDescriptor() {
      return _TYPE;
    }
  }

  public partial class jquote {
    private static readonly Std.JSON.Utils.Views.Core._IView__ Witness = Std.JSON.Grammar.__default.DOUBLEQUOTE;
    public static Std.JSON.Utils.Views.Core._IView__ Default() {
      return Witness;
    }
    private static readonly Dafny.TypeDescriptor<Std.JSON.Utils.Views.Core._IView__> _TYPE = new Dafny.TypeDescriptor<Std.JSON.Utils.Views.Core._IView__>(Std.JSON.Grammar.jquote.Default());
    public static Dafny.TypeDescriptor<Std.JSON.Utils.Views.Core._IView__> _TypeDescriptor() {
      return _TYPE;
    }
  }

  public partial class jperiod {
    private static readonly Std.JSON.Utils.Views.Core._IView__ Witness = Std.JSON.Grammar.__default.PERIOD;
    public static Std.JSON.Utils.Views.Core._IView__ Default() {
      return Witness;
    }
    private static readonly Dafny.TypeDescriptor<Std.JSON.Utils.Views.Core._IView__> _TYPE = new Dafny.TypeDescriptor<Std.JSON.Utils.Views.Core._IView__>(Std.JSON.Grammar.jperiod.Default());
    public static Dafny.TypeDescriptor<Std.JSON.Utils.Views.Core._IView__> _TypeDescriptor() {
      return _TYPE;
    }
  }

  public partial class je {
    private static readonly Std.JSON.Utils.Views.Core._IView__ Witness = Std.JSON.Grammar.__default.E;
    public static Std.JSON.Utils.Views.Core._IView__ Default() {
      return Witness;
    }
    private static readonly Dafny.TypeDescriptor<Std.JSON.Utils.Views.Core._IView__> _TYPE = new Dafny.TypeDescriptor<Std.JSON.Utils.Views.Core._IView__>(Std.JSON.Grammar.je.Default());
    public static Dafny.TypeDescriptor<Std.JSON.Utils.Views.Core._IView__> _TypeDescriptor() {
      return _TYPE;
    }
  }

  public partial class jcolon {
    private static readonly Std.JSON.Utils.Views.Core._IView__ Witness = Std.JSON.Grammar.__default.COLON;
    public static Std.JSON.Utils.Views.Core._IView__ Default() {
      return Witness;
    }
    private static readonly Dafny.TypeDescriptor<Std.JSON.Utils.Views.Core._IView__> _TYPE = new Dafny.TypeDescriptor<Std.JSON.Utils.Views.Core._IView__>(Std.JSON.Grammar.jcolon.Default());
    public static Dafny.TypeDescriptor<Std.JSON.Utils.Views.Core._IView__> _TypeDescriptor() {
      return _TYPE;
    }
  }

  public partial class jcomma {
    private static readonly Std.JSON.Utils.Views.Core._IView__ Witness = Std.JSON.Grammar.__default.COMMA;
    public static Std.JSON.Utils.Views.Core._IView__ Default() {
      return Witness;
    }
    private static readonly Dafny.TypeDescriptor<Std.JSON.Utils.Views.Core._IView__> _TYPE = new Dafny.TypeDescriptor<Std.JSON.Utils.Views.Core._IView__>(Std.JSON.Grammar.jcomma.Default());
    public static Dafny.TypeDescriptor<Std.JSON.Utils.Views.Core._IView__> _TypeDescriptor() {
      return _TYPE;
    }
  }

  public partial class jlbrace {
    private static readonly Std.JSON.Utils.Views.Core._IView__ Witness = Std.JSON.Grammar.__default.LBRACE;
    public static Std.JSON.Utils.Views.Core._IView__ Default() {
      return Witness;
    }
    private static readonly Dafny.TypeDescriptor<Std.JSON.Utils.Views.Core._IView__> _TYPE = new Dafny.TypeDescriptor<Std.JSON.Utils.Views.Core._IView__>(Std.JSON.Grammar.jlbrace.Default());
    public static Dafny.TypeDescriptor<Std.JSON.Utils.Views.Core._IView__> _TypeDescriptor() {
      return _TYPE;
    }
  }

  public partial class jrbrace {
    private static readonly Std.JSON.Utils.Views.Core._IView__ Witness = Std.JSON.Grammar.__default.RBRACE;
    public static Std.JSON.Utils.Views.Core._IView__ Default() {
      return Witness;
    }
    private static readonly Dafny.TypeDescriptor<Std.JSON.Utils.Views.Core._IView__> _TYPE = new Dafny.TypeDescriptor<Std.JSON.Utils.Views.Core._IView__>(Std.JSON.Grammar.jrbrace.Default());
    public static Dafny.TypeDescriptor<Std.JSON.Utils.Views.Core._IView__> _TypeDescriptor() {
      return _TYPE;
    }
  }

  public partial class jlbracket {
    private static readonly Std.JSON.Utils.Views.Core._IView__ Witness = Std.JSON.Grammar.__default.LBRACKET;
    public static Std.JSON.Utils.Views.Core._IView__ Default() {
      return Witness;
    }
    private static readonly Dafny.TypeDescriptor<Std.JSON.Utils.Views.Core._IView__> _TYPE = new Dafny.TypeDescriptor<Std.JSON.Utils.Views.Core._IView__>(Std.JSON.Grammar.jlbracket.Default());
    public static Dafny.TypeDescriptor<Std.JSON.Utils.Views.Core._IView__> _TypeDescriptor() {
      return _TYPE;
    }
  }

  public partial class jrbracket {
    private static readonly Std.JSON.Utils.Views.Core._IView__ Witness = Std.JSON.Grammar.__default.RBRACKET;
    public static Std.JSON.Utils.Views.Core._IView__ Default() {
      return Witness;
    }
    private static readonly Dafny.TypeDescriptor<Std.JSON.Utils.Views.Core._IView__> _TYPE = new Dafny.TypeDescriptor<Std.JSON.Utils.Views.Core._IView__>(Std.JSON.Grammar.jrbracket.Default());
    public static Dafny.TypeDescriptor<Std.JSON.Utils.Views.Core._IView__> _TypeDescriptor() {
      return _TYPE;
    }
  }

  public partial class jminus {
    private static readonly Std.JSON.Utils.Views.Core._IView__ Witness = Std.JSON.Grammar.__default.MINUS;
    public static Std.JSON.Utils.Views.Core._IView__ Default() {
      return Witness;
    }
    private static readonly Dafny.TypeDescriptor<Std.JSON.Utils.Views.Core._IView__> _TYPE = new Dafny.TypeDescriptor<Std.JSON.Utils.Views.Core._IView__>(Std.JSON.Grammar.jminus.Default());
    public static Dafny.TypeDescriptor<Std.JSON.Utils.Views.Core._IView__> _TypeDescriptor() {
      return _TYPE;
    }
  }

  public partial class jsign {
    private static readonly Std.JSON.Utils.Views.Core._IView__ Witness = Std.JSON.Grammar.__default.EMPTY;
    public static Std.JSON.Utils.Views.Core._IView__ Default() {
      return Witness;
    }
    private static readonly Dafny.TypeDescriptor<Std.JSON.Utils.Views.Core._IView__> _TYPE = new Dafny.TypeDescriptor<Std.JSON.Utils.Views.Core._IView__>(Std.JSON.Grammar.jsign.Default());
    public static Dafny.TypeDescriptor<Std.JSON.Utils.Views.Core._IView__> _TypeDescriptor() {
      return _TYPE;
    }
  }

  public partial class jblanks {
    private static readonly Std.JSON.Utils.Views.Core._IView__ Witness = Std.JSON.Utils.Views.Core.View__.OfBytes(Dafny.Sequence<byte>.FromElements());
    public static Std.JSON.Utils.Views.Core._IView__ Default() {
      return Witness;
    }
    private static readonly Dafny.TypeDescriptor<Std.JSON.Utils.Views.Core._IView__> _TYPE = new Dafny.TypeDescriptor<Std.JSON.Utils.Views.Core._IView__>(Std.JSON.Grammar.jblanks.Default());
    public static Dafny.TypeDescriptor<Std.JSON.Utils.Views.Core._IView__> _TypeDescriptor() {
      return _TYPE;
    }
  }

  public interface _IStructural<out T> {
    bool is_Structural { get; }
    Std.JSON.Utils.Views.Core._IView__ dtor_before { get; }
    T dtor_t { get; }
    Std.JSON.Utils.Views.Core._IView__ dtor_after { get; }
    _IStructural<__T> DowncastClone<__T>(Func<T, __T> converter0);
  }
  public class Structural<T> : _IStructural<T> {
    public readonly Std.JSON.Utils.Views.Core._IView__ _before;
    public readonly T _t;
    public readonly Std.JSON.Utils.Views.Core._IView__ _after;
    public Structural(Std.JSON.Utils.Views.Core._IView__ before, T t, Std.JSON.Utils.Views.Core._IView__ after) {
      this._before = before;
      this._t = t;
      this._after = after;
    }
    public _IStructural<__T> DowncastClone<__T>(Func<T, __T> converter0) {
      if (this is _IStructural<__T> dt) { return dt; }
      return new Structural<__T>(_before, converter0(_t), _after);
    }
    public override bool Equals(object other) {
      var oth = other as Std.JSON.Grammar.Structural<T>;
      return oth != null && object.Equals(this._before, oth._before) && object.Equals(this._t, oth._t) && object.Equals(this._after, oth._after);
    }
    public override int GetHashCode() {
      ulong hash = 5381;
      hash = ((hash << 5) + hash) + 0;
      hash = ((hash << 5) + hash) + ((ulong)Dafny.Helpers.GetHashCode(this._before));
      hash = ((hash << 5) + hash) + ((ulong)Dafny.Helpers.GetHashCode(this._t));
      hash = ((hash << 5) + hash) + ((ulong)Dafny.Helpers.GetHashCode(this._after));
      return (int) hash;
    }
    public override string ToString() {
      string s = "Grammar.Structural.Structural";
      s += "(";
      s += Dafny.Helpers.ToString(this._before);
      s += ", ";
      s += Dafny.Helpers.ToString(this._t);
      s += ", ";
      s += Dafny.Helpers.ToString(this._after);
      s += ")";
      return s;
    }
    public static Std.JSON.Grammar._IStructural<T> Default(T _default_T) {
      return create(Std.JSON.Grammar.jblanks.Default(), _default_T, Std.JSON.Grammar.jblanks.Default());
    }
    public static Dafny.TypeDescriptor<Std.JSON.Grammar._IStructural<T>> _TypeDescriptor(Dafny.TypeDescriptor<T> _td_T) {
      return new Dafny.TypeDescriptor<Std.JSON.Grammar._IStructural<T>>(Std.JSON.Grammar.Structural<T>.Default(_td_T.Default()));
    }
    public static _IStructural<T> create(Std.JSON.Utils.Views.Core._IView__ before, T t, Std.JSON.Utils.Views.Core._IView__ after) {
      return new Structural<T>(before, t, after);
    }
    public static _IStructural<T> create_Structural(Std.JSON.Utils.Views.Core._IView__ before, T t, Std.JSON.Utils.Views.Core._IView__ after) {
      return create(before, t, after);
    }
    public bool is_Structural { get { return true; } }
    public Std.JSON.Utils.Views.Core._IView__ dtor_before {
      get {
        return this._before;
      }
    }
    public T dtor_t {
      get {
        return this._t;
      }
    }
    public Std.JSON.Utils.Views.Core._IView__ dtor_after {
      get {
        return this._after;
      }
    }
  }

  public interface _IMaybe<out T> {
    bool is_Empty { get; }
    bool is_NonEmpty { get; }
    T dtor_t { get; }
    _IMaybe<__T> DowncastClone<__T>(Func<T, __T> converter0);
  }
  public abstract class Maybe<T> : _IMaybe<T> {
    public Maybe() {
    }
    public static Std.JSON.Grammar._IMaybe<T> Default() {
      return create_Empty();
    }
    public static Dafny.TypeDescriptor<Std.JSON.Grammar._IMaybe<T>> _TypeDescriptor() {
      return new Dafny.TypeDescriptor<Std.JSON.Grammar._IMaybe<T>>(Std.JSON.Grammar.Maybe<T>.Default());
    }
    public static _IMaybe<T> create_Empty() {
      return new Maybe_Empty<T>();
    }
    public static _IMaybe<T> create_NonEmpty(T t) {
      return new Maybe_NonEmpty<T>(t);
    }
    public bool is_Empty { get { return this is Maybe_Empty<T>; } }
    public bool is_NonEmpty { get { return this is Maybe_NonEmpty<T>; } }
    public T dtor_t {
      get {
        var d = this;
        return ((Maybe_NonEmpty<T>)d)._t;
      }
    }
    public abstract _IMaybe<__T> DowncastClone<__T>(Func<T, __T> converter0);
  }
  public class Maybe_Empty<T> : Maybe<T> {
    public Maybe_Empty() : base() {
    }
    public override _IMaybe<__T> DowncastClone<__T>(Func<T, __T> converter0) {
      if (this is _IMaybe<__T> dt) { return dt; }
      return new Maybe_Empty<__T>();
    }
    public override bool Equals(object other) {
      var oth = other as Std.JSON.Grammar.Maybe_Empty<T>;
      return oth != null;
    }
    public override int GetHashCode() {
      ulong hash = 5381;
      hash = ((hash << 5) + hash) + 0;
      return (int) hash;
    }
    public override string ToString() {
      string s = "Grammar.Maybe.Empty";
      return s;
    }
  }
  public class Maybe_NonEmpty<T> : Maybe<T> {
    public readonly T _t;
    public Maybe_NonEmpty(T t) : base() {
      this._t = t;
    }
    public override _IMaybe<__T> DowncastClone<__T>(Func<T, __T> converter0) {
      if (this is _IMaybe<__T> dt) { return dt; }
      return new Maybe_NonEmpty<__T>(converter0(_t));
    }
    public override bool Equals(object other) {
      var oth = other as Std.JSON.Grammar.Maybe_NonEmpty<T>;
      return oth != null && object.Equals(this._t, oth._t);
    }
    public override int GetHashCode() {
      ulong hash = 5381;
      hash = ((hash << 5) + hash) + 1;
      hash = ((hash << 5) + hash) + ((ulong)Dafny.Helpers.GetHashCode(this._t));
      return (int) hash;
    }
    public override string ToString() {
      string s = "Grammar.Maybe.NonEmpty";
      s += "(";
      s += Dafny.Helpers.ToString(this._t);
      s += ")";
      return s;
    }
  }

  public interface _ISuffixed<out T, out S> {
    bool is_Suffixed { get; }
    T dtor_t { get; }
    Std.JSON.Grammar._IMaybe<Std.JSON.Grammar._IStructural<S>> dtor_suffix { get; }
    _ISuffixed<__T, __S> DowncastClone<__T, __S>(Func<T, __T> converter0, Func<S, __S> converter1);
  }
  public class Suffixed<T, S> : _ISuffixed<T, S> {
    public readonly T _t;
    public readonly Std.JSON.Grammar._IMaybe<Std.JSON.Grammar._IStructural<S>> _suffix;
    public Suffixed(T t, Std.JSON.Grammar._IMaybe<Std.JSON.Grammar._IStructural<S>> suffix) {
      this._t = t;
      this._suffix = suffix;
    }
    public _ISuffixed<__T, __S> DowncastClone<__T, __S>(Func<T, __T> converter0, Func<S, __S> converter1) {
      if (this is _ISuffixed<__T, __S> dt) { return dt; }
      return new Suffixed<__T, __S>(converter0(_t), (_suffix).DowncastClone<Std.JSON.Grammar._IStructural<__S>>(Dafny.Helpers.CastConverter<Std.JSON.Grammar._IStructural<S>, Std.JSON.Grammar._IStructural<__S>>));
    }
    public override bool Equals(object other) {
      var oth = other as Std.JSON.Grammar.Suffixed<T, S>;
      return oth != null && object.Equals(this._t, oth._t) && object.Equals(this._suffix, oth._suffix);
    }
    public override int GetHashCode() {
      ulong hash = 5381;
      hash = ((hash << 5) + hash) + 0;
      hash = ((hash << 5) + hash) + ((ulong)Dafny.Helpers.GetHashCode(this._t));
      hash = ((hash << 5) + hash) + ((ulong)Dafny.Helpers.GetHashCode(this._suffix));
      return (int) hash;
    }
    public override string ToString() {
      string s = "Grammar.Suffixed.Suffixed";
      s += "(";
      s += Dafny.Helpers.ToString(this._t);
      s += ", ";
      s += Dafny.Helpers.ToString(this._suffix);
      s += ")";
      return s;
    }
    public static Std.JSON.Grammar._ISuffixed<T, S> Default(T _default_T) {
      return create(_default_T, Std.JSON.Grammar.Maybe<Std.JSON.Grammar._IStructural<S>>.Default());
    }
    public static Dafny.TypeDescriptor<Std.JSON.Grammar._ISuffixed<T, S>> _TypeDescriptor(Dafny.TypeDescriptor<T> _td_T) {
      return new Dafny.TypeDescriptor<Std.JSON.Grammar._ISuffixed<T, S>>(Std.JSON.Grammar.Suffixed<T, S>.Default(_td_T.Default()));
    }
    public static _ISuffixed<T, S> create(T t, Std.JSON.Grammar._IMaybe<Std.JSON.Grammar._IStructural<S>> suffix) {
      return new Suffixed<T, S>(t, suffix);
    }
    public static _ISuffixed<T, S> create_Suffixed(T t, Std.JSON.Grammar._IMaybe<Std.JSON.Grammar._IStructural<S>> suffix) {
      return create(t, suffix);
    }
    public bool is_Suffixed { get { return true; } }
    public T dtor_t {
      get {
        return this._t;
      }
    }
    public Std.JSON.Grammar._IMaybe<Std.JSON.Grammar._IStructural<S>> dtor_suffix {
      get {
        return this._suffix;
      }
    }
  }

  public partial class SuffixedSequence<D, S> {
    public static Dafny.TypeDescriptor<Dafny.ISequence<Std.JSON.Grammar._ISuffixed<D, S>>> _TypeDescriptor(Dafny.TypeDescriptor<D> _td_D, Dafny.TypeDescriptor<S> _td_S) {
      return new Dafny.TypeDescriptor<Dafny.ISequence<Std.JSON.Grammar._ISuffixed<D, S>>>(Dafny.Sequence<Std.JSON.Grammar._ISuffixed<D, S>>.Empty);
    }
  }

  public interface _IBracketed<out L, out D, out S, out R> {
    bool is_Bracketed { get; }
    Std.JSON.Grammar._IStructural<L> dtor_l { get; }
    Dafny.ISequence<Std.JSON.Grammar._ISuffixed<D, S>> dtor_data { get; }
    Std.JSON.Grammar._IStructural<R> dtor_r { get; }
    _IBracketed<__L, __D, __S, __R> DowncastClone<__L, __D, __S, __R>(Func<L, __L> converter0, Func<D, __D> converter1, Func<S, __S> converter2, Func<R, __R> converter3);
  }
  public class Bracketed<L, D, S, R> : _IBracketed<L, D, S, R> {
    public readonly Std.JSON.Grammar._IStructural<L> _l;
    public readonly Dafny.ISequence<Std.JSON.Grammar._ISuffixed<D, S>> _data;
    public readonly Std.JSON.Grammar._IStructural<R> _r;
    public Bracketed(Std.JSON.Grammar._IStructural<L> l, Dafny.ISequence<Std.JSON.Grammar._ISuffixed<D, S>> data, Std.JSON.Grammar._IStructural<R> r) {
      this._l = l;
      this._data = data;
      this._r = r;
    }
    public _IBracketed<__L, __D, __S, __R> DowncastClone<__L, __D, __S, __R>(Func<L, __L> converter0, Func<D, __D> converter1, Func<S, __S> converter2, Func<R, __R> converter3) {
      if (this is _IBracketed<__L, __D, __S, __R> dt) { return dt; }
      return new Bracketed<__L, __D, __S, __R>((_l).DowncastClone<__L>(Dafny.Helpers.CastConverter<L, __L>), (_data).DowncastClone<Std.JSON.Grammar._ISuffixed<__D, __S>>(Dafny.Helpers.CastConverter<Std.JSON.Grammar._ISuffixed<D, S>, Std.JSON.Grammar._ISuffixed<__D, __S>>), (_r).DowncastClone<__R>(Dafny.Helpers.CastConverter<R, __R>));
    }
    public override bool Equals(object other) {
      var oth = other as Std.JSON.Grammar.Bracketed<L, D, S, R>;
      return oth != null && object.Equals(this._l, oth._l) && object.Equals(this._data, oth._data) && object.Equals(this._r, oth._r);
    }
    public override int GetHashCode() {
      ulong hash = 5381;
      hash = ((hash << 5) + hash) + 0;
      hash = ((hash << 5) + hash) + ((ulong)Dafny.Helpers.GetHashCode(this._l));
      hash = ((hash << 5) + hash) + ((ulong)Dafny.Helpers.GetHashCode(this._data));
      hash = ((hash << 5) + hash) + ((ulong)Dafny.Helpers.GetHashCode(this._r));
      return (int) hash;
    }
    public override string ToString() {
      string s = "Grammar.Bracketed.Bracketed";
      s += "(";
      s += Dafny.Helpers.ToString(this._l);
      s += ", ";
      s += Dafny.Helpers.ToString(this._data);
      s += ", ";
      s += Dafny.Helpers.ToString(this._r);
      s += ")";
      return s;
    }
    public static Std.JSON.Grammar._IBracketed<L, D, S, R> Default(L _default_L, R _default_R) {
      return create(Std.JSON.Grammar.Structural<L>.Default(_default_L), Dafny.Sequence<Std.JSON.Grammar._ISuffixed<D, S>>.Empty, Std.JSON.Grammar.Structural<R>.Default(_default_R));
    }
    public static Dafny.TypeDescriptor<Std.JSON.Grammar._IBracketed<L, D, S, R>> _TypeDescriptor(Dafny.TypeDescriptor<L> _td_L, Dafny.TypeDescriptor<R> _td_R) {
      return new Dafny.TypeDescriptor<Std.JSON.Grammar._IBracketed<L, D, S, R>>(Std.JSON.Grammar.Bracketed<L, D, S, R>.Default(_td_L.Default(), _td_R.Default()));
    }
    public static _IBracketed<L, D, S, R> create(Std.JSON.Grammar._IStructural<L> l, Dafny.ISequence<Std.JSON.Grammar._ISuffixed<D, S>> data, Std.JSON.Grammar._IStructural<R> r) {
      return new Bracketed<L, D, S, R>(l, data, r);
    }
    public static _IBracketed<L, D, S, R> create_Bracketed(Std.JSON.Grammar._IStructural<L> l, Dafny.ISequence<Std.JSON.Grammar._ISuffixed<D, S>> data, Std.JSON.Grammar._IStructural<R> r) {
      return create(l, data, r);
    }
    public bool is_Bracketed { get { return true; } }
    public Std.JSON.Grammar._IStructural<L> dtor_l {
      get {
        return this._l;
      }
    }
    public Dafny.ISequence<Std.JSON.Grammar._ISuffixed<D, S>> dtor_data {
      get {
        return this._data;
      }
    }
    public Std.JSON.Grammar._IStructural<R> dtor_r {
      get {
        return this._r;
      }
    }
  }

  public partial class jnull {
    private static readonly Std.JSON.Utils.Views.Core._IView__ Witness = Std.JSON.Utils.Views.Core.View__.OfBytes(Std.JSON.Grammar.__default.NULL);
    public static Std.JSON.Utils.Views.Core._IView__ Default() {
      return Witness;
    }
    private static readonly Dafny.TypeDescriptor<Std.JSON.Utils.Views.Core._IView__> _TYPE = new Dafny.TypeDescriptor<Std.JSON.Utils.Views.Core._IView__>(Std.JSON.Grammar.jnull.Default());
    public static Dafny.TypeDescriptor<Std.JSON.Utils.Views.Core._IView__> _TypeDescriptor() {
      return _TYPE;
    }
  }

  public partial class jbool {
    private static readonly Std.JSON.Utils.Views.Core._IView__ Witness = Std.JSON.Utils.Views.Core.View__.OfBytes(Std.JSON.Grammar.__default.TRUE);
    public static Std.JSON.Utils.Views.Core._IView__ Default() {
      return Witness;
    }
    private static readonly Dafny.TypeDescriptor<Std.JSON.Utils.Views.Core._IView__> _TYPE = new Dafny.TypeDescriptor<Std.JSON.Utils.Views.Core._IView__>(Std.JSON.Grammar.jbool.Default());
    public static Dafny.TypeDescriptor<Std.JSON.Utils.Views.Core._IView__> _TypeDescriptor() {
      return _TYPE;
    }
  }

  public partial class jdigits {
    private static readonly Std.JSON.Utils.Views.Core._IView__ Witness = Std.JSON.Utils.Views.Core.View__.OfBytes(Dafny.Sequence<byte>.FromElements());
    public static Std.JSON.Utils.Views.Core._IView__ Default() {
      return Witness;
    }
    private static readonly Dafny.TypeDescriptor<Std.JSON.Utils.Views.Core._IView__> _TYPE = new Dafny.TypeDescriptor<Std.JSON.Utils.Views.Core._IView__>(Std.JSON.Grammar.jdigits.Default());
    public static Dafny.TypeDescriptor<Std.JSON.Utils.Views.Core._IView__> _TypeDescriptor() {
      return _TYPE;
    }
  }

  public partial class jnum {
    private static readonly Std.JSON.Utils.Views.Core._IView__ Witness = Std.JSON.Utils.Views.Core.View__.OfBytes(Dafny.Sequence<byte>.FromElements((byte)((new Dafny.Rune('0')).Value)));
    public static Std.JSON.Utils.Views.Core._IView__ Default() {
      return Witness;
    }
    private static readonly Dafny.TypeDescriptor<Std.JSON.Utils.Views.Core._IView__> _TYPE = new Dafny.TypeDescriptor<Std.JSON.Utils.Views.Core._IView__>(Std.JSON.Grammar.jnum.Default());
    public static Dafny.TypeDescriptor<Std.JSON.Utils.Views.Core._IView__> _TypeDescriptor() {
      return _TYPE;
    }
  }

  public partial class jint {
    private static readonly Std.JSON.Utils.Views.Core._IView__ Witness = Std.JSON.Utils.Views.Core.View__.OfBytes(Dafny.Sequence<byte>.FromElements((byte)((new Dafny.Rune('0')).Value)));
    public static Std.JSON.Utils.Views.Core._IView__ Default() {
      return Witness;
    }
    private static readonly Dafny.TypeDescriptor<Std.JSON.Utils.Views.Core._IView__> _TYPE = new Dafny.TypeDescriptor<Std.JSON.Utils.Views.Core._IView__>(Std.JSON.Grammar.jint.Default());
    public static Dafny.TypeDescriptor<Std.JSON.Utils.Views.Core._IView__> _TypeDescriptor() {
      return _TYPE;
    }
  }

  public partial class jstr {
    private static readonly Std.JSON.Utils.Views.Core._IView__ Witness = Std.JSON.Utils.Views.Core.View__.OfBytes(Dafny.Sequence<byte>.FromElements());
    public static Std.JSON.Utils.Views.Core._IView__ Default() {
      return Witness;
    }
    private static readonly Dafny.TypeDescriptor<Std.JSON.Utils.Views.Core._IView__> _TYPE = new Dafny.TypeDescriptor<Std.JSON.Utils.Views.Core._IView__>(Std.JSON.Grammar.jstr.Default());
    public static Dafny.TypeDescriptor<Std.JSON.Utils.Views.Core._IView__> _TypeDescriptor() {
      return _TYPE;
    }
  }

  public interface _Ijstring {
    bool is_JString { get; }
    Std.JSON.Utils.Views.Core._IView__ dtor_lq { get; }
    Std.JSON.Utils.Views.Core._IView__ dtor_contents { get; }
    Std.JSON.Utils.Views.Core._IView__ dtor_rq { get; }
    _Ijstring DowncastClone();
  }
  public class jstring : _Ijstring {
    public readonly Std.JSON.Utils.Views.Core._IView__ _lq;
    public readonly Std.JSON.Utils.Views.Core._IView__ _contents;
    public readonly Std.JSON.Utils.Views.Core._IView__ _rq;
    public jstring(Std.JSON.Utils.Views.Core._IView__ lq, Std.JSON.Utils.Views.Core._IView__ contents, Std.JSON.Utils.Views.Core._IView__ rq) {
      this._lq = lq;
      this._contents = contents;
      this._rq = rq;
    }
    public _Ijstring DowncastClone() {
      if (this is _Ijstring dt) { return dt; }
      return new jstring(_lq, _contents, _rq);
    }
    public override bool Equals(object other) {
      var oth = other as Std.JSON.Grammar.jstring;
      return oth != null && object.Equals(this._lq, oth._lq) && object.Equals(this._contents, oth._contents) && object.Equals(this._rq, oth._rq);
    }
    public override int GetHashCode() {
      ulong hash = 5381;
      hash = ((hash << 5) + hash) + 0;
      hash = ((hash << 5) + hash) + ((ulong)Dafny.Helpers.GetHashCode(this._lq));
      hash = ((hash << 5) + hash) + ((ulong)Dafny.Helpers.GetHashCode(this._contents));
      hash = ((hash << 5) + hash) + ((ulong)Dafny.Helpers.GetHashCode(this._rq));
      return (int) hash;
    }
    public override string ToString() {
      string s = "Grammar.jstring.JString";
      s += "(";
      s += Dafny.Helpers.ToString(this._lq);
      s += ", ";
      s += Dafny.Helpers.ToString(this._contents);
      s += ", ";
      s += Dafny.Helpers.ToString(this._rq);
      s += ")";
      return s;
    }
    private static readonly Std.JSON.Grammar._Ijstring theDefault = create(Std.JSON.Grammar.jquote.Default(), Std.JSON.Grammar.jstr.Default(), Std.JSON.Grammar.jquote.Default());
    public static Std.JSON.Grammar._Ijstring Default() {
      return theDefault;
    }
    private static readonly Dafny.TypeDescriptor<Std.JSON.Grammar._Ijstring> _TYPE = new Dafny.TypeDescriptor<Std.JSON.Grammar._Ijstring>(Std.JSON.Grammar.jstring.Default());
    public static Dafny.TypeDescriptor<Std.JSON.Grammar._Ijstring> _TypeDescriptor() {
      return _TYPE;
    }
    public static _Ijstring create(Std.JSON.Utils.Views.Core._IView__ lq, Std.JSON.Utils.Views.Core._IView__ contents, Std.JSON.Utils.Views.Core._IView__ rq) {
      return new jstring(lq, contents, rq);
    }
    public static _Ijstring create_JString(Std.JSON.Utils.Views.Core._IView__ lq, Std.JSON.Utils.Views.Core._IView__ contents, Std.JSON.Utils.Views.Core._IView__ rq) {
      return create(lq, contents, rq);
    }
    public bool is_JString { get { return true; } }
    public Std.JSON.Utils.Views.Core._IView__ dtor_lq {
      get {
        return this._lq;
      }
    }
    public Std.JSON.Utils.Views.Core._IView__ dtor_contents {
      get {
        return this._contents;
      }
    }
    public Std.JSON.Utils.Views.Core._IView__ dtor_rq {
      get {
        return this._rq;
      }
    }
  }

  public interface _IjKeyValue {
    bool is_KeyValue { get; }
    Std.JSON.Grammar._Ijstring dtor_k { get; }
    Std.JSON.Grammar._IStructural<Std.JSON.Utils.Views.Core._IView__> dtor_colon { get; }
    Std.JSON.Grammar._IValue dtor_v { get; }
    _IjKeyValue DowncastClone();
  }
  public class jKeyValue : _IjKeyValue {
    public readonly Std.JSON.Grammar._Ijstring _k;
    public readonly Std.JSON.Grammar._IStructural<Std.JSON.Utils.Views.Core._IView__> _colon;
    public readonly Std.JSON.Grammar._IValue _v;
    public jKeyValue(Std.JSON.Grammar._Ijstring k, Std.JSON.Grammar._IStructural<Std.JSON.Utils.Views.Core._IView__> colon, Std.JSON.Grammar._IValue v) {
      this._k = k;
      this._colon = colon;
      this._v = v;
    }
    public _IjKeyValue DowncastClone() {
      if (this is _IjKeyValue dt) { return dt; }
      return new jKeyValue(_k, _colon, _v);
    }
    public override bool Equals(object other) {
      var oth = other as Std.JSON.Grammar.jKeyValue;
      return oth != null && object.Equals(this._k, oth._k) && object.Equals(this._colon, oth._colon) && object.Equals(this._v, oth._v);
    }
    public override int GetHashCode() {
      ulong hash = 5381;
      hash = ((hash << 5) + hash) + 0;
      hash = ((hash << 5) + hash) + ((ulong)Dafny.Helpers.GetHashCode(this._k));
      hash = ((hash << 5) + hash) + ((ulong)Dafny.Helpers.GetHashCode(this._colon));
      hash = ((hash << 5) + hash) + ((ulong)Dafny.Helpers.GetHashCode(this._v));
      return (int) hash;
    }
    public override string ToString() {
      string s = "Grammar.jKeyValue.KeyValue";
      s += "(";
      s += Dafny.Helpers.ToString(this._k);
      s += ", ";
      s += Dafny.Helpers.ToString(this._colon);
      s += ", ";
      s += Dafny.Helpers.ToString(this._v);
      s += ")";
      return s;
    }
    private static readonly Std.JSON.Grammar._IjKeyValue theDefault = create(Std.JSON.Grammar.jstring.Default(), Std.JSON.Grammar.Structural<Std.JSON.Utils.Views.Core._IView__>.Default(Std.JSON.Grammar.jcolon.Default()), Std.JSON.Grammar.Value.Default());
    public static Std.JSON.Grammar._IjKeyValue Default() {
      return theDefault;
    }
    private static readonly Dafny.TypeDescriptor<Std.JSON.Grammar._IjKeyValue> _TYPE = new Dafny.TypeDescriptor<Std.JSON.Grammar._IjKeyValue>(Std.JSON.Grammar.jKeyValue.Default());
    public static Dafny.TypeDescriptor<Std.JSON.Grammar._IjKeyValue> _TypeDescriptor() {
      return _TYPE;
    }
    public static _IjKeyValue create(Std.JSON.Grammar._Ijstring k, Std.JSON.Grammar._IStructural<Std.JSON.Utils.Views.Core._IView__> colon, Std.JSON.Grammar._IValue v) {
      return new jKeyValue(k, colon, v);
    }
    public static _IjKeyValue create_KeyValue(Std.JSON.Grammar._Ijstring k, Std.JSON.Grammar._IStructural<Std.JSON.Utils.Views.Core._IView__> colon, Std.JSON.Grammar._IValue v) {
      return create(k, colon, v);
    }
    public bool is_KeyValue { get { return true; } }
    public Std.JSON.Grammar._Ijstring dtor_k {
      get {
        return this._k;
      }
    }
    public Std.JSON.Grammar._IStructural<Std.JSON.Utils.Views.Core._IView__> dtor_colon {
      get {
        return this._colon;
      }
    }
    public Std.JSON.Grammar._IValue dtor_v {
      get {
        return this._v;
      }
    }
  }

  public interface _Ijfrac {
    bool is_JFrac { get; }
    Std.JSON.Utils.Views.Core._IView__ dtor_period { get; }
    Std.JSON.Utils.Views.Core._IView__ dtor_num { get; }
    _Ijfrac DowncastClone();
  }
  public class jfrac : _Ijfrac {
    public readonly Std.JSON.Utils.Views.Core._IView__ _period;
    public readonly Std.JSON.Utils.Views.Core._IView__ _num;
    public jfrac(Std.JSON.Utils.Views.Core._IView__ period, Std.JSON.Utils.Views.Core._IView__ num) {
      this._period = period;
      this._num = num;
    }
    public _Ijfrac DowncastClone() {
      if (this is _Ijfrac dt) { return dt; }
      return new jfrac(_period, _num);
    }
    public override bool Equals(object other) {
      var oth = other as Std.JSON.Grammar.jfrac;
      return oth != null && object.Equals(this._period, oth._period) && object.Equals(this._num, oth._num);
    }
    public override int GetHashCode() {
      ulong hash = 5381;
      hash = ((hash << 5) + hash) + 0;
      hash = ((hash << 5) + hash) + ((ulong)Dafny.Helpers.GetHashCode(this._period));
      hash = ((hash << 5) + hash) + ((ulong)Dafny.Helpers.GetHashCode(this._num));
      return (int) hash;
    }
    public override string ToString() {
      string s = "Grammar.jfrac.JFrac";
      s += "(";
      s += Dafny.Helpers.ToString(this._period);
      s += ", ";
      s += Dafny.Helpers.ToString(this._num);
      s += ")";
      return s;
    }
    private static readonly Std.JSON.Grammar._Ijfrac theDefault = create(Std.JSON.Grammar.jperiod.Default(), Std.JSON.Grammar.jnum.Default());
    public static Std.JSON.Grammar._Ijfrac Default() {
      return theDefault;
    }
    private static readonly Dafny.TypeDescriptor<Std.JSON.Grammar._Ijfrac> _TYPE = new Dafny.TypeDescriptor<Std.JSON.Grammar._Ijfrac>(Std.JSON.Grammar.jfrac.Default());
    public static Dafny.TypeDescriptor<Std.JSON.Grammar._Ijfrac> _TypeDescriptor() {
      return _TYPE;
    }
    public static _Ijfrac create(Std.JSON.Utils.Views.Core._IView__ period, Std.JSON.Utils.Views.Core._IView__ num) {
      return new jfrac(period, num);
    }
    public static _Ijfrac create_JFrac(Std.JSON.Utils.Views.Core._IView__ period, Std.JSON.Utils.Views.Core._IView__ num) {
      return create(period, num);
    }
    public bool is_JFrac { get { return true; } }
    public Std.JSON.Utils.Views.Core._IView__ dtor_period {
      get {
        return this._period;
      }
    }
    public Std.JSON.Utils.Views.Core._IView__ dtor_num {
      get {
        return this._num;
      }
    }
  }

  public interface _Ijexp {
    bool is_JExp { get; }
    Std.JSON.Utils.Views.Core._IView__ dtor_e { get; }
    Std.JSON.Utils.Views.Core._IView__ dtor_sign { get; }
    Std.JSON.Utils.Views.Core._IView__ dtor_num { get; }
    _Ijexp DowncastClone();
  }
  public class jexp : _Ijexp {
    public readonly Std.JSON.Utils.Views.Core._IView__ _e;
    public readonly Std.JSON.Utils.Views.Core._IView__ _sign;
    public readonly Std.JSON.Utils.Views.Core._IView__ _num;
    public jexp(Std.JSON.Utils.Views.Core._IView__ e, Std.JSON.Utils.Views.Core._IView__ sign, Std.JSON.Utils.Views.Core._IView__ num) {
      this._e = e;
      this._sign = sign;
      this._num = num;
    }
    public _Ijexp DowncastClone() {
      if (this is _Ijexp dt) { return dt; }
      return new jexp(_e, _sign, _num);
    }
    public override bool Equals(object other) {
      var oth = other as Std.JSON.Grammar.jexp;
      return oth != null && object.Equals(this._e, oth._e) && object.Equals(this._sign, oth._sign) && object.Equals(this._num, oth._num);
    }
    public override int GetHashCode() {
      ulong hash = 5381;
      hash = ((hash << 5) + hash) + 0;
      hash = ((hash << 5) + hash) + ((ulong)Dafny.Helpers.GetHashCode(this._e));
      hash = ((hash << 5) + hash) + ((ulong)Dafny.Helpers.GetHashCode(this._sign));
      hash = ((hash << 5) + hash) + ((ulong)Dafny.Helpers.GetHashCode(this._num));
      return (int) hash;
    }
    public override string ToString() {
      string s = "Grammar.jexp.JExp";
      s += "(";
      s += Dafny.Helpers.ToString(this._e);
      s += ", ";
      s += Dafny.Helpers.ToString(this._sign);
      s += ", ";
      s += Dafny.Helpers.ToString(this._num);
      s += ")";
      return s;
    }
    private static readonly Std.JSON.Grammar._Ijexp theDefault = create(Std.JSON.Grammar.je.Default(), Std.JSON.Grammar.jsign.Default(), Std.JSON.Grammar.jnum.Default());
    public static Std.JSON.Grammar._Ijexp Default() {
      return theDefault;
    }
    private static readonly Dafny.TypeDescriptor<Std.JSON.Grammar._Ijexp> _TYPE = new Dafny.TypeDescriptor<Std.JSON.Grammar._Ijexp>(Std.JSON.Grammar.jexp.Default());
    public static Dafny.TypeDescriptor<Std.JSON.Grammar._Ijexp> _TypeDescriptor() {
      return _TYPE;
    }
    public static _Ijexp create(Std.JSON.Utils.Views.Core._IView__ e, Std.JSON.Utils.Views.Core._IView__ sign, Std.JSON.Utils.Views.Core._IView__ num) {
      return new jexp(e, sign, num);
    }
    public static _Ijexp create_JExp(Std.JSON.Utils.Views.Core._IView__ e, Std.JSON.Utils.Views.Core._IView__ sign, Std.JSON.Utils.Views.Core._IView__ num) {
      return create(e, sign, num);
    }
    public bool is_JExp { get { return true; } }
    public Std.JSON.Utils.Views.Core._IView__ dtor_e {
      get {
        return this._e;
      }
    }
    public Std.JSON.Utils.Views.Core._IView__ dtor_sign {
      get {
        return this._sign;
      }
    }
    public Std.JSON.Utils.Views.Core._IView__ dtor_num {
      get {
        return this._num;
      }
    }
  }

  public interface _Ijnumber {
    bool is_JNumber { get; }
    Std.JSON.Utils.Views.Core._IView__ dtor_minus { get; }
    Std.JSON.Utils.Views.Core._IView__ dtor_num { get; }
    Std.JSON.Grammar._IMaybe<Std.JSON.Grammar._Ijfrac> dtor_frac { get; }
    Std.JSON.Grammar._IMaybe<Std.JSON.Grammar._Ijexp> dtor_exp { get; }
    _Ijnumber DowncastClone();
  }
  public class jnumber : _Ijnumber {
    public readonly Std.JSON.Utils.Views.Core._IView__ _minus;
    public readonly Std.JSON.Utils.Views.Core._IView__ _num;
    public readonly Std.JSON.Grammar._IMaybe<Std.JSON.Grammar._Ijfrac> _frac;
    public readonly Std.JSON.Grammar._IMaybe<Std.JSON.Grammar._Ijexp> _exp;
    public jnumber(Std.JSON.Utils.Views.Core._IView__ minus, Std.JSON.Utils.Views.Core._IView__ num, Std.JSON.Grammar._IMaybe<Std.JSON.Grammar._Ijfrac> frac, Std.JSON.Grammar._IMaybe<Std.JSON.Grammar._Ijexp> exp) {
      this._minus = minus;
      this._num = num;
      this._frac = frac;
      this._exp = exp;
    }
    public _Ijnumber DowncastClone() {
      if (this is _Ijnumber dt) { return dt; }
      return new jnumber(_minus, _num, _frac, _exp);
    }
    public override bool Equals(object other) {
      var oth = other as Std.JSON.Grammar.jnumber;
      return oth != null && object.Equals(this._minus, oth._minus) && object.Equals(this._num, oth._num) && object.Equals(this._frac, oth._frac) && object.Equals(this._exp, oth._exp);
    }
    public override int GetHashCode() {
      ulong hash = 5381;
      hash = ((hash << 5) + hash) + 0;
      hash = ((hash << 5) + hash) + ((ulong)Dafny.Helpers.GetHashCode(this._minus));
      hash = ((hash << 5) + hash) + ((ulong)Dafny.Helpers.GetHashCode(this._num));
      hash = ((hash << 5) + hash) + ((ulong)Dafny.Helpers.GetHashCode(this._frac));
      hash = ((hash << 5) + hash) + ((ulong)Dafny.Helpers.GetHashCode(this._exp));
      return (int) hash;
    }
    public override string ToString() {
      string s = "Grammar.jnumber.JNumber";
      s += "(";
      s += Dafny.Helpers.ToString(this._minus);
      s += ", ";
      s += Dafny.Helpers.ToString(this._num);
      s += ", ";
      s += Dafny.Helpers.ToString(this._frac);
      s += ", ";
      s += Dafny.Helpers.ToString(this._exp);
      s += ")";
      return s;
    }
    private static readonly Std.JSON.Grammar._Ijnumber theDefault = create(Std.JSON.Grammar.jminus.Default(), Std.JSON.Grammar.jnum.Default(), Std.JSON.Grammar.Maybe<Std.JSON.Grammar._Ijfrac>.Default(), Std.JSON.Grammar.Maybe<Std.JSON.Grammar._Ijexp>.Default());
    public static Std.JSON.Grammar._Ijnumber Default() {
      return theDefault;
    }
    private static readonly Dafny.TypeDescriptor<Std.JSON.Grammar._Ijnumber> _TYPE = new Dafny.TypeDescriptor<Std.JSON.Grammar._Ijnumber>(Std.JSON.Grammar.jnumber.Default());
    public static Dafny.TypeDescriptor<Std.JSON.Grammar._Ijnumber> _TypeDescriptor() {
      return _TYPE;
    }
    public static _Ijnumber create(Std.JSON.Utils.Views.Core._IView__ minus, Std.JSON.Utils.Views.Core._IView__ num, Std.JSON.Grammar._IMaybe<Std.JSON.Grammar._Ijfrac> frac, Std.JSON.Grammar._IMaybe<Std.JSON.Grammar._Ijexp> exp) {
      return new jnumber(minus, num, frac, exp);
    }
    public static _Ijnumber create_JNumber(Std.JSON.Utils.Views.Core._IView__ minus, Std.JSON.Utils.Views.Core._IView__ num, Std.JSON.Grammar._IMaybe<Std.JSON.Grammar._Ijfrac> frac, Std.JSON.Grammar._IMaybe<Std.JSON.Grammar._Ijexp> exp) {
      return create(minus, num, frac, exp);
    }
    public bool is_JNumber { get { return true; } }
    public Std.JSON.Utils.Views.Core._IView__ dtor_minus {
      get {
        return this._minus;
      }
    }
    public Std.JSON.Utils.Views.Core._IView__ dtor_num {
      get {
        return this._num;
      }
    }
    public Std.JSON.Grammar._IMaybe<Std.JSON.Grammar._Ijfrac> dtor_frac {
      get {
        return this._frac;
      }
    }
    public Std.JSON.Grammar._IMaybe<Std.JSON.Grammar._Ijexp> dtor_exp {
      get {
        return this._exp;
      }
    }
  }

  public interface _IValue {
    bool is_Null { get; }
    bool is_Bool { get; }
    bool is_String { get; }
    bool is_Number { get; }
    bool is_Object { get; }
    bool is_Array { get; }
    Std.JSON.Utils.Views.Core._IView__ dtor_n { get; }
    Std.JSON.Utils.Views.Core._IView__ dtor_b { get; }
    Std.JSON.Grammar._Ijstring dtor_str { get; }
    Std.JSON.Grammar._Ijnumber dtor_num { get; }
    Std.JSON.Grammar._IBracketed<Std.JSON.Utils.Views.Core._IView__, Std.JSON.Grammar._IjKeyValue, Std.JSON.Utils.Views.Core._IView__, Std.JSON.Utils.Views.Core._IView__> dtor_obj { get; }
    Std.JSON.Grammar._IBracketed<Std.JSON.Utils.Views.Core._IView__, Std.JSON.Grammar._IValue, Std.JSON.Utils.Views.Core._IView__, Std.JSON.Utils.Views.Core._IView__> dtor_arr { get; }
    _IValue DowncastClone();
  }
  public abstract class Value : _IValue {
    public Value() {
    }
    private static readonly Std.JSON.Grammar._IValue theDefault = create_Null(Std.JSON.Grammar.jnull.Default());
    public static Std.JSON.Grammar._IValue Default() {
      return theDefault;
    }
    private static readonly Dafny.TypeDescriptor<Std.JSON.Grammar._IValue> _TYPE = new Dafny.TypeDescriptor<Std.JSON.Grammar._IValue>(Std.JSON.Grammar.Value.Default());
    public static Dafny.TypeDescriptor<Std.JSON.Grammar._IValue> _TypeDescriptor() {
      return _TYPE;
    }
    public static _IValue create_Null(Std.JSON.Utils.Views.Core._IView__ n) {
      return new Value_Null(n);
    }
    public static _IValue create_Bool(Std.JSON.Utils.Views.Core._IView__ b) {
      return new Value_Bool(b);
    }
    public static _IValue create_String(Std.JSON.Grammar._Ijstring str) {
      return new Value_String(str);
    }
    public static _IValue create_Number(Std.JSON.Grammar._Ijnumber num) {
      return new Value_Number(num);
    }
    public static _IValue create_Object(Std.JSON.Grammar._IBracketed<Std.JSON.Utils.Views.Core._IView__, Std.JSON.Grammar._IjKeyValue, Std.JSON.Utils.Views.Core._IView__, Std.JSON.Utils.Views.Core._IView__> obj) {
      return new Value_Object(obj);
    }
    public static _IValue create_Array(Std.JSON.Grammar._IBracketed<Std.JSON.Utils.Views.Core._IView__, Std.JSON.Grammar._IValue, Std.JSON.Utils.Views.Core._IView__, Std.JSON.Utils.Views.Core._IView__> arr) {
      return new Value_Array(arr);
    }
    public bool is_Null { get { return this is Value_Null; } }
    public bool is_Bool { get { return this is Value_Bool; } }
    public bool is_String { get { return this is Value_String; } }
    public bool is_Number { get { return this is Value_Number; } }
    public bool is_Object { get { return this is Value_Object; } }
    public bool is_Array { get { return this is Value_Array; } }
    public Std.JSON.Utils.Views.Core._IView__ dtor_n {
      get {
        var d = this;
        return ((Value_Null)d)._n;
      }
    }
    public Std.JSON.Utils.Views.Core._IView__ dtor_b {
      get {
        var d = this;
        return ((Value_Bool)d)._b;
      }
    }
    public Std.JSON.Grammar._Ijstring dtor_str {
      get {
        var d = this;
        return ((Value_String)d)._str;
      }
    }
    public Std.JSON.Grammar._Ijnumber dtor_num {
      get {
        var d = this;
        return ((Value_Number)d)._num;
      }
    }
    public Std.JSON.Grammar._IBracketed<Std.JSON.Utils.Views.Core._IView__, Std.JSON.Grammar._IjKeyValue, Std.JSON.Utils.Views.Core._IView__, Std.JSON.Utils.Views.Core._IView__> dtor_obj {
      get {
        var d = this;
        return ((Value_Object)d)._obj;
      }
    }
    public Std.JSON.Grammar._IBracketed<Std.JSON.Utils.Views.Core._IView__, Std.JSON.Grammar._IValue, Std.JSON.Utils.Views.Core._IView__, Std.JSON.Utils.Views.Core._IView__> dtor_arr {
      get {
        var d = this;
        return ((Value_Array)d)._arr;
      }
    }
    public abstract _IValue DowncastClone();
  }
  public class Value_Null : Value {
    public readonly Std.JSON.Utils.Views.Core._IView__ _n;
    public Value_Null(Std.JSON.Utils.Views.Core._IView__ n) : base() {
      this._n = n;
    }
    public override _IValue DowncastClone() {
      if (this is _IValue dt) { return dt; }
      return new Value_Null(_n);
    }
    public override bool Equals(object other) {
      var oth = other as Std.JSON.Grammar.Value_Null;
      return oth != null && object.Equals(this._n, oth._n);
    }
    public override int GetHashCode() {
      ulong hash = 5381;
      hash = ((hash << 5) + hash) + 0;
      hash = ((hash << 5) + hash) + ((ulong)Dafny.Helpers.GetHashCode(this._n));
      return (int) hash;
    }
    public override string ToString() {
      string s = "Grammar.Value.Null";
      s += "(";
      s += Dafny.Helpers.ToString(this._n);
      s += ")";
      return s;
    }
  }
  public class Value_Bool : Value {
    public readonly Std.JSON.Utils.Views.Core._IView__ _b;
    public Value_Bool(Std.JSON.Utils.Views.Core._IView__ b) : base() {
      this._b = b;
    }
    public override _IValue DowncastClone() {
      if (this is _IValue dt) { return dt; }
      return new Value_Bool(_b);
    }
    public override bool Equals(object other) {
      var oth = other as Std.JSON.Grammar.Value_Bool;
      return oth != null && object.Equals(this._b, oth._b);
    }
    public override int GetHashCode() {
      ulong hash = 5381;
      hash = ((hash << 5) + hash) + 1;
      hash = ((hash << 5) + hash) + ((ulong)Dafny.Helpers.GetHashCode(this._b));
      return (int) hash;
    }
    public override string ToString() {
      string s = "Grammar.Value.Bool";
      s += "(";
      s += Dafny.Helpers.ToString(this._b);
      s += ")";
      return s;
    }
  }
  public class Value_String : Value {
    public readonly Std.JSON.Grammar._Ijstring _str;
    public Value_String(Std.JSON.Grammar._Ijstring str) : base() {
      this._str = str;
    }
    public override _IValue DowncastClone() {
      if (this is _IValue dt) { return dt; }
      return new Value_String(_str);
    }
    public override bool Equals(object other) {
      var oth = other as Std.JSON.Grammar.Value_String;
      return oth != null && object.Equals(this._str, oth._str);
    }
    public override int GetHashCode() {
      ulong hash = 5381;
      hash = ((hash << 5) + hash) + 2;
      hash = ((hash << 5) + hash) + ((ulong)Dafny.Helpers.GetHashCode(this._str));
      return (int) hash;
    }
    public override string ToString() {
      string s = "Grammar.Value.String";
      s += "(";
      s += Dafny.Helpers.ToString(this._str);
      s += ")";
      return s;
    }
  }
  public class Value_Number : Value {
    public readonly Std.JSON.Grammar._Ijnumber _num;
    public Value_Number(Std.JSON.Grammar._Ijnumber num) : base() {
      this._num = num;
    }
    public override _IValue DowncastClone() {
      if (this is _IValue dt) { return dt; }
      return new Value_Number(_num);
    }
    public override bool Equals(object other) {
      var oth = other as Std.JSON.Grammar.Value_Number;
      return oth != null && object.Equals(this._num, oth._num);
    }
    public override int GetHashCode() {
      ulong hash = 5381;
      hash = ((hash << 5) + hash) + 3;
      hash = ((hash << 5) + hash) + ((ulong)Dafny.Helpers.GetHashCode(this._num));
      return (int) hash;
    }
    public override string ToString() {
      string s = "Grammar.Value.Number";
      s += "(";
      s += Dafny.Helpers.ToString(this._num);
      s += ")";
      return s;
    }
  }
  public class Value_Object : Value {
    public readonly Std.JSON.Grammar._IBracketed<Std.JSON.Utils.Views.Core._IView__, Std.JSON.Grammar._IjKeyValue, Std.JSON.Utils.Views.Core._IView__, Std.JSON.Utils.Views.Core._IView__> _obj;
    public Value_Object(Std.JSON.Grammar._IBracketed<Std.JSON.Utils.Views.Core._IView__, Std.JSON.Grammar._IjKeyValue, Std.JSON.Utils.Views.Core._IView__, Std.JSON.Utils.Views.Core._IView__> obj) : base() {
      this._obj = obj;
    }
    public override _IValue DowncastClone() {
      if (this is _IValue dt) { return dt; }
      return new Value_Object(_obj);
    }
    public override bool Equals(object other) {
      var oth = other as Std.JSON.Grammar.Value_Object;
      return oth != null && object.Equals(this._obj, oth._obj);
    }
    public override int GetHashCode() {
      ulong hash = 5381;
      hash = ((hash << 5) + hash) + 4;
      hash = ((hash << 5) + hash) + ((ulong)Dafny.Helpers.GetHashCode(this._obj));
      return (int) hash;
    }
    public override string ToString() {
      string s = "Grammar.Value.Object";
      s += "(";
      s += Dafny.Helpers.ToString(this._obj);
      s += ")";
      return s;
    }
  }
  public class Value_Array : Value {
    public readonly Std.JSON.Grammar._IBracketed<Std.JSON.Utils.Views.Core._IView__, Std.JSON.Grammar._IValue, Std.JSON.Utils.Views.Core._IView__, Std.JSON.Utils.Views.Core._IView__> _arr;
    public Value_Array(Std.JSON.Grammar._IBracketed<Std.JSON.Utils.Views.Core._IView__, Std.JSON.Grammar._IValue, Std.JSON.Utils.Views.Core._IView__, Std.JSON.Utils.Views.Core._IView__> arr) : base() {
      this._arr = arr;
    }
    public override _IValue DowncastClone() {
      if (this is _IValue dt) { return dt; }
      return new Value_Array(_arr);
    }
    public override bool Equals(object other) {
      var oth = other as Std.JSON.Grammar.Value_Array;
      return oth != null && object.Equals(this._arr, oth._arr);
    }
    public override int GetHashCode() {
      ulong hash = 5381;
      hash = ((hash << 5) + hash) + 5;
      hash = ((hash << 5) + hash) + ((ulong)Dafny.Helpers.GetHashCode(this._arr));
      return (int) hash;
    }
    public override string ToString() {
      string s = "Grammar.Value.Array";
      s += "(";
      s += Dafny.Helpers.ToString(this._arr);
      s += ")";
      return s;
    }
  }
} // end of namespace Std.JSON.Grammar
namespace Std.JSON.ByteStrConversion {

  public partial class __default {
    public static BigInteger BASE() {
      return Std.JSON.ByteStrConversion.__default.@base;
    }
    public static bool IsDigitChar(byte c) {
      return (Std.JSON.ByteStrConversion.__default.charToDigit).Contains(c);
    }
    public static Dafny.ISequence<byte> OfDigits(Dafny.ISequence<BigInteger> digits) {
      Dafny.ISequence<byte> _0___accumulator = Dafny.Sequence<byte>.FromElements();
    TAIL_CALL_START: ;
      if ((digits).Equals(Dafny.Sequence<BigInteger>.FromElements())) {
        return Dafny.Sequence<byte>.Concat(Dafny.Sequence<byte>.FromElements(), _0___accumulator);
      } else {
        _0___accumulator = Dafny.Sequence<byte>.Concat(Dafny.Sequence<byte>.FromElements((Std.JSON.ByteStrConversion.__default.chars).Select((digits).Select(BigInteger.Zero))), _0___accumulator);
        Dafny.ISequence<BigInteger> _in0 = (digits).Drop(BigInteger.One);
        digits = _in0;
        goto TAIL_CALL_START;
      }
    }
    public static Dafny.ISequence<byte> OfNat(BigInteger n) {
      if ((n).Sign == 0) {
        return Dafny.Sequence<byte>.FromElements((Std.JSON.ByteStrConversion.__default.chars).Select(BigInteger.Zero));
      } else {
        return Std.JSON.ByteStrConversion.__default.OfDigits(Std.JSON.ByteStrConversion.__default.FromNat(n));
      }
    }
    public static bool IsNumberStr(Dafny.ISequence<byte> str, byte minus)
    {
      return !(!(str).Equals(Dafny.Sequence<byte>.FromElements())) || (((((str).Select(BigInteger.Zero)) == (minus)) || ((Std.JSON.ByteStrConversion.__default.charToDigit).Contains((str).Select(BigInteger.Zero)))) && (Dafny.Helpers.Id<Func<Dafny.ISequence<byte>, bool>>((_0_str) => Dafny.Helpers.Quantifier<byte>(((_0_str).Drop(BigInteger.One)).UniqueElements, true, (((_forall_var_0) => {
        byte _1_c = (byte)_forall_var_0;
        return !(((_0_str).Drop(BigInteger.One)).Contains(_1_c)) || (Std.JSON.ByteStrConversion.__default.IsDigitChar(_1_c));
      }))))(str)));
    }
    public static Dafny.ISequence<byte> OfInt(BigInteger n, byte minus)
    {
      if ((n).Sign != -1) {
        return Std.JSON.ByteStrConversion.__default.OfNat(n);
      } else {
        return Dafny.Sequence<byte>.Concat(Dafny.Sequence<byte>.FromElements(minus), Std.JSON.ByteStrConversion.__default.OfNat((BigInteger.Zero) - (n)));
      }
    }
    public static BigInteger ToNat(Dafny.ISequence<byte> str) {
      if ((str).Equals(Dafny.Sequence<byte>.FromElements())) {
        return BigInteger.Zero;
      } else {
        byte _0_c = (str).Select((new BigInteger((str).Count)) - (BigInteger.One));
        return ((Std.JSON.ByteStrConversion.__default.ToNat((str).Take((new BigInteger((str).Count)) - (BigInteger.One)))) * (Std.JSON.ByteStrConversion.__default.@base)) + (Dafny.Map<byte, BigInteger>.Select(Std.JSON.ByteStrConversion.__default.charToDigit,_0_c));
      }
    }
    public static BigInteger ToInt(Dafny.ISequence<byte> str, byte minus)
    {
      if (Dafny.Sequence<byte>.IsPrefixOf(Dafny.Sequence<byte>.FromElements(minus), str)) {
        return (BigInteger.Zero) - (Std.JSON.ByteStrConversion.__default.ToNat((str).Drop(BigInteger.One)));
      } else {
        return Std.JSON.ByteStrConversion.__default.ToNat(str);
      }
    }
    public static BigInteger ToNatRight(Dafny.ISequence<BigInteger> xs) {
      if ((new BigInteger((xs).Count)).Sign == 0) {
        return BigInteger.Zero;
      } else {
        return ((Std.JSON.ByteStrConversion.__default.ToNatRight(Std.Collections.Seq.__default.DropFirst<BigInteger>(xs))) * (Std.JSON.ByteStrConversion.__default.BASE())) + (Std.Collections.Seq.__default.First<BigInteger>(xs));
      }
    }
    public static BigInteger ToNatLeft(Dafny.ISequence<BigInteger> xs) {
      BigInteger _0___accumulator = BigInteger.Zero;
    TAIL_CALL_START: ;
      if ((new BigInteger((xs).Count)).Sign == 0) {
        return (BigInteger.Zero) + (_0___accumulator);
      } else {
        _0___accumulator = ((Std.Collections.Seq.__default.Last<BigInteger>(xs)) * (Std.Arithmetic.Power.__default.Pow(Std.JSON.ByteStrConversion.__default.BASE(), (new BigInteger((xs).Count)) - (BigInteger.One)))) + (_0___accumulator);
        Dafny.ISequence<BigInteger> _in0 = Std.Collections.Seq.__default.DropLast<BigInteger>(xs);
        xs = _in0;
        goto TAIL_CALL_START;
      }
    }
    public static Dafny.ISequence<BigInteger> FromNat(BigInteger n) {
      Dafny.ISequence<BigInteger> _0___accumulator = Dafny.Sequence<BigInteger>.FromElements();
    TAIL_CALL_START: ;
      if ((n).Sign == 0) {
        return Dafny.Sequence<BigInteger>.Concat(_0___accumulator, Dafny.Sequence<BigInteger>.FromElements());
      } else {
        _0___accumulator = Dafny.Sequence<BigInteger>.Concat(_0___accumulator, Dafny.Sequence<BigInteger>.FromElements(Dafny.Helpers.EuclideanModulus(n, Std.JSON.ByteStrConversion.__default.BASE())));
        BigInteger _in0 = Dafny.Helpers.EuclideanDivision(n, Std.JSON.ByteStrConversion.__default.BASE());
        n = _in0;
        goto TAIL_CALL_START;
      }
    }
    public static Dafny.ISequence<BigInteger> SeqExtend(Dafny.ISequence<BigInteger> xs, BigInteger n)
    {
    TAIL_CALL_START: ;
      if ((new BigInteger((xs).Count)) >= (n)) {
        return xs;
      } else {
        Dafny.ISequence<BigInteger> _in0 = Dafny.Sequence<BigInteger>.Concat(xs, Dafny.Sequence<BigInteger>.FromElements(BigInteger.Zero));
        BigInteger _in1 = n;
        xs = _in0;
        n = _in1;
        goto TAIL_CALL_START;
      }
    }
    public static Dafny.ISequence<BigInteger> SeqExtendMultiple(Dafny.ISequence<BigInteger> xs, BigInteger n)
    {
      BigInteger _0_newLen = ((new BigInteger((xs).Count)) + (n)) - (Dafny.Helpers.EuclideanModulus(new BigInteger((xs).Count), n));
      return Std.JSON.ByteStrConversion.__default.SeqExtend(xs, _0_newLen);
    }
    public static Dafny.ISequence<BigInteger> FromNatWithLen(BigInteger n, BigInteger len)
    {
      return Std.JSON.ByteStrConversion.__default.SeqExtend(Std.JSON.ByteStrConversion.__default.FromNat(n), len);
    }
    public static Dafny.ISequence<BigInteger> SeqZero(BigInteger len) {
      Dafny.ISequence<BigInteger> _0_xs = Std.JSON.ByteStrConversion.__default.FromNatWithLen(BigInteger.Zero, len);
      return _0_xs;
    }
    public static _System._ITuple2<Dafny.ISequence<BigInteger>, BigInteger> SeqAdd(Dafny.ISequence<BigInteger> xs, Dafny.ISequence<BigInteger> ys)
    {
      if ((new BigInteger((xs).Count)).Sign == 0) {
        return _System.Tuple2<Dafny.ISequence<BigInteger>, BigInteger>.create(Dafny.Sequence<BigInteger>.FromElements(), BigInteger.Zero);
      } else {
        _System._ITuple2<Dafny.ISequence<BigInteger>, BigInteger> _let_tmp_rhs0 = Std.JSON.ByteStrConversion.__default.SeqAdd(Std.Collections.Seq.__default.DropLast<BigInteger>(xs), Std.Collections.Seq.__default.DropLast<BigInteger>(ys));
        Dafny.ISequence<BigInteger> _0_zs_k = _let_tmp_rhs0.dtor__0;
        BigInteger _1_cin = _let_tmp_rhs0.dtor__1;
        BigInteger _2_sum = ((Std.Collections.Seq.__default.Last<BigInteger>(xs)) + (Std.Collections.Seq.__default.Last<BigInteger>(ys))) + (_1_cin);
        _System._ITuple2<BigInteger, BigInteger> _let_tmp_rhs1 = (((_2_sum) < (Std.JSON.ByteStrConversion.__default.BASE())) ? (_System.Tuple2<BigInteger, BigInteger>.create(_2_sum, BigInteger.Zero)) : (_System.Tuple2<BigInteger, BigInteger>.create((_2_sum) - (Std.JSON.ByteStrConversion.__default.BASE()), BigInteger.One)));
        BigInteger _3_sum__out = _let_tmp_rhs1.dtor__0;
        BigInteger _4_cout = _let_tmp_rhs1.dtor__1;
        return _System.Tuple2<Dafny.ISequence<BigInteger>, BigInteger>.create(Dafny.Sequence<BigInteger>.Concat(_0_zs_k, Dafny.Sequence<BigInteger>.FromElements(_3_sum__out)), _4_cout);
      }
    }
    public static _System._ITuple2<Dafny.ISequence<BigInteger>, BigInteger> SeqSub(Dafny.ISequence<BigInteger> xs, Dafny.ISequence<BigInteger> ys)
    {
      if ((new BigInteger((xs).Count)).Sign == 0) {
        return _System.Tuple2<Dafny.ISequence<BigInteger>, BigInteger>.create(Dafny.Sequence<BigInteger>.FromElements(), BigInteger.Zero);
      } else {
        _System._ITuple2<Dafny.ISequence<BigInteger>, BigInteger> _let_tmp_rhs0 = Std.JSON.ByteStrConversion.__default.SeqSub(Std.Collections.Seq.__default.DropLast<BigInteger>(xs), Std.Collections.Seq.__default.DropLast<BigInteger>(ys));
        Dafny.ISequence<BigInteger> _0_zs = _let_tmp_rhs0.dtor__0;
        BigInteger _1_cin = _let_tmp_rhs0.dtor__1;
        _System._ITuple2<BigInteger, BigInteger> _let_tmp_rhs1 = (((Std.Collections.Seq.__default.Last<BigInteger>(xs)) >= ((Std.Collections.Seq.__default.Last<BigInteger>(ys)) + (_1_cin))) ? (_System.Tuple2<BigInteger, BigInteger>.create(((Std.Collections.Seq.__default.Last<BigInteger>(xs)) - (Std.Collections.Seq.__default.Last<BigInteger>(ys))) - (_1_cin), BigInteger.Zero)) : (_System.Tuple2<BigInteger, BigInteger>.create((((Std.JSON.ByteStrConversion.__default.BASE()) + (Std.Collections.Seq.__default.Last<BigInteger>(xs))) - (Std.Collections.Seq.__default.Last<BigInteger>(ys))) - (_1_cin), BigInteger.One)));
        BigInteger _2_diff__out = _let_tmp_rhs1.dtor__0;
        BigInteger _3_cout = _let_tmp_rhs1.dtor__1;
        return _System.Tuple2<Dafny.ISequence<BigInteger>, BigInteger>.create(Dafny.Sequence<BigInteger>.Concat(_0_zs, Dafny.Sequence<BigInteger>.FromElements(_2_diff__out)), _3_cout);
      }
    }
    public static Dafny.ISequence<byte> chars { get {
      return Dafny.Sequence<byte>.FromElements((byte)((new Dafny.Rune('0')).Value), (byte)((new Dafny.Rune('1')).Value), (byte)((new Dafny.Rune('2')).Value), (byte)((new Dafny.Rune('3')).Value), (byte)((new Dafny.Rune('4')).Value), (byte)((new Dafny.Rune('5')).Value), (byte)((new Dafny.Rune('6')).Value), (byte)((new Dafny.Rune('7')).Value), (byte)((new Dafny.Rune('8')).Value), (byte)((new Dafny.Rune('9')).Value));
    } }
    public static BigInteger @base { get {
      return new BigInteger((Std.JSON.ByteStrConversion.__default.chars).Count);
    } }
    public static Dafny.IMap<byte,BigInteger> charToDigit { get {
      return Dafny.Map<byte, BigInteger>.FromElements(new Dafny.Pair<byte, BigInteger>((byte)((new Dafny.Rune('0')).Value), BigInteger.Zero), new Dafny.Pair<byte, BigInteger>((byte)((new Dafny.Rune('1')).Value), BigInteger.One), new Dafny.Pair<byte, BigInteger>((byte)((new Dafny.Rune('2')).Value), new BigInteger(2)), new Dafny.Pair<byte, BigInteger>((byte)((new Dafny.Rune('3')).Value), new BigInteger(3)), new Dafny.Pair<byte, BigInteger>((byte)((new Dafny.Rune('4')).Value), new BigInteger(4)), new Dafny.Pair<byte, BigInteger>((byte)((new Dafny.Rune('5')).Value), new BigInteger(5)), new Dafny.Pair<byte, BigInteger>((byte)((new Dafny.Rune('6')).Value), new BigInteger(6)), new Dafny.Pair<byte, BigInteger>((byte)((new Dafny.Rune('7')).Value), new BigInteger(7)), new Dafny.Pair<byte, BigInteger>((byte)((new Dafny.Rune('8')).Value), new BigInteger(8)), new Dafny.Pair<byte, BigInteger>((byte)((new Dafny.Rune('9')).Value), new BigInteger(9)));
    } }
  }

  public partial class CharSeq {
    private static readonly Dafny.TypeDescriptor<Dafny.ISequence<byte>> _TYPE = new Dafny.TypeDescriptor<Dafny.ISequence<byte>>(Dafny.Sequence<byte>.Empty);
    public static Dafny.TypeDescriptor<Dafny.ISequence<byte>> _TypeDescriptor() {
      return _TYPE;
    }
    public static bool _Is(Dafny.ISequence<byte> __source) {
      Dafny.ISequence<byte> _0_chars = __source;
      return (new BigInteger((_0_chars).Count)) > (BigInteger.One);
    }
  }

  public partial class digit {
    private static readonly Dafny.TypeDescriptor<BigInteger> _TYPE = new Dafny.TypeDescriptor<BigInteger>(BigInteger.Zero);
    public static Dafny.TypeDescriptor<BigInteger> _TypeDescriptor() {
      return _TYPE;
    }
    public static bool _Is(BigInteger __source) {
      BigInteger _1_i = __source;
      if (_System.nat._Is(_1_i)) {
        return ((_1_i).Sign != -1) && ((_1_i) < (Std.JSON.ByteStrConversion.__default.BASE()));
      }
      return false;
    }
  }
} // end of namespace Std.JSON.ByteStrConversion
namespace Std.JSON.Serializer {

  public partial class __default {
    public static Std.JSON.Utils.Views.Core._IView__ Bool(bool b) {
      return Std.JSON.Utils.Views.Core.View__.OfBytes(((b) ? (Std.JSON.Grammar.__default.TRUE) : (Std.JSON.Grammar.__default.FALSE)));
    }
    public static Std.Wrappers._IOutcome<Std.JSON.Errors._ISerializationError> CheckLength<__T>(Dafny.ISequence<__T> s, Std.JSON.Errors._ISerializationError err)
    {
      return Std.Wrappers.Outcome<Std.JSON.Errors._ISerializationError>.Need((new BigInteger((s).Count)) < (Std.BoundedInts.__default.TWO__TO__THE__32), err);
    }
    public static Std.Wrappers._IResult<Std.JSON.Grammar._Ijstring, Std.JSON.Errors._ISerializationError> String(Dafny.ISequence<Dafny.Rune> str) {
      Std.Wrappers._IResult<Dafny.ISequence<byte>, Std.JSON.Errors._ISerializationError> _0_valueOrError0 = Std.JSON.Spec.__default.EscapeToUTF8(str, BigInteger.Zero);
      if ((_0_valueOrError0).IsFailure()) {
        return (_0_valueOrError0).PropagateFailure<Std.JSON.Grammar._Ijstring>();
      } else {
        Dafny.ISequence<byte> _1_bs = (_0_valueOrError0).Extract();
        Std.Wrappers._IOutcome<Std.JSON.Errors._ISerializationError> _2_o = Std.JSON.Serializer.__default.CheckLength<byte>(_1_bs, Std.JSON.Errors.SerializationError.create_StringTooLong(str));
        if ((_2_o).is_Pass) {
          return Std.Wrappers.Result<Std.JSON.Grammar._Ijstring, Std.JSON.Errors._ISerializationError>.create_Success(Std.JSON.Grammar.jstring.create(Std.JSON.Grammar.__default.DOUBLEQUOTE, Std.JSON.Utils.Views.Core.View__.OfBytes(_1_bs), Std.JSON.Grammar.__default.DOUBLEQUOTE));
        } else {
          return Std.Wrappers.Result<Std.JSON.Grammar._Ijstring, Std.JSON.Errors._ISerializationError>.create_Failure((_2_o).dtor_error);
        }
      }
    }
    public static Std.JSON.Utils.Views.Core._IView__ Sign(BigInteger n) {
      return Std.JSON.Utils.Views.Core.View__.OfBytes((((n).Sign == -1) ? (Dafny.Sequence<byte>.FromElements((byte)((new Dafny.Rune('-')).Value))) : (Dafny.Sequence<byte>.FromElements())));
    }
    public static Dafny.ISequence<byte> Int_k(BigInteger n) {
      return Std.JSON.ByteStrConversion.__default.OfInt(n, Std.JSON.Serializer.__default.MINUS);
    }
    public static Std.Wrappers._IResult<Std.JSON.Utils.Views.Core._IView__, Std.JSON.Errors._ISerializationError> Int(BigInteger n) {
      Dafny.ISequence<byte> _0_bs = Std.JSON.Serializer.__default.Int_k(n);
      Std.Wrappers._IOutcome<Std.JSON.Errors._ISerializationError> _1_o = Std.JSON.Serializer.__default.CheckLength<byte>(_0_bs, Std.JSON.Errors.SerializationError.create_IntTooLarge(n));
      if ((_1_o).is_Pass) {
        return Std.Wrappers.Result<Std.JSON.Utils.Views.Core._IView__, Std.JSON.Errors._ISerializationError>.create_Success(Std.JSON.Utils.Views.Core.View__.OfBytes(_0_bs));
      } else {
        return Std.Wrappers.Result<Std.JSON.Utils.Views.Core._IView__, Std.JSON.Errors._ISerializationError>.create_Failure((_1_o).dtor_error);
      }
    }
    public static Std.Wrappers._IResult<Std.JSON.Grammar._Ijnumber, Std.JSON.Errors._ISerializationError> Number(Std.JSON.Values._IDecimal dec) {
      var _pat_let_tv0 = dec;
      var _pat_let_tv1 = dec;
      Std.JSON.Utils.Views.Core._IView__ _0_minus = Std.JSON.Serializer.__default.Sign((dec).dtor_n);
      Std.Wrappers._IResult<Std.JSON.Utils.Views.Core._IView__, Std.JSON.Errors._ISerializationError> _1_valueOrError0 = Std.JSON.Serializer.__default.Int(Std.Math.__default.Abs((dec).dtor_n));
      if ((_1_valueOrError0).IsFailure()) {
        return (_1_valueOrError0).PropagateFailure<Std.JSON.Grammar._Ijnumber>();
      } else {
        Std.JSON.Utils.Views.Core._IView__ _2_num = (_1_valueOrError0).Extract();
        Std.JSON.Grammar._IMaybe<Std.JSON.Grammar._Ijfrac> _3_frac = Std.JSON.Grammar.Maybe<Std.JSON.Grammar._Ijfrac>.create_Empty();
        Std.Wrappers._IResult<Std.JSON.Grammar._IMaybe<Std.JSON.Grammar._Ijexp>, Std.JSON.Errors._ISerializationError> _4_valueOrError1 = ((((dec).dtor_e10).Sign == 0) ? (Std.Wrappers.Result<Std.JSON.Grammar._IMaybe<Std.JSON.Grammar._Ijexp>, Std.JSON.Errors._ISerializationError>.create_Success(Std.JSON.Grammar.Maybe<Std.JSON.Grammar._Ijexp>.create_Empty())) : (Dafny.Helpers.Let<Std.JSON.Utils.Views.Core._IView__, Std.Wrappers._IResult<Std.JSON.Grammar._IMaybe<Std.JSON.Grammar._Ijexp>, Std.JSON.Errors._ISerializationError>>(Std.JSON.Utils.Views.Core.View__.OfBytes(Dafny.Sequence<byte>.FromElements((byte)((new Dafny.Rune('e')).Value))), _pat_let2_0 => Dafny.Helpers.Let<Std.JSON.Utils.Views.Core._IView__, Std.Wrappers._IResult<Std.JSON.Grammar._IMaybe<Std.JSON.Grammar._Ijexp>, Std.JSON.Errors._ISerializationError>>(_pat_let2_0, _5_e => Dafny.Helpers.Let<Std.JSON.Utils.Views.Core._IView__, Std.Wrappers._IResult<Std.JSON.Grammar._IMaybe<Std.JSON.Grammar._Ijexp>, Std.JSON.Errors._ISerializationError>>(Std.JSON.Serializer.__default.Sign((_pat_let_tv0).dtor_e10), _pat_let3_0 => Dafny.Helpers.Let<Std.JSON.Utils.Views.Core._IView__, Std.Wrappers._IResult<Std.JSON.Grammar._IMaybe<Std.JSON.Grammar._Ijexp>, Std.JSON.Errors._ISerializationError>>(_pat_let3_0, _6_sign => Dafny.Helpers.Let<Std.Wrappers._IResult<Std.JSON.Utils.Views.Core._IView__, Std.JSON.Errors._ISerializationError>, Std.Wrappers._IResult<Std.JSON.Grammar._IMaybe<Std.JSON.Grammar._Ijexp>, Std.JSON.Errors._ISerializationError>>(Std.JSON.Serializer.__default.Int(Std.Math.__default.Abs((_pat_let_tv1).dtor_e10)), _pat_let4_0 => Dafny.Helpers.Let<Std.Wrappers._IResult<Std.JSON.Utils.Views.Core._IView__, Std.JSON.Errors._ISerializationError>, Std.Wrappers._IResult<Std.JSON.Grammar._IMaybe<Std.JSON.Grammar._Ijexp>, Std.JSON.Errors._ISerializationError>>(_pat_let4_0, _7_valueOrError2 => (((_7_valueOrError2).IsFailure()) ? ((_7_valueOrError2).PropagateFailure<Std.JSON.Grammar._IMaybe<Std.JSON.Grammar._Ijexp>>()) : (Dafny.Helpers.Let<Std.JSON.Utils.Views.Core._IView__, Std.Wrappers._IResult<Std.JSON.Grammar._IMaybe<Std.JSON.Grammar._Ijexp>, Std.JSON.Errors._ISerializationError>>((_7_valueOrError2).Extract(), _pat_let5_0 => Dafny.Helpers.Let<Std.JSON.Utils.Views.Core._IView__, Std.Wrappers._IResult<Std.JSON.Grammar._IMaybe<Std.JSON.Grammar._Ijexp>, Std.JSON.Errors._ISerializationError>>(_pat_let5_0, _8_num => Std.Wrappers.Result<Std.JSON.Grammar._IMaybe<Std.JSON.Grammar._Ijexp>, Std.JSON.Errors._ISerializationError>.create_Success(Std.JSON.Grammar.Maybe<Std.JSON.Grammar._Ijexp>.create_NonEmpty(Std.JSON.Grammar.jexp.create(_5_e, _6_sign, _8_num)))))))))))))));
        if ((_4_valueOrError1).IsFailure()) {
          return (_4_valueOrError1).PropagateFailure<Std.JSON.Grammar._Ijnumber>();
        } else {
          Std.JSON.Grammar._IMaybe<Std.JSON.Grammar._Ijexp> _9_exp = (_4_valueOrError1).Extract();
          return Std.Wrappers.Result<Std.JSON.Grammar._Ijnumber, Std.JSON.Errors._ISerializationError>.create_Success(Std.JSON.Grammar.jnumber.create(_0_minus, _2_num, Std.JSON.Grammar.Maybe<Std.JSON.Grammar._Ijfrac>.create_Empty(), _9_exp));
        }
      }
    }
    public static Std.JSON.Grammar._IStructural<__T> MkStructural<__T>(__T v) {
      return Std.JSON.Grammar.Structural<__T>.create(Std.JSON.Grammar.__default.EMPTY, v, Std.JSON.Grammar.__default.EMPTY);
    }
    public static Std.Wrappers._IResult<Std.JSON.Grammar._IjKeyValue, Std.JSON.Errors._ISerializationError> KeyValue(_System._ITuple2<Dafny.ISequence<Dafny.Rune>, Std.JSON.Values._IJSON> kv) {
      Std.Wrappers._IResult<Std.JSON.Grammar._Ijstring, Std.JSON.Errors._ISerializationError> _0_valueOrError0 = Std.JSON.Serializer.__default.String((kv).dtor__0);
      if ((_0_valueOrError0).IsFailure()) {
        return (_0_valueOrError0).PropagateFailure<Std.JSON.Grammar._IjKeyValue>();
      } else {
        Std.JSON.Grammar._Ijstring _1_k = (_0_valueOrError0).Extract();
        Std.Wrappers._IResult<Std.JSON.Grammar._IValue, Std.JSON.Errors._ISerializationError> _2_valueOrError1 = Std.JSON.Serializer.__default.Value((kv).dtor__1);
        if ((_2_valueOrError1).IsFailure()) {
          return (_2_valueOrError1).PropagateFailure<Std.JSON.Grammar._IjKeyValue>();
        } else {
          Std.JSON.Grammar._IValue _3_v = (_2_valueOrError1).Extract();
          return Std.Wrappers.Result<Std.JSON.Grammar._IjKeyValue, Std.JSON.Errors._ISerializationError>.create_Success(Std.JSON.Grammar.jKeyValue.create(_1_k, Std.JSON.Serializer.__default.COLON, _3_v));
        }
      }
    }
    public static Dafny.ISequence<Std.JSON.Grammar._ISuffixed<__D, __S>> MkSuffixedSequence<__D, __S>(Dafny.ISequence<__D> ds, Std.JSON.Grammar._IStructural<__S> suffix, BigInteger start)
    {
      Dafny.ISequence<Std.JSON.Grammar._ISuffixed<__D, __S>> _0___accumulator = Dafny.Sequence<Std.JSON.Grammar._ISuffixed<__D, __S>>.FromElements();
    TAIL_CALL_START: ;
      if ((start) >= (new BigInteger((ds).Count))) {
        return Dafny.Sequence<Std.JSON.Grammar._ISuffixed<__D, __S>>.Concat(_0___accumulator, Dafny.Sequence<Std.JSON.Grammar._ISuffixed<__D, __S>>.FromElements());
      } else if ((start) == ((new BigInteger((ds).Count)) - (BigInteger.One))) {
        return Dafny.Sequence<Std.JSON.Grammar._ISuffixed<__D, __S>>.Concat(_0___accumulator, Dafny.Sequence<Std.JSON.Grammar._ISuffixed<__D, __S>>.FromElements(Std.JSON.Grammar.Suffixed<__D, __S>.create((ds).Select(start), Std.JSON.Grammar.Maybe<Std.JSON.Grammar._IStructural<__S>>.create_Empty())));
      } else {
        _0___accumulator = Dafny.Sequence<Std.JSON.Grammar._ISuffixed<__D, __S>>.Concat(_0___accumulator, Dafny.Sequence<Std.JSON.Grammar._ISuffixed<__D, __S>>.FromElements(Std.JSON.Grammar.Suffixed<__D, __S>.create((ds).Select(start), Std.JSON.Grammar.Maybe<Std.JSON.Grammar._IStructural<__S>>.create_NonEmpty(suffix))));
        Dafny.ISequence<__D> _in0 = ds;
        Std.JSON.Grammar._IStructural<__S> _in1 = suffix;
        BigInteger _in2 = (start) + (BigInteger.One);
        ds = _in0;
        suffix = _in1;
        start = _in2;
        goto TAIL_CALL_START;
      }
    }
    public static Std.Wrappers._IResult<Std.JSON.Grammar._IBracketed<Std.JSON.Utils.Views.Core._IView__, Std.JSON.Grammar._IjKeyValue, Std.JSON.Utils.Views.Core._IView__, Std.JSON.Utils.Views.Core._IView__>, Std.JSON.Errors._ISerializationError> Object(Dafny.ISequence<_System._ITuple2<Dafny.ISequence<Dafny.Rune>, Std.JSON.Values._IJSON>> obj) {
      Std.Wrappers._IResult<Dafny.ISequence<Std.JSON.Grammar._IjKeyValue>, Std.JSON.Errors._ISerializationError> _0_valueOrError0 = Std.Collections.Seq.__default.MapWithResult<_System._ITuple2<Dafny.ISequence<Dafny.Rune>, Std.JSON.Values._IJSON>, Std.JSON.Grammar._IjKeyValue, Std.JSON.Errors._ISerializationError>(Dafny.Helpers.Id<Func<Dafny.ISequence<_System._ITuple2<Dafny.ISequence<Dafny.Rune>, Std.JSON.Values._IJSON>>, Func<_System._ITuple2<Dafny.ISequence<Dafny.Rune>, Std.JSON.Values._IJSON>, Std.Wrappers._IResult<Std.JSON.Grammar._IjKeyValue, Std.JSON.Errors._ISerializationError>>>>((_1_obj) => ((System.Func<_System._ITuple2<Dafny.ISequence<Dafny.Rune>, Std.JSON.Values._IJSON>, Std.Wrappers._IResult<Std.JSON.Grammar._IjKeyValue, Std.JSON.Errors._ISerializationError>>)((_2_v) => {
        return Std.JSON.Serializer.__default.KeyValue(_2_v);
      })))(obj), obj);
      if ((_0_valueOrError0).IsFailure()) {
        return (_0_valueOrError0).PropagateFailure<Std.JSON.Grammar._IBracketed<Std.JSON.Utils.Views.Core._IView__, Std.JSON.Grammar._IjKeyValue, Std.JSON.Utils.Views.Core._IView__, Std.JSON.Utils.Views.Core._IView__>>();
      } else {
        Dafny.ISequence<Std.JSON.Grammar._IjKeyValue> _3_items = (_0_valueOrError0).Extract();
        return Std.Wrappers.Result<Std.JSON.Grammar._IBracketed<Std.JSON.Utils.Views.Core._IView__, Std.JSON.Grammar._IjKeyValue, Std.JSON.Utils.Views.Core._IView__, Std.JSON.Utils.Views.Core._IView__>, Std.JSON.Errors._ISerializationError>.create_Success(Std.JSON.Grammar.Bracketed<Std.JSON.Utils.Views.Core._IView__, Std.JSON.Grammar._IjKeyValue, Std.JSON.Utils.Views.Core._IView__, Std.JSON.Utils.Views.Core._IView__>.create(Std.JSON.Serializer.__default.MkStructural<Std.JSON.Utils.Views.Core._IView__>(Std.JSON.Grammar.__default.LBRACE), Std.JSON.Serializer.__default.MkSuffixedSequence<Std.JSON.Grammar._IjKeyValue, Std.JSON.Utils.Views.Core._IView__>(_3_items, Std.JSON.Serializer.__default.COMMA, BigInteger.Zero), Std.JSON.Serializer.__default.MkStructural<Std.JSON.Utils.Views.Core._IView__>(Std.JSON.Grammar.__default.RBRACE)));
      }
    }
    public static Std.Wrappers._IResult<Std.JSON.Grammar._IBracketed<Std.JSON.Utils.Views.Core._IView__, Std.JSON.Grammar._IValue, Std.JSON.Utils.Views.Core._IView__, Std.JSON.Utils.Views.Core._IView__>, Std.JSON.Errors._ISerializationError> Array(Dafny.ISequence<Std.JSON.Values._IJSON> arr) {
      Std.Wrappers._IResult<Dafny.ISequence<Std.JSON.Grammar._IValue>, Std.JSON.Errors._ISerializationError> _0_valueOrError0 = Std.Collections.Seq.__default.MapWithResult<Std.JSON.Values._IJSON, Std.JSON.Grammar._IValue, Std.JSON.Errors._ISerializationError>(Dafny.Helpers.Id<Func<Dafny.ISequence<Std.JSON.Values._IJSON>, Func<Std.JSON.Values._IJSON, Std.Wrappers._IResult<Std.JSON.Grammar._IValue, Std.JSON.Errors._ISerializationError>>>>((_1_arr) => ((System.Func<Std.JSON.Values._IJSON, Std.Wrappers._IResult<Std.JSON.Grammar._IValue, Std.JSON.Errors._ISerializationError>>)((_2_v) => {
        return Std.JSON.Serializer.__default.Value(_2_v);
      })))(arr), arr);
      if ((_0_valueOrError0).IsFailure()) {
        return (_0_valueOrError0).PropagateFailure<Std.JSON.Grammar._IBracketed<Std.JSON.Utils.Views.Core._IView__, Std.JSON.Grammar._IValue, Std.JSON.Utils.Views.Core._IView__, Std.JSON.Utils.Views.Core._IView__>>();
      } else {
        Dafny.ISequence<Std.JSON.Grammar._IValue> _3_items = (_0_valueOrError0).Extract();
        return Std.Wrappers.Result<Std.JSON.Grammar._IBracketed<Std.JSON.Utils.Views.Core._IView__, Std.JSON.Grammar._IValue, Std.JSON.Utils.Views.Core._IView__, Std.JSON.Utils.Views.Core._IView__>, Std.JSON.Errors._ISerializationError>.create_Success(Std.JSON.Grammar.Bracketed<Std.JSON.Utils.Views.Core._IView__, Std.JSON.Grammar._IValue, Std.JSON.Utils.Views.Core._IView__, Std.JSON.Utils.Views.Core._IView__>.create(Std.JSON.Serializer.__default.MkStructural<Std.JSON.Utils.Views.Core._IView__>(Std.JSON.Grammar.__default.LBRACKET), Std.JSON.Serializer.__default.MkSuffixedSequence<Std.JSON.Grammar._IValue, Std.JSON.Utils.Views.Core._IView__>(_3_items, Std.JSON.Serializer.__default.COMMA, BigInteger.Zero), Std.JSON.Serializer.__default.MkStructural<Std.JSON.Utils.Views.Core._IView__>(Std.JSON.Grammar.__default.RBRACKET)));
      }
    }
    public static Std.Wrappers._IResult<Std.JSON.Grammar._IValue, Std.JSON.Errors._ISerializationError> Value(Std.JSON.Values._IJSON js) {
      Std.JSON.Values._IJSON _source0 = js;
      {
        if (_source0.is_Null) {
          return Std.Wrappers.Result<Std.JSON.Grammar._IValue, Std.JSON.Errors._ISerializationError>.create_Success(Std.JSON.Grammar.Value.create_Null(Std.JSON.Utils.Views.Core.View__.OfBytes(Std.JSON.Grammar.__default.NULL)));
        }
      }
      {
        if (_source0.is_Bool) {
          bool _0_b = _source0.dtor_b;
          return Std.Wrappers.Result<Std.JSON.Grammar._IValue, Std.JSON.Errors._ISerializationError>.create_Success(Std.JSON.Grammar.Value.create_Bool(Std.JSON.Serializer.__default.Bool(_0_b)));
        }
      }
      {
        if (_source0.is_String) {
          Dafny.ISequence<Dafny.Rune> _1_str = _source0.dtor_str;
          Std.Wrappers._IResult<Std.JSON.Grammar._Ijstring, Std.JSON.Errors._ISerializationError> _2_valueOrError0 = Std.JSON.Serializer.__default.String(_1_str);
          if ((_2_valueOrError0).IsFailure()) {
            return (_2_valueOrError0).PropagateFailure<Std.JSON.Grammar._IValue>();
          } else {
            Std.JSON.Grammar._Ijstring _3_s = (_2_valueOrError0).Extract();
            return Std.Wrappers.Result<Std.JSON.Grammar._IValue, Std.JSON.Errors._ISerializationError>.create_Success(Std.JSON.Grammar.Value.create_String(_3_s));
          }
        }
      }
      {
        if (_source0.is_Number) {
          Std.JSON.Values._IDecimal _4_dec = _source0.dtor_num;
          Std.Wrappers._IResult<Std.JSON.Grammar._Ijnumber, Std.JSON.Errors._ISerializationError> _5_valueOrError1 = Std.JSON.Serializer.__default.Number(_4_dec);
          if ((_5_valueOrError1).IsFailure()) {
            return (_5_valueOrError1).PropagateFailure<Std.JSON.Grammar._IValue>();
          } else {
            Std.JSON.Grammar._Ijnumber _6_n = (_5_valueOrError1).Extract();
            return Std.Wrappers.Result<Std.JSON.Grammar._IValue, Std.JSON.Errors._ISerializationError>.create_Success(Std.JSON.Grammar.Value.create_Number(_6_n));
          }
        }
      }
      {
        if (_source0.is_Object) {
          Dafny.ISequence<_System._ITuple2<Dafny.ISequence<Dafny.Rune>, Std.JSON.Values._IJSON>> _7_obj = _source0.dtor_obj;
          Std.Wrappers._IResult<Std.JSON.Grammar._IBracketed<Std.JSON.Utils.Views.Core._IView__, Std.JSON.Grammar._IjKeyValue, Std.JSON.Utils.Views.Core._IView__, Std.JSON.Utils.Views.Core._IView__>, Std.JSON.Errors._ISerializationError> _8_valueOrError2 = Std.JSON.Serializer.__default.Object(_7_obj);
          if ((_8_valueOrError2).IsFailure()) {
            return (_8_valueOrError2).PropagateFailure<Std.JSON.Grammar._IValue>();
          } else {
            Std.JSON.Grammar._IBracketed<Std.JSON.Utils.Views.Core._IView__, Std.JSON.Grammar._IjKeyValue, Std.JSON.Utils.Views.Core._IView__, Std.JSON.Utils.Views.Core._IView__> _9_o = (_8_valueOrError2).Extract();
            return Std.Wrappers.Result<Std.JSON.Grammar._IValue, Std.JSON.Errors._ISerializationError>.create_Success(Std.JSON.Grammar.Value.create_Object(_9_o));
          }
        }
      }
      {
        Dafny.ISequence<Std.JSON.Values._IJSON> _10_arr = _source0.dtor_arr;
        Std.Wrappers._IResult<Std.JSON.Grammar._IBracketed<Std.JSON.Utils.Views.Core._IView__, Std.JSON.Grammar._IValue, Std.JSON.Utils.Views.Core._IView__, Std.JSON.Utils.Views.Core._IView__>, Std.JSON.Errors._ISerializationError> _11_valueOrError3 = Std.JSON.Serializer.__default.Array(_10_arr);
        if ((_11_valueOrError3).IsFailure()) {
          return (_11_valueOrError3).PropagateFailure<Std.JSON.Grammar._IValue>();
        } else {
          Std.JSON.Grammar._IBracketed<Std.JSON.Utils.Views.Core._IView__, Std.JSON.Grammar._IValue, Std.JSON.Utils.Views.Core._IView__, Std.JSON.Utils.Views.Core._IView__> _12_a = (_11_valueOrError3).Extract();
          return Std.Wrappers.Result<Std.JSON.Grammar._IValue, Std.JSON.Errors._ISerializationError>.create_Success(Std.JSON.Grammar.Value.create_Array(_12_a));
        }
      }
    }
    public static Std.Wrappers._IResult<Std.JSON.Grammar._IStructural<Std.JSON.Grammar._IValue>, Std.JSON.Errors._ISerializationError> JSON(Std.JSON.Values._IJSON js) {
      Std.Wrappers._IResult<Std.JSON.Grammar._IValue, Std.JSON.Errors._ISerializationError> _0_valueOrError0 = Std.JSON.Serializer.__default.Value(js);
      if ((_0_valueOrError0).IsFailure()) {
        return (_0_valueOrError0).PropagateFailure<Std.JSON.Grammar._IStructural<Std.JSON.Grammar._IValue>>();
      } else {
        Std.JSON.Grammar._IValue _1_val = (_0_valueOrError0).Extract();
        return Std.Wrappers.Result<Std.JSON.Grammar._IStructural<Std.JSON.Grammar._IValue>, Std.JSON.Errors._ISerializationError>.create_Success(Std.JSON.Serializer.__default.MkStructural<Std.JSON.Grammar._IValue>(_1_val));
      }
    }
    public static Dafny.ISequence<byte> DIGITS { get {
      return Std.JSON.ByteStrConversion.__default.chars;
    } }
    public static byte MINUS { get {
      return (byte)((new Dafny.Rune('-')).Value);
    } }
    public static Std.JSON.Grammar._IStructural<Std.JSON.Utils.Views.Core._IView__> COLON { get {
      return Std.JSON.Serializer.__default.MkStructural<Std.JSON.Utils.Views.Core._IView__>(Std.JSON.Grammar.__default.COLON);
    } }
    public static Std.JSON.Grammar._IStructural<Std.JSON.Utils.Views.Core._IView__> COMMA { get {
      return Std.JSON.Serializer.__default.MkStructural<Std.JSON.Utils.Views.Core._IView__>(Std.JSON.Grammar.__default.COMMA);
    } }
  }

  public partial class bytes32 {
    private static readonly Dafny.TypeDescriptor<Dafny.ISequence<byte>> _TYPE = new Dafny.TypeDescriptor<Dafny.ISequence<byte>>(Dafny.Sequence<byte>.Empty);
    public static Dafny.TypeDescriptor<Dafny.ISequence<byte>> _TypeDescriptor() {
      return _TYPE;
    }
    public static bool _Is(Dafny.ISequence<byte> __source) {
      Dafny.ISequence<byte> _0_bs = __source;
      return (new BigInteger((_0_bs).Count)) < (Std.BoundedInts.__default.TWO__TO__THE__32);
    }
  }

  public partial class string32 {
    private static readonly Dafny.TypeDescriptor<Dafny.ISequence<Dafny.Rune>> _TYPE = new Dafny.TypeDescriptor<Dafny.ISequence<Dafny.Rune>>(Dafny.Sequence<Dafny.Rune>.Empty);
    public static Dafny.TypeDescriptor<Dafny.ISequence<Dafny.Rune>> _TypeDescriptor() {
      return _TYPE;
    }
    public static bool _Is(Dafny.ISequence<Dafny.Rune> __source) {
      Dafny.ISequence<Dafny.Rune> _1_s = __source;
      return (new BigInteger((_1_s).Count)) < (Std.BoundedInts.__default.TWO__TO__THE__32);
    }
  }
} // end of namespace Std.JSON.Serializer
namespace Std.JSON.Deserializer.Uint16StrConversion {

  public partial class __default {
    public static BigInteger BASE() {
      return Std.JSON.Deserializer.Uint16StrConversion.__default.@base;
    }
    public static bool IsDigitChar(ushort c) {
      return (Std.JSON.Deserializer.Uint16StrConversion.__default.charToDigit).Contains(c);
    }
    public static Dafny.ISequence<ushort> OfDigits(Dafny.ISequence<BigInteger> digits) {
      Dafny.ISequence<ushort> _0___accumulator = Dafny.Sequence<ushort>.FromElements();
    TAIL_CALL_START: ;
      if ((digits).Equals(Dafny.Sequence<BigInteger>.FromElements())) {
        return Dafny.Sequence<ushort>.Concat(Dafny.Sequence<ushort>.FromElements(), _0___accumulator);
      } else {
        _0___accumulator = Dafny.Sequence<ushort>.Concat(Dafny.Sequence<ushort>.FromElements((Std.JSON.Deserializer.Uint16StrConversion.__default.chars).Select((digits).Select(BigInteger.Zero))), _0___accumulator);
        Dafny.ISequence<BigInteger> _in0 = (digits).Drop(BigInteger.One);
        digits = _in0;
        goto TAIL_CALL_START;
      }
    }
    public static Dafny.ISequence<ushort> OfNat(BigInteger n) {
      if ((n).Sign == 0) {
        return Dafny.Sequence<ushort>.FromElements((Std.JSON.Deserializer.Uint16StrConversion.__default.chars).Select(BigInteger.Zero));
      } else {
        return Std.JSON.Deserializer.Uint16StrConversion.__default.OfDigits(Std.JSON.Deserializer.Uint16StrConversion.__default.FromNat(n));
      }
    }
    public static bool IsNumberStr(Dafny.ISequence<ushort> str, ushort minus)
    {
      return !(!(str).Equals(Dafny.Sequence<ushort>.FromElements())) || (((((str).Select(BigInteger.Zero)) == (minus)) || ((Std.JSON.Deserializer.Uint16StrConversion.__default.charToDigit).Contains((str).Select(BigInteger.Zero)))) && (Dafny.Helpers.Id<Func<Dafny.ISequence<ushort>, bool>>((_0_str) => Dafny.Helpers.Quantifier<ushort>(((_0_str).Drop(BigInteger.One)).UniqueElements, true, (((_forall_var_0) => {
        ushort _1_c = (ushort)_forall_var_0;
        return !(((_0_str).Drop(BigInteger.One)).Contains(_1_c)) || (Std.JSON.Deserializer.Uint16StrConversion.__default.IsDigitChar(_1_c));
      }))))(str)));
    }
    public static Dafny.ISequence<ushort> OfInt(BigInteger n, ushort minus)
    {
      if ((n).Sign != -1) {
        return Std.JSON.Deserializer.Uint16StrConversion.__default.OfNat(n);
      } else {
        return Dafny.Sequence<ushort>.Concat(Dafny.Sequence<ushort>.FromElements(minus), Std.JSON.Deserializer.Uint16StrConversion.__default.OfNat((BigInteger.Zero) - (n)));
      }
    }
    public static BigInteger ToNat(Dafny.ISequence<ushort> str) {
      if ((str).Equals(Dafny.Sequence<ushort>.FromElements())) {
        return BigInteger.Zero;
      } else {
        ushort _0_c = (str).Select((new BigInteger((str).Count)) - (BigInteger.One));
        return ((Std.JSON.Deserializer.Uint16StrConversion.__default.ToNat((str).Take((new BigInteger((str).Count)) - (BigInteger.One)))) * (Std.JSON.Deserializer.Uint16StrConversion.__default.@base)) + (Dafny.Map<ushort, BigInteger>.Select(Std.JSON.Deserializer.Uint16StrConversion.__default.charToDigit,_0_c));
      }
    }
    public static BigInteger ToInt(Dafny.ISequence<ushort> str, ushort minus)
    {
      if (Dafny.Sequence<ushort>.IsPrefixOf(Dafny.Sequence<ushort>.FromElements(minus), str)) {
        return (BigInteger.Zero) - (Std.JSON.Deserializer.Uint16StrConversion.__default.ToNat((str).Drop(BigInteger.One)));
      } else {
        return Std.JSON.Deserializer.Uint16StrConversion.__default.ToNat(str);
      }
    }
    public static BigInteger ToNatRight(Dafny.ISequence<BigInteger> xs) {
      if ((new BigInteger((xs).Count)).Sign == 0) {
        return BigInteger.Zero;
      } else {
        return ((Std.JSON.Deserializer.Uint16StrConversion.__default.ToNatRight(Std.Collections.Seq.__default.DropFirst<BigInteger>(xs))) * (Std.JSON.Deserializer.Uint16StrConversion.__default.BASE())) + (Std.Collections.Seq.__default.First<BigInteger>(xs));
      }
    }
    public static BigInteger ToNatLeft(Dafny.ISequence<BigInteger> xs) {
      BigInteger _0___accumulator = BigInteger.Zero;
    TAIL_CALL_START: ;
      if ((new BigInteger((xs).Count)).Sign == 0) {
        return (BigInteger.Zero) + (_0___accumulator);
      } else {
        _0___accumulator = ((Std.Collections.Seq.__default.Last<BigInteger>(xs)) * (Std.Arithmetic.Power.__default.Pow(Std.JSON.Deserializer.Uint16StrConversion.__default.BASE(), (new BigInteger((xs).Count)) - (BigInteger.One)))) + (_0___accumulator);
        Dafny.ISequence<BigInteger> _in0 = Std.Collections.Seq.__default.DropLast<BigInteger>(xs);
        xs = _in0;
        goto TAIL_CALL_START;
      }
    }
    public static Dafny.ISequence<BigInteger> FromNat(BigInteger n) {
      Dafny.ISequence<BigInteger> _0___accumulator = Dafny.Sequence<BigInteger>.FromElements();
    TAIL_CALL_START: ;
      if ((n).Sign == 0) {
        return Dafny.Sequence<BigInteger>.Concat(_0___accumulator, Dafny.Sequence<BigInteger>.FromElements());
      } else {
        _0___accumulator = Dafny.Sequence<BigInteger>.Concat(_0___accumulator, Dafny.Sequence<BigInteger>.FromElements(Dafny.Helpers.EuclideanModulus(n, Std.JSON.Deserializer.Uint16StrConversion.__default.BASE())));
        BigInteger _in0 = Dafny.Helpers.EuclideanDivision(n, Std.JSON.Deserializer.Uint16StrConversion.__default.BASE());
        n = _in0;
        goto TAIL_CALL_START;
      }
    }
    public static Dafny.ISequence<BigInteger> SeqExtend(Dafny.ISequence<BigInteger> xs, BigInteger n)
    {
    TAIL_CALL_START: ;
      if ((new BigInteger((xs).Count)) >= (n)) {
        return xs;
      } else {
        Dafny.ISequence<BigInteger> _in0 = Dafny.Sequence<BigInteger>.Concat(xs, Dafny.Sequence<BigInteger>.FromElements(BigInteger.Zero));
        BigInteger _in1 = n;
        xs = _in0;
        n = _in1;
        goto TAIL_CALL_START;
      }
    }
    public static Dafny.ISequence<BigInteger> SeqExtendMultiple(Dafny.ISequence<BigInteger> xs, BigInteger n)
    {
      BigInteger _0_newLen = ((new BigInteger((xs).Count)) + (n)) - (Dafny.Helpers.EuclideanModulus(new BigInteger((xs).Count), n));
      return Std.JSON.Deserializer.Uint16StrConversion.__default.SeqExtend(xs, _0_newLen);
    }
    public static Dafny.ISequence<BigInteger> FromNatWithLen(BigInteger n, BigInteger len)
    {
      return Std.JSON.Deserializer.Uint16StrConversion.__default.SeqExtend(Std.JSON.Deserializer.Uint16StrConversion.__default.FromNat(n), len);
    }
    public static Dafny.ISequence<BigInteger> SeqZero(BigInteger len) {
      Dafny.ISequence<BigInteger> _0_xs = Std.JSON.Deserializer.Uint16StrConversion.__default.FromNatWithLen(BigInteger.Zero, len);
      return _0_xs;
    }
    public static _System._ITuple2<Dafny.ISequence<BigInteger>, BigInteger> SeqAdd(Dafny.ISequence<BigInteger> xs, Dafny.ISequence<BigInteger> ys)
    {
      if ((new BigInteger((xs).Count)).Sign == 0) {
        return _System.Tuple2<Dafny.ISequence<BigInteger>, BigInteger>.create(Dafny.Sequence<BigInteger>.FromElements(), BigInteger.Zero);
      } else {
        _System._ITuple2<Dafny.ISequence<BigInteger>, BigInteger> _let_tmp_rhs0 = Std.JSON.Deserializer.Uint16StrConversion.__default.SeqAdd(Std.Collections.Seq.__default.DropLast<BigInteger>(xs), Std.Collections.Seq.__default.DropLast<BigInteger>(ys));
        Dafny.ISequence<BigInteger> _0_zs_k = _let_tmp_rhs0.dtor__0;
        BigInteger _1_cin = _let_tmp_rhs0.dtor__1;
        BigInteger _2_sum = ((Std.Collections.Seq.__default.Last<BigInteger>(xs)) + (Std.Collections.Seq.__default.Last<BigInteger>(ys))) + (_1_cin);
        _System._ITuple2<BigInteger, BigInteger> _let_tmp_rhs1 = (((_2_sum) < (Std.JSON.Deserializer.Uint16StrConversion.__default.BASE())) ? (_System.Tuple2<BigInteger, BigInteger>.create(_2_sum, BigInteger.Zero)) : (_System.Tuple2<BigInteger, BigInteger>.create((_2_sum) - (Std.JSON.Deserializer.Uint16StrConversion.__default.BASE()), BigInteger.One)));
        BigInteger _3_sum__out = _let_tmp_rhs1.dtor__0;
        BigInteger _4_cout = _let_tmp_rhs1.dtor__1;
        return _System.Tuple2<Dafny.ISequence<BigInteger>, BigInteger>.create(Dafny.Sequence<BigInteger>.Concat(_0_zs_k, Dafny.Sequence<BigInteger>.FromElements(_3_sum__out)), _4_cout);
      }
    }
    public static _System._ITuple2<Dafny.ISequence<BigInteger>, BigInteger> SeqSub(Dafny.ISequence<BigInteger> xs, Dafny.ISequence<BigInteger> ys)
    {
      if ((new BigInteger((xs).Count)).Sign == 0) {
        return _System.Tuple2<Dafny.ISequence<BigInteger>, BigInteger>.create(Dafny.Sequence<BigInteger>.FromElements(), BigInteger.Zero);
      } else {
        _System._ITuple2<Dafny.ISequence<BigInteger>, BigInteger> _let_tmp_rhs0 = Std.JSON.Deserializer.Uint16StrConversion.__default.SeqSub(Std.Collections.Seq.__default.DropLast<BigInteger>(xs), Std.Collections.Seq.__default.DropLast<BigInteger>(ys));
        Dafny.ISequence<BigInteger> _0_zs = _let_tmp_rhs0.dtor__0;
        BigInteger _1_cin = _let_tmp_rhs0.dtor__1;
        _System._ITuple2<BigInteger, BigInteger> _let_tmp_rhs1 = (((Std.Collections.Seq.__default.Last<BigInteger>(xs)) >= ((Std.Collections.Seq.__default.Last<BigInteger>(ys)) + (_1_cin))) ? (_System.Tuple2<BigInteger, BigInteger>.create(((Std.Collections.Seq.__default.Last<BigInteger>(xs)) - (Std.Collections.Seq.__default.Last<BigInteger>(ys))) - (_1_cin), BigInteger.Zero)) : (_System.Tuple2<BigInteger, BigInteger>.create((((Std.JSON.Deserializer.Uint16StrConversion.__default.BASE()) + (Std.Collections.Seq.__default.Last<BigInteger>(xs))) - (Std.Collections.Seq.__default.Last<BigInteger>(ys))) - (_1_cin), BigInteger.One)));
        BigInteger _2_diff__out = _let_tmp_rhs1.dtor__0;
        BigInteger _3_cout = _let_tmp_rhs1.dtor__1;
        return _System.Tuple2<Dafny.ISequence<BigInteger>, BigInteger>.create(Dafny.Sequence<BigInteger>.Concat(_0_zs, Dafny.Sequence<BigInteger>.FromElements(_2_diff__out)), _3_cout);
      }
    }
    public static Dafny.ISequence<ushort> chars { get {
      return Dafny.Sequence<ushort>.FromElements((ushort)((new Dafny.Rune('0')).Value), (ushort)((new Dafny.Rune('1')).Value), (ushort)((new Dafny.Rune('2')).Value), (ushort)((new Dafny.Rune('3')).Value), (ushort)((new Dafny.Rune('4')).Value), (ushort)((new Dafny.Rune('5')).Value), (ushort)((new Dafny.Rune('6')).Value), (ushort)((new Dafny.Rune('7')).Value), (ushort)((new Dafny.Rune('8')).Value), (ushort)((new Dafny.Rune('9')).Value), (ushort)((new Dafny.Rune('a')).Value), (ushort)((new Dafny.Rune('b')).Value), (ushort)((new Dafny.Rune('c')).Value), (ushort)((new Dafny.Rune('d')).Value), (ushort)((new Dafny.Rune('e')).Value), (ushort)((new Dafny.Rune('f')).Value), (ushort)((new Dafny.Rune('A')).Value), (ushort)((new Dafny.Rune('B')).Value), (ushort)((new Dafny.Rune('C')).Value), (ushort)((new Dafny.Rune('D')).Value), (ushort)((new Dafny.Rune('E')).Value), (ushort)((new Dafny.Rune('F')).Value));
    } }
    public static BigInteger @base { get {
      return new BigInteger((Std.JSON.Deserializer.Uint16StrConversion.__default.chars).Count);
    } }
    public static Dafny.IMap<ushort,BigInteger> charToDigit { get {
      return Dafny.Map<ushort, BigInteger>.FromElements(new Dafny.Pair<ushort, BigInteger>((ushort)((new Dafny.Rune('0')).Value), BigInteger.Zero), new Dafny.Pair<ushort, BigInteger>((ushort)((new Dafny.Rune('1')).Value), BigInteger.One), new Dafny.Pair<ushort, BigInteger>((ushort)((new Dafny.Rune('2')).Value), new BigInteger(2)), new Dafny.Pair<ushort, BigInteger>((ushort)((new Dafny.Rune('3')).Value), new BigInteger(3)), new Dafny.Pair<ushort, BigInteger>((ushort)((new Dafny.Rune('4')).Value), new BigInteger(4)), new Dafny.Pair<ushort, BigInteger>((ushort)((new Dafny.Rune('5')).Value), new BigInteger(5)), new Dafny.Pair<ushort, BigInteger>((ushort)((new Dafny.Rune('6')).Value), new BigInteger(6)), new Dafny.Pair<ushort, BigInteger>((ushort)((new Dafny.Rune('7')).Value), new BigInteger(7)), new Dafny.Pair<ushort, BigInteger>((ushort)((new Dafny.Rune('8')).Value), new BigInteger(8)), new Dafny.Pair<ushort, BigInteger>((ushort)((new Dafny.Rune('9')).Value), new BigInteger(9)), new Dafny.Pair<ushort, BigInteger>((ushort)((new Dafny.Rune('a')).Value), new BigInteger(10)), new Dafny.Pair<ushort, BigInteger>((ushort)((new Dafny.Rune('b')).Value), new BigInteger(11)), new Dafny.Pair<ushort, BigInteger>((ushort)((new Dafny.Rune('c')).Value), new BigInteger(12)), new Dafny.Pair<ushort, BigInteger>((ushort)((new Dafny.Rune('d')).Value), new BigInteger(13)), new Dafny.Pair<ushort, BigInteger>((ushort)((new Dafny.Rune('e')).Value), new BigInteger(14)), new Dafny.Pair<ushort, BigInteger>((ushort)((new Dafny.Rune('f')).Value), new BigInteger(15)), new Dafny.Pair<ushort, BigInteger>((ushort)((new Dafny.Rune('A')).Value), new BigInteger(10)), new Dafny.Pair<ushort, BigInteger>((ushort)((new Dafny.Rune('B')).Value), new BigInteger(11)), new Dafny.Pair<ushort, BigInteger>((ushort)((new Dafny.Rune('C')).Value), new BigInteger(12)), new Dafny.Pair<ushort, BigInteger>((ushort)((new Dafny.Rune('D')).Value), new BigInteger(13)), new Dafny.Pair<ushort, BigInteger>((ushort)((new Dafny.Rune('E')).Value), new BigInteger(14)), new Dafny.Pair<ushort, BigInteger>((ushort)((new Dafny.Rune('F')).Value), new BigInteger(15)));
    } }
  }

  public partial class CharSeq {
    private static readonly Dafny.TypeDescriptor<Dafny.ISequence<ushort>> _TYPE = new Dafny.TypeDescriptor<Dafny.ISequence<ushort>>(Dafny.Sequence<ushort>.Empty);
    public static Dafny.TypeDescriptor<Dafny.ISequence<ushort>> _TypeDescriptor() {
      return _TYPE;
    }
    public static bool _Is(Dafny.ISequence<ushort> __source) {
      Dafny.ISequence<ushort> _0_chars = __source;
      return (new BigInteger((_0_chars).Count)) > (BigInteger.One);
    }
  }

  public partial class digit {
    private static readonly Dafny.TypeDescriptor<BigInteger> _TYPE = new Dafny.TypeDescriptor<BigInteger>(BigInteger.Zero);
    public static Dafny.TypeDescriptor<BigInteger> _TypeDescriptor() {
      return _TYPE;
    }
    public static bool _Is(BigInteger __source) {
      BigInteger _1_i = __source;
      if (_System.nat._Is(_1_i)) {
        return ((_1_i).Sign != -1) && ((_1_i) < (Std.JSON.Deserializer.Uint16StrConversion.__default.BASE()));
      }
      return false;
    }
  }
} // end of namespace Std.JSON.Deserializer.Uint16StrConversion
namespace Std.JSON.Deserializer {

  public partial class __default {
    public static bool Bool(Std.JSON.Utils.Views.Core._IView__ js) {
      return ((js).At(0U)) == ((byte)((new Dafny.Rune('t')).Value));
    }
    public static Std.JSON.Errors._IDeserializationError UnsupportedEscape16(Dafny.ISequence<ushort> code) {
      return Std.JSON.Errors.DeserializationError.create_UnsupportedEscape(Std.Wrappers.Option<Dafny.ISequence<Dafny.Rune>>.GetOr((Std.Unicode.UnicodeStringsWithUnicodeChar.__default.FromUTF16Checked(code)).ToOption(), Dafny.Sequence<Dafny.Rune>.UnicodeFromString("Couldn't decode UTF-16")));
    }
    public static ushort ToNat16(Dafny.ISequence<ushort> str) {
      BigInteger _0_hd = Std.JSON.Deserializer.Uint16StrConversion.__default.ToNat(str);
      return (ushort)(_0_hd);
    }
    public static Std.Wrappers._IResult<Dafny.ISequence<ushort>, Std.JSON.Errors._IDeserializationError> Unescape(Dafny.ISequence<ushort> str, BigInteger start, Dafny.ISequence<ushort> prefix)
    {
    TAIL_CALL_START: ;
      if ((start) >= (new BigInteger((str).Count))) {
        return Std.Wrappers.Result<Dafny.ISequence<ushort>, Std.JSON.Errors._IDeserializationError>.create_Success(prefix);
      } else if (((str).Select(start)) == ((ushort)((new Dafny.Rune('\\')).Value))) {
        if ((new BigInteger((str).Count)) == ((start) + (BigInteger.One))) {
          return Std.Wrappers.Result<Dafny.ISequence<ushort>, Std.JSON.Errors._IDeserializationError>.create_Failure(Std.JSON.Errors.DeserializationError.create_EscapeAtEOS());
        } else {
          ushort _0_c = (str).Select((start) + (BigInteger.One));
          if ((_0_c) == ((ushort)((new Dafny.Rune('u')).Value))) {
            if ((new BigInteger((str).Count)) < ((start) + (new BigInteger(6)))) {
              return Std.Wrappers.Result<Dafny.ISequence<ushort>, Std.JSON.Errors._IDeserializationError>.create_Failure(Std.JSON.Errors.DeserializationError.create_EscapeAtEOS());
            } else {
              Dafny.ISequence<ushort> _1_code = (str).Subsequence((start) + (new BigInteger(2)), (start) + (new BigInteger(6)));
              if (Dafny.Helpers.Id<Func<Dafny.ISequence<ushort>, bool>>((_2_code) => Dafny.Helpers.Quantifier<ushort>((_2_code).UniqueElements, false, (((_exists_var_0) => {
                ushort _3_c = (ushort)_exists_var_0;
                return ((_2_code).Contains(_3_c)) && (!(Std.JSON.Deserializer.__default.HEX__TABLE__16).Contains(_3_c));
              }))))(_1_code)) {
                return Std.Wrappers.Result<Dafny.ISequence<ushort>, Std.JSON.Errors._IDeserializationError>.create_Failure(Std.JSON.Deserializer.__default.UnsupportedEscape16(_1_code));
              } else {
                ushort _4_hd = Std.JSON.Deserializer.__default.ToNat16(_1_code);
                Dafny.ISequence<ushort> _in0 = str;
                BigInteger _in1 = (start) + (new BigInteger(6));
                Dafny.ISequence<ushort> _in2 = Dafny.Sequence<ushort>.Concat(prefix, Dafny.Sequence<ushort>.FromElements(_4_hd));
                str = _in0;
                start = _in1;
                prefix = _in2;
                goto TAIL_CALL_START;
              }
            }
          } else {
            ushort _5_unescaped = ((System.Func<ushort>)(() => {
              ushort _source0 = _0_c;
              {
                if ((_source0) == ((ushort)(34))) {
                  return (ushort)(34);
                }
              }
              {
                if ((_source0) == ((ushort)(92))) {
                  return (ushort)(92);
                }
              }
              {
                if ((_source0) == ((ushort)(98))) {
                  return (ushort)(8);
                }
              }
              {
                if ((_source0) == ((ushort)(102))) {
                  return (ushort)(12);
                }
              }
              {
                if ((_source0) == ((ushort)(110))) {
                  return (ushort)(10);
                }
              }
              {
                if ((_source0) == ((ushort)(114))) {
                  return (ushort)(13);
                }
              }
              {
                if ((_source0) == ((ushort)(116))) {
                  return (ushort)(9);
                }
              }
              {
                return (ushort)(0);
              }
            }))();
            if ((new BigInteger(_5_unescaped)).Sign == 0) {
              return Std.Wrappers.Result<Dafny.ISequence<ushort>, Std.JSON.Errors._IDeserializationError>.create_Failure(Std.JSON.Deserializer.__default.UnsupportedEscape16((str).Subsequence(start, (start) + (new BigInteger(2)))));
            } else {
              Dafny.ISequence<ushort> _in3 = str;
              BigInteger _in4 = (start) + (new BigInteger(2));
              Dafny.ISequence<ushort> _in5 = Dafny.Sequence<ushort>.Concat(prefix, Dafny.Sequence<ushort>.FromElements(_5_unescaped));
              str = _in3;
              start = _in4;
              prefix = _in5;
              goto TAIL_CALL_START;
            }
          }
        }
      } else {
        Dafny.ISequence<ushort> _in6 = str;
        BigInteger _in7 = (start) + (BigInteger.One);
        Dafny.ISequence<ushort> _in8 = Dafny.Sequence<ushort>.Concat(prefix, Dafny.Sequence<ushort>.FromElements((str).Select(start)));
        str = _in6;
        start = _in7;
        prefix = _in8;
        goto TAIL_CALL_START;
      }
    }
    public static Std.Wrappers._IResult<Dafny.ISequence<Dafny.Rune>, Std.JSON.Errors._IDeserializationError> String(Std.JSON.Grammar._Ijstring js) {
      Std.Wrappers._IResult<Dafny.ISequence<Dafny.Rune>, Std.JSON.Errors._IDeserializationError> _0_valueOrError0 = Std.Wrappers.Result<Dafny.ISequence<Dafny.Rune>, Dafny.ISequence<Dafny.Rune>>.MapFailure<Std.JSON.Errors._IDeserializationError>(Std.Unicode.UnicodeStringsWithUnicodeChar.__default.FromUTF8Checked(((js).dtor_contents).Bytes()), ((System.Func<Dafny.ISequence<Dafny.Rune>, Std.JSON.Errors._IDeserializationError>)((_1_error) => {
        return Std.JSON.Errors.DeserializationError.create_InvalidUnicode(_1_error);
      })));
      if ((_0_valueOrError0).IsFailure()) {
        return (_0_valueOrError0).PropagateFailure<Dafny.ISequence<Dafny.Rune>>();
      } else {
        Dafny.ISequence<Dafny.Rune> _2_asUtf32 = (_0_valueOrError0).Extract();
        Std.Wrappers._IResult<Dafny.ISequence<ushort>, Std.JSON.Errors._IDeserializationError> _3_valueOrError1 = (Std.Unicode.UnicodeStringsWithUnicodeChar.__default.ToUTF16Checked(_2_asUtf32)).ToResult<Std.JSON.Errors._IDeserializationError>(Std.JSON.Errors.DeserializationError.create_InvalidUnicode(Dafny.Sequence<Dafny.Rune>.UnicodeFromString("")));
        if ((_3_valueOrError1).IsFailure()) {
          return (_3_valueOrError1).PropagateFailure<Dafny.ISequence<Dafny.Rune>>();
        } else {
          Dafny.ISequence<ushort> _4_asUint16 = (_3_valueOrError1).Extract();
          Std.Wrappers._IResult<Dafny.ISequence<ushort>, Std.JSON.Errors._IDeserializationError> _5_valueOrError2 = Std.JSON.Deserializer.__default.Unescape(_4_asUint16, BigInteger.Zero, Dafny.Sequence<ushort>.FromElements());
          if ((_5_valueOrError2).IsFailure()) {
            return (_5_valueOrError2).PropagateFailure<Dafny.ISequence<Dafny.Rune>>();
          } else {
            Dafny.ISequence<ushort> _6_unescaped = (_5_valueOrError2).Extract();
            return Std.Wrappers.Result<Dafny.ISequence<Dafny.Rune>, Dafny.ISequence<Dafny.Rune>>.MapFailure<Std.JSON.Errors._IDeserializationError>(Std.Unicode.UnicodeStringsWithUnicodeChar.__default.FromUTF16Checked(_6_unescaped), ((System.Func<Dafny.ISequence<Dafny.Rune>, Std.JSON.Errors._IDeserializationError>)((_7_error) => {
              return Std.JSON.Errors.DeserializationError.create_InvalidUnicode(_7_error);
            })));
          }
        }
      }
    }
    public static Std.Wrappers._IResult<BigInteger, Std.JSON.Errors._IDeserializationError> ToInt(Std.JSON.Utils.Views.Core._IView__ sign, Std.JSON.Utils.Views.Core._IView__ n)
    {
      BigInteger _0_n = Std.JSON.ByteStrConversion.__default.ToNat((n).Bytes());
      return Std.Wrappers.Result<BigInteger, Std.JSON.Errors._IDeserializationError>.create_Success((((sign).Char_q(new Dafny.Rune('-'))) ? ((BigInteger.Zero) - (_0_n)) : (_0_n)));
    }
    public static Std.Wrappers._IResult<Std.JSON.Values._IDecimal, Std.JSON.Errors._IDeserializationError> Number(Std.JSON.Grammar._Ijnumber js) {
      Std.JSON.Grammar._Ijnumber _let_tmp_rhs0 = js;
      Std.JSON.Utils.Views.Core._IView__ _0_minus = _let_tmp_rhs0.dtor_minus;
      Std.JSON.Utils.Views.Core._IView__ _1_num = _let_tmp_rhs0.dtor_num;
      Std.JSON.Grammar._IMaybe<Std.JSON.Grammar._Ijfrac> _2_frac = _let_tmp_rhs0.dtor_frac;
      Std.JSON.Grammar._IMaybe<Std.JSON.Grammar._Ijexp> _3_exp = _let_tmp_rhs0.dtor_exp;
      Std.Wrappers._IResult<BigInteger, Std.JSON.Errors._IDeserializationError> _4_valueOrError0 = Std.JSON.Deserializer.__default.ToInt(_0_minus, _1_num);
      if ((_4_valueOrError0).IsFailure()) {
        return (_4_valueOrError0).PropagateFailure<Std.JSON.Values._IDecimal>();
      } else {
        BigInteger _5_n = (_4_valueOrError0).Extract();
        Std.Wrappers._IResult<BigInteger, Std.JSON.Errors._IDeserializationError> _6_valueOrError1 = ((System.Func<Std.Wrappers._IResult<BigInteger, Std.JSON.Errors._IDeserializationError>>)(() => {
          Std.JSON.Grammar._IMaybe<Std.JSON.Grammar._Ijexp> _source0 = _3_exp;
          {
            if (_source0.is_Empty) {
              return Std.Wrappers.Result<BigInteger, Std.JSON.Errors._IDeserializationError>.create_Success(BigInteger.Zero);
            }
          }
          {
            Std.JSON.Grammar._Ijexp t0 = _source0.dtor_t;
            Std.JSON.Utils.Views.Core._IView__ _7_sign = t0.dtor_sign;
            Std.JSON.Utils.Views.Core._IView__ _8_num = t0.dtor_num;
            return Std.JSON.Deserializer.__default.ToInt(_7_sign, _8_num);
          }
        }))();
        if ((_6_valueOrError1).IsFailure()) {
          return (_6_valueOrError1).PropagateFailure<Std.JSON.Values._IDecimal>();
        } else {
          BigInteger _9_e10 = (_6_valueOrError1).Extract();
          Std.JSON.Grammar._IMaybe<Std.JSON.Grammar._Ijfrac> _source1 = _2_frac;
          {
            if (_source1.is_Empty) {
              return Std.Wrappers.Result<Std.JSON.Values._IDecimal, Std.JSON.Errors._IDeserializationError>.create_Success(Std.JSON.Values.Decimal.create(_5_n, _9_e10));
            }
          }
          {
            Std.JSON.Grammar._Ijfrac t1 = _source1.dtor_t;
            Std.JSON.Utils.Views.Core._IView__ _10_num = t1.dtor_num;
            BigInteger _11_pow10 = new BigInteger((_10_num).Length());
            Std.Wrappers._IResult<BigInteger, Std.JSON.Errors._IDeserializationError> _12_valueOrError2 = Std.JSON.Deserializer.__default.ToInt(_0_minus, _10_num);
            if ((_12_valueOrError2).IsFailure()) {
              return (_12_valueOrError2).PropagateFailure<Std.JSON.Values._IDecimal>();
            } else {
              BigInteger _13_frac = (_12_valueOrError2).Extract();
              return Std.Wrappers.Result<Std.JSON.Values._IDecimal, Std.JSON.Errors._IDeserializationError>.create_Success(Std.JSON.Values.Decimal.create(((_5_n) * (Std.Arithmetic.Power.__default.Pow(new BigInteger(10), _11_pow10))) + (_13_frac), (_9_e10) - (_11_pow10)));
            }
          }
        }
      }
    }
    public static Std.Wrappers._IResult<_System._ITuple2<Dafny.ISequence<Dafny.Rune>, Std.JSON.Values._IJSON>, Std.JSON.Errors._IDeserializationError> KeyValue(Std.JSON.Grammar._IjKeyValue js) {
      Std.Wrappers._IResult<Dafny.ISequence<Dafny.Rune>, Std.JSON.Errors._IDeserializationError> _0_valueOrError0 = Std.JSON.Deserializer.__default.String((js).dtor_k);
      if ((_0_valueOrError0).IsFailure()) {
        return (_0_valueOrError0).PropagateFailure<_System._ITuple2<Dafny.ISequence<Dafny.Rune>, Std.JSON.Values._IJSON>>();
      } else {
        Dafny.ISequence<Dafny.Rune> _1_k = (_0_valueOrError0).Extract();
        Std.Wrappers._IResult<Std.JSON.Values._IJSON, Std.JSON.Errors._IDeserializationError> _2_valueOrError1 = Std.JSON.Deserializer.__default.Value((js).dtor_v);
        if ((_2_valueOrError1).IsFailure()) {
          return (_2_valueOrError1).PropagateFailure<_System._ITuple2<Dafny.ISequence<Dafny.Rune>, Std.JSON.Values._IJSON>>();
        } else {
          Std.JSON.Values._IJSON _3_v = (_2_valueOrError1).Extract();
          return Std.Wrappers.Result<_System._ITuple2<Dafny.ISequence<Dafny.Rune>, Std.JSON.Values._IJSON>, Std.JSON.Errors._IDeserializationError>.create_Success(_System.Tuple2<Dafny.ISequence<Dafny.Rune>, Std.JSON.Values._IJSON>.create(_1_k, _3_v));
        }
      }
    }
    public static Std.Wrappers._IResult<Dafny.ISequence<_System._ITuple2<Dafny.ISequence<Dafny.Rune>, Std.JSON.Values._IJSON>>, Std.JSON.Errors._IDeserializationError> Object(Std.JSON.Grammar._IBracketed<Std.JSON.Utils.Views.Core._IView__, Std.JSON.Grammar._IjKeyValue, Std.JSON.Utils.Views.Core._IView__, Std.JSON.Utils.Views.Core._IView__> js) {
      Func<Std.JSON.Grammar._ISuffixed<Std.JSON.Grammar._IjKeyValue, Std.JSON.Utils.Views.Core._IView__>, Std.Wrappers._IResult<_System._ITuple2<Dafny.ISequence<Dafny.Rune>, Std.JSON.Values._IJSON>, Std.JSON.Errors._IDeserializationError>> _0_f = Dafny.Helpers.Id<Func<Std.JSON.Grammar._IBracketed<Std.JSON.Utils.Views.Core._IView__, Std.JSON.Grammar._IjKeyValue, Std.JSON.Utils.Views.Core._IView__, Std.JSON.Utils.Views.Core._IView__>, Func<Std.JSON.Grammar._ISuffixed<Std.JSON.Grammar._IjKeyValue, Std.JSON.Utils.Views.Core._IView__>, Std.Wrappers._IResult<_System._ITuple2<Dafny.ISequence<Dafny.Rune>, Std.JSON.Values._IJSON>, Std.JSON.Errors._IDeserializationError>>>>((_1_js) => ((System.Func<Std.JSON.Grammar._ISuffixed<Std.JSON.Grammar._IjKeyValue, Std.JSON.Utils.Views.Core._IView__>, Std.Wrappers._IResult<_System._ITuple2<Dafny.ISequence<Dafny.Rune>, Std.JSON.Values._IJSON>, Std.JSON.Errors._IDeserializationError>>)((_2_d) => {
        return Std.JSON.Deserializer.__default.KeyValue((_2_d).dtor_t);
      })))(js);
      return Std.Collections.Seq.__default.MapWithResult<Std.JSON.Grammar._ISuffixed<Std.JSON.Grammar._IjKeyValue, Std.JSON.Utils.Views.Core._IView__>, _System._ITuple2<Dafny.ISequence<Dafny.Rune>, Std.JSON.Values._IJSON>, Std.JSON.Errors._IDeserializationError>(_0_f, (js).dtor_data);
    }
    public static Std.Wrappers._IResult<Dafny.ISequence<Std.JSON.Values._IJSON>, Std.JSON.Errors._IDeserializationError> Array(Std.JSON.Grammar._IBracketed<Std.JSON.Utils.Views.Core._IView__, Std.JSON.Grammar._IValue, Std.JSON.Utils.Views.Core._IView__, Std.JSON.Utils.Views.Core._IView__> js) {
      Func<Std.JSON.Grammar._ISuffixed<Std.JSON.Grammar._IValue, Std.JSON.Utils.Views.Core._IView__>, Std.Wrappers._IResult<Std.JSON.Values._IJSON, Std.JSON.Errors._IDeserializationError>> _0_f = Dafny.Helpers.Id<Func<Std.JSON.Grammar._IBracketed<Std.JSON.Utils.Views.Core._IView__, Std.JSON.Grammar._IValue, Std.JSON.Utils.Views.Core._IView__, Std.JSON.Utils.Views.Core._IView__>, Func<Std.JSON.Grammar._ISuffixed<Std.JSON.Grammar._IValue, Std.JSON.Utils.Views.Core._IView__>, Std.Wrappers._IResult<Std.JSON.Values._IJSON, Std.JSON.Errors._IDeserializationError>>>>((_1_js) => ((System.Func<Std.JSON.Grammar._ISuffixed<Std.JSON.Grammar._IValue, Std.JSON.Utils.Views.Core._IView__>, Std.Wrappers._IResult<Std.JSON.Values._IJSON, Std.JSON.Errors._IDeserializationError>>)((_2_d) => {
        return Std.JSON.Deserializer.__default.Value((_2_d).dtor_t);
      })))(js);
      return Std.Collections.Seq.__default.MapWithResult<Std.JSON.Grammar._ISuffixed<Std.JSON.Grammar._IValue, Std.JSON.Utils.Views.Core._IView__>, Std.JSON.Values._IJSON, Std.JSON.Errors._IDeserializationError>(_0_f, (js).dtor_data);
    }
    public static Std.Wrappers._IResult<Std.JSON.Values._IJSON, Std.JSON.Errors._IDeserializationError> Value(Std.JSON.Grammar._IValue js) {
      Std.JSON.Grammar._IValue _source0 = js;
      {
        if (_source0.is_Null) {
          return Std.Wrappers.Result<Std.JSON.Values._IJSON, Std.JSON.Errors._IDeserializationError>.create_Success(Std.JSON.Values.JSON.create_Null());
        }
      }
      {
        if (_source0.is_Bool) {
          Std.JSON.Utils.Views.Core._IView__ _0_b = _source0.dtor_b;
          return Std.Wrappers.Result<Std.JSON.Values._IJSON, Std.JSON.Errors._IDeserializationError>.create_Success(Std.JSON.Values.JSON.create_Bool(Std.JSON.Deserializer.__default.Bool(_0_b)));
        }
      }
      {
        if (_source0.is_String) {
          Std.JSON.Grammar._Ijstring _1_str = _source0.dtor_str;
          Std.Wrappers._IResult<Dafny.ISequence<Dafny.Rune>, Std.JSON.Errors._IDeserializationError> _2_valueOrError0 = Std.JSON.Deserializer.__default.String(_1_str);
          if ((_2_valueOrError0).IsFailure()) {
            return (_2_valueOrError0).PropagateFailure<Std.JSON.Values._IJSON>();
          } else {
            Dafny.ISequence<Dafny.Rune> _3_s = (_2_valueOrError0).Extract();
            return Std.Wrappers.Result<Std.JSON.Values._IJSON, Std.JSON.Errors._IDeserializationError>.create_Success(Std.JSON.Values.JSON.create_String(_3_s));
          }
        }
      }
      {
        if (_source0.is_Number) {
          Std.JSON.Grammar._Ijnumber _4_dec = _source0.dtor_num;
          Std.Wrappers._IResult<Std.JSON.Values._IDecimal, Std.JSON.Errors._IDeserializationError> _5_valueOrError1 = Std.JSON.Deserializer.__default.Number(_4_dec);
          if ((_5_valueOrError1).IsFailure()) {
            return (_5_valueOrError1).PropagateFailure<Std.JSON.Values._IJSON>();
          } else {
            Std.JSON.Values._IDecimal _6_n = (_5_valueOrError1).Extract();
            return Std.Wrappers.Result<Std.JSON.Values._IJSON, Std.JSON.Errors._IDeserializationError>.create_Success(Std.JSON.Values.JSON.create_Number(_6_n));
          }
        }
      }
      {
        if (_source0.is_Object) {
          Std.JSON.Grammar._IBracketed<Std.JSON.Utils.Views.Core._IView__, Std.JSON.Grammar._IjKeyValue, Std.JSON.Utils.Views.Core._IView__, Std.JSON.Utils.Views.Core._IView__> _7_obj = _source0.dtor_obj;
          Std.Wrappers._IResult<Dafny.ISequence<_System._ITuple2<Dafny.ISequence<Dafny.Rune>, Std.JSON.Values._IJSON>>, Std.JSON.Errors._IDeserializationError> _8_valueOrError2 = Std.JSON.Deserializer.__default.Object(_7_obj);
          if ((_8_valueOrError2).IsFailure()) {
            return (_8_valueOrError2).PropagateFailure<Std.JSON.Values._IJSON>();
          } else {
            Dafny.ISequence<_System._ITuple2<Dafny.ISequence<Dafny.Rune>, Std.JSON.Values._IJSON>> _9_o = (_8_valueOrError2).Extract();
            return Std.Wrappers.Result<Std.JSON.Values._IJSON, Std.JSON.Errors._IDeserializationError>.create_Success(Std.JSON.Values.JSON.create_Object(_9_o));
          }
        }
      }
      {
        Std.JSON.Grammar._IBracketed<Std.JSON.Utils.Views.Core._IView__, Std.JSON.Grammar._IValue, Std.JSON.Utils.Views.Core._IView__, Std.JSON.Utils.Views.Core._IView__> _10_arr = _source0.dtor_arr;
        Std.Wrappers._IResult<Dafny.ISequence<Std.JSON.Values._IJSON>, Std.JSON.Errors._IDeserializationError> _11_valueOrError3 = Std.JSON.Deserializer.__default.Array(_10_arr);
        if ((_11_valueOrError3).IsFailure()) {
          return (_11_valueOrError3).PropagateFailure<Std.JSON.Values._IJSON>();
        } else {
          Dafny.ISequence<Std.JSON.Values._IJSON> _12_a = (_11_valueOrError3).Extract();
          return Std.Wrappers.Result<Std.JSON.Values._IJSON, Std.JSON.Errors._IDeserializationError>.create_Success(Std.JSON.Values.JSON.create_Array(_12_a));
        }
      }
    }
    public static Std.Wrappers._IResult<Std.JSON.Values._IJSON, Std.JSON.Errors._IDeserializationError> JSON(Std.JSON.Grammar._IStructural<Std.JSON.Grammar._IValue> js) {
      return Std.JSON.Deserializer.__default.Value((js).dtor_t);
    }
    public static Dafny.IMap<ushort,BigInteger> HEX__TABLE__16 { get {
      return Std.JSON.Deserializer.Uint16StrConversion.__default.charToDigit;
    } }
    public static Dafny.IMap<byte,BigInteger> DIGITS { get {
      return Std.JSON.ByteStrConversion.__default.charToDigit;
    } }
    public static byte MINUS { get {
      return (byte)((new Dafny.Rune('-')).Value);
    } }
  }
} // end of namespace Std.JSON.Deserializer
namespace Std.JSON.ConcreteSyntax.Spec {

  public partial class __default {
    public static Dafny.ISequence<byte> View(Std.JSON.Utils.Views.Core._IView__ v) {
      return (v).Bytes();
    }
    public static Dafny.ISequence<byte> Structural<__T>(Std.JSON.Grammar._IStructural<__T> self, Func<__T, Dafny.ISequence<byte>> fT)
    {
      return Dafny.Sequence<byte>.Concat(Dafny.Sequence<byte>.Concat(Std.JSON.ConcreteSyntax.Spec.__default.View((self).dtor_before), Dafny.Helpers.Id<Func<__T, Dafny.ISequence<byte>>>(fT)((self).dtor_t)), Std.JSON.ConcreteSyntax.Spec.__default.View((self).dtor_after));
    }
    public static Dafny.ISequence<byte> StructuralView(Std.JSON.Grammar._IStructural<Std.JSON.Utils.Views.Core._IView__> self) {
      return Std.JSON.ConcreteSyntax.Spec.__default.Structural<Std.JSON.Utils.Views.Core._IView__>(self, Std.JSON.ConcreteSyntax.Spec.__default.View);
    }
    public static Dafny.ISequence<byte> Maybe<__T>(Std.JSON.Grammar._IMaybe<__T> self, Func<__T, Dafny.ISequence<byte>> fT)
    {
      if ((self).is_Empty) {
        return Dafny.Sequence<byte>.FromElements();
      } else {
        return Dafny.Helpers.Id<Func<__T, Dafny.ISequence<byte>>>(fT)((self).dtor_t);
      }
    }
    public static Dafny.ISequence<byte> ConcatBytes<__T>(Dafny.ISequence<__T> ts, Func<__T, Dafny.ISequence<byte>> fT)
    {
      Dafny.ISequence<byte> _0___accumulator = Dafny.Sequence<byte>.FromElements();
    TAIL_CALL_START: ;
      if ((new BigInteger((ts).Count)).Sign == 0) {
        return Dafny.Sequence<byte>.Concat(_0___accumulator, Dafny.Sequence<byte>.FromElements());
      } else {
        _0___accumulator = Dafny.Sequence<byte>.Concat(_0___accumulator, Dafny.Helpers.Id<Func<__T, Dafny.ISequence<byte>>>(fT)((ts).Select(BigInteger.Zero)));
        Dafny.ISequence<__T> _in0 = (ts).Drop(BigInteger.One);
        Func<__T, Dafny.ISequence<byte>> _in1 = fT;
        ts = _in0;
        fT = _in1;
        goto TAIL_CALL_START;
      }
    }
    public static Dafny.ISequence<byte> Bracketed<__D, __S>(Std.JSON.Grammar._IBracketed<Std.JSON.Utils.Views.Core._IView__, __D, __S, Std.JSON.Utils.Views.Core._IView__> self, Func<Std.JSON.Grammar._ISuffixed<__D, __S>, Dafny.ISequence<byte>> fDatum)
    {
      return Dafny.Sequence<byte>.Concat(Dafny.Sequence<byte>.Concat(Std.JSON.ConcreteSyntax.Spec.__default.StructuralView((self).dtor_l), Std.JSON.ConcreteSyntax.Spec.__default.ConcatBytes<Std.JSON.Grammar._ISuffixed<__D, __S>>((self).dtor_data, fDatum)), Std.JSON.ConcreteSyntax.Spec.__default.StructuralView((self).dtor_r));
    }
    public static Dafny.ISequence<byte> KeyValue(Std.JSON.Grammar._IjKeyValue self) {
      return Dafny.Sequence<byte>.Concat(Dafny.Sequence<byte>.Concat(Std.JSON.ConcreteSyntax.Spec.__default.String((self).dtor_k), Std.JSON.ConcreteSyntax.Spec.__default.StructuralView((self).dtor_colon)), Std.JSON.ConcreteSyntax.Spec.__default.Value((self).dtor_v));
    }
    public static Dafny.ISequence<byte> Frac(Std.JSON.Grammar._Ijfrac self) {
      return Dafny.Sequence<byte>.Concat(Std.JSON.ConcreteSyntax.Spec.__default.View((self).dtor_period), Std.JSON.ConcreteSyntax.Spec.__default.View((self).dtor_num));
    }
    public static Dafny.ISequence<byte> Exp(Std.JSON.Grammar._Ijexp self) {
      return Dafny.Sequence<byte>.Concat(Dafny.Sequence<byte>.Concat(Std.JSON.ConcreteSyntax.Spec.__default.View((self).dtor_e), Std.JSON.ConcreteSyntax.Spec.__default.View((self).dtor_sign)), Std.JSON.ConcreteSyntax.Spec.__default.View((self).dtor_num));
    }
    public static Dafny.ISequence<byte> Number(Std.JSON.Grammar._Ijnumber self) {
      return Dafny.Sequence<byte>.Concat(Dafny.Sequence<byte>.Concat(Dafny.Sequence<byte>.Concat(Std.JSON.ConcreteSyntax.Spec.__default.View((self).dtor_minus), Std.JSON.ConcreteSyntax.Spec.__default.View((self).dtor_num)), Std.JSON.ConcreteSyntax.Spec.__default.Maybe<Std.JSON.Grammar._Ijfrac>((self).dtor_frac, Std.JSON.ConcreteSyntax.Spec.__default.Frac)), Std.JSON.ConcreteSyntax.Spec.__default.Maybe<Std.JSON.Grammar._Ijexp>((self).dtor_exp, Std.JSON.ConcreteSyntax.Spec.__default.Exp));
    }
    public static Dafny.ISequence<byte> String(Std.JSON.Grammar._Ijstring self) {
      return Dafny.Sequence<byte>.Concat(Dafny.Sequence<byte>.Concat(Std.JSON.ConcreteSyntax.Spec.__default.View((self).dtor_lq), Std.JSON.ConcreteSyntax.Spec.__default.View((self).dtor_contents)), Std.JSON.ConcreteSyntax.Spec.__default.View((self).dtor_rq));
    }
    public static Dafny.ISequence<byte> CommaSuffix(Std.JSON.Grammar._IMaybe<Std.JSON.Grammar._IStructural<Std.JSON.Utils.Views.Core._IView__>> c) {
      return Std.JSON.ConcreteSyntax.Spec.__default.Maybe<Std.JSON.Grammar._IStructural<Std.JSON.Utils.Views.Core._IView__>>(c, Std.JSON.ConcreteSyntax.Spec.__default.StructuralView);
    }
    public static Dafny.ISequence<byte> Member(Std.JSON.Grammar._ISuffixed<Std.JSON.Grammar._IjKeyValue, Std.JSON.Utils.Views.Core._IView__> self) {
      return Dafny.Sequence<byte>.Concat(Std.JSON.ConcreteSyntax.Spec.__default.KeyValue((self).dtor_t), Std.JSON.ConcreteSyntax.Spec.__default.CommaSuffix((self).dtor_suffix));
    }
    public static Dafny.ISequence<byte> Item(Std.JSON.Grammar._ISuffixed<Std.JSON.Grammar._IValue, Std.JSON.Utils.Views.Core._IView__> self) {
      return Dafny.Sequence<byte>.Concat(Std.JSON.ConcreteSyntax.Spec.__default.Value((self).dtor_t), Std.JSON.ConcreteSyntax.Spec.__default.CommaSuffix((self).dtor_suffix));
    }
    public static Dafny.ISequence<byte> Object(Std.JSON.Grammar._IBracketed<Std.JSON.Utils.Views.Core._IView__, Std.JSON.Grammar._IjKeyValue, Std.JSON.Utils.Views.Core._IView__, Std.JSON.Utils.Views.Core._IView__> obj) {
      return Std.JSON.ConcreteSyntax.Spec.__default.Bracketed<Std.JSON.Grammar._IjKeyValue, Std.JSON.Utils.Views.Core._IView__>(obj, Dafny.Helpers.Id<Func<Std.JSON.Grammar._IBracketed<Std.JSON.Utils.Views.Core._IView__, Std.JSON.Grammar._IjKeyValue, Std.JSON.Utils.Views.Core._IView__, Std.JSON.Utils.Views.Core._IView__>, Func<Std.JSON.Grammar._ISuffixed<Std.JSON.Grammar._IjKeyValue, Std.JSON.Utils.Views.Core._IView__>, Dafny.ISequence<byte>>>>((_0_obj) => ((System.Func<Std.JSON.Grammar._ISuffixed<Std.JSON.Grammar._IjKeyValue, Std.JSON.Utils.Views.Core._IView__>, Dafny.ISequence<byte>>)((_1_d) => {
        return Std.JSON.ConcreteSyntax.Spec.__default.Member(_1_d);
      })))(obj));
    }
    public static Dafny.ISequence<byte> Array(Std.JSON.Grammar._IBracketed<Std.JSON.Utils.Views.Core._IView__, Std.JSON.Grammar._IValue, Std.JSON.Utils.Views.Core._IView__, Std.JSON.Utils.Views.Core._IView__> arr) {
      return Std.JSON.ConcreteSyntax.Spec.__default.Bracketed<Std.JSON.Grammar._IValue, Std.JSON.Utils.Views.Core._IView__>(arr, Dafny.Helpers.Id<Func<Std.JSON.Grammar._IBracketed<Std.JSON.Utils.Views.Core._IView__, Std.JSON.Grammar._IValue, Std.JSON.Utils.Views.Core._IView__, Std.JSON.Utils.Views.Core._IView__>, Func<Std.JSON.Grammar._ISuffixed<Std.JSON.Grammar._IValue, Std.JSON.Utils.Views.Core._IView__>, Dafny.ISequence<byte>>>>((_0_arr) => ((System.Func<Std.JSON.Grammar._ISuffixed<Std.JSON.Grammar._IValue, Std.JSON.Utils.Views.Core._IView__>, Dafny.ISequence<byte>>)((_1_d) => {
        return Std.JSON.ConcreteSyntax.Spec.__default.Item(_1_d);
      })))(arr));
    }
    public static Dafny.ISequence<byte> Value(Std.JSON.Grammar._IValue self) {
      Std.JSON.Grammar._IValue _source0 = self;
      {
        if (_source0.is_Null) {
          Std.JSON.Utils.Views.Core._IView__ _0_n = _source0.dtor_n;
          return Std.JSON.ConcreteSyntax.Spec.__default.View(_0_n);
        }
      }
      {
        if (_source0.is_Bool) {
          Std.JSON.Utils.Views.Core._IView__ _1_b = _source0.dtor_b;
          return Std.JSON.ConcreteSyntax.Spec.__default.View(_1_b);
        }
      }
      {
        if (_source0.is_String) {
          Std.JSON.Grammar._Ijstring _2_str = _source0.dtor_str;
          return Std.JSON.ConcreteSyntax.Spec.__default.String(_2_str);
        }
      }
      {
        if (_source0.is_Number) {
          Std.JSON.Grammar._Ijnumber _3_num = _source0.dtor_num;
          return Std.JSON.ConcreteSyntax.Spec.__default.Number(_3_num);
        }
      }
      {
        if (_source0.is_Object) {
          Std.JSON.Grammar._IBracketed<Std.JSON.Utils.Views.Core._IView__, Std.JSON.Grammar._IjKeyValue, Std.JSON.Utils.Views.Core._IView__, Std.JSON.Utils.Views.Core._IView__> _4_obj = _source0.dtor_obj;
          return Std.JSON.ConcreteSyntax.Spec.__default.Object(_4_obj);
        }
      }
      {
        Std.JSON.Grammar._IBracketed<Std.JSON.Utils.Views.Core._IView__, Std.JSON.Grammar._IValue, Std.JSON.Utils.Views.Core._IView__, Std.JSON.Utils.Views.Core._IView__> _5_arr = _source0.dtor_arr;
        return Std.JSON.ConcreteSyntax.Spec.__default.Array(_5_arr);
      }
    }
    public static Dafny.ISequence<byte> JSON(Std.JSON.Grammar._IStructural<Std.JSON.Grammar._IValue> js) {
      return Std.JSON.ConcreteSyntax.Spec.__default.Structural<Std.JSON.Grammar._IValue>(js, Std.JSON.ConcreteSyntax.Spec.__default.Value);
    }
  }
} // end of namespace Std.JSON.ConcreteSyntax.Spec
namespace Std.JSON.ConcreteSyntax.SpecProperties {

} // end of namespace Std.JSON.ConcreteSyntax.SpecProperties
namespace Std.JSON.ZeroCopy.Serializer {

  public partial class __default {
    public static Std.Wrappers._IResult<byte[], Std.JSON.Errors._ISerializationError> Serialize(Std.JSON.Grammar._IStructural<Std.JSON.Grammar._IValue> js)
    {
      Std.Wrappers._IResult<byte[], Std.JSON.Errors._ISerializationError> rbs = Std.Wrappers.Result<byte[], Std.JSON.Errors._ISerializationError>.Default(new byte[0]);
      Std.JSON.Utils.Views.Writers._IWriter__ _0_writer;
      _0_writer = Std.JSON.ZeroCopy.Serializer.__default.Text(js);
      Std.Wrappers._IOutcomeResult<Std.JSON.Errors._ISerializationError> _1_valueOrError0 = Std.Wrappers.OutcomeResult<Std.JSON.Errors._ISerializationError>.Default();
      _1_valueOrError0 = Std.Wrappers.__default.Need<Std.JSON.Errors._ISerializationError>((_0_writer).Unsaturated_q, Std.JSON.Errors.SerializationError.create_OutOfMemory());
      if ((_1_valueOrError0).IsFailure()) {
        rbs = (_1_valueOrError0).PropagateFailure<byte[]>();
        return rbs;
      }
      byte[] _2_bs;
      byte[] _out0;
      _out0 = (_0_writer).ToArray();
      _2_bs = _out0;
      rbs = Std.Wrappers.Result<byte[], Std.JSON.Errors._ISerializationError>.create_Success(_2_bs);
      return rbs;
      return rbs;
    }
    public static Std.Wrappers._IResult<uint, Std.JSON.Errors._ISerializationError> SerializeTo(Std.JSON.Grammar._IStructural<Std.JSON.Grammar._IValue> js, byte[] dest)
    {
      Std.Wrappers._IResult<uint, Std.JSON.Errors._ISerializationError> len = Std.Wrappers.Result<uint, Std.JSON.Errors._ISerializationError>.Default(0);
      Std.JSON.Utils.Views.Writers._IWriter__ _0_writer;
      _0_writer = Std.JSON.ZeroCopy.Serializer.__default.Text(js);
      Std.Wrappers._IOutcomeResult<Std.JSON.Errors._ISerializationError> _1_valueOrError0 = Std.Wrappers.OutcomeResult<Std.JSON.Errors._ISerializationError>.Default();
      _1_valueOrError0 = Std.Wrappers.__default.Need<Std.JSON.Errors._ISerializationError>((_0_writer).Unsaturated_q, Std.JSON.Errors.SerializationError.create_OutOfMemory());
      if ((_1_valueOrError0).IsFailure()) {
        len = (_1_valueOrError0).PropagateFailure<uint>();
        return len;
      }
      Std.Wrappers._IOutcomeResult<Std.JSON.Errors._ISerializationError> _2_valueOrError1 = Std.Wrappers.OutcomeResult<Std.JSON.Errors._ISerializationError>.Default();
      _2_valueOrError1 = Std.Wrappers.__default.Need<Std.JSON.Errors._ISerializationError>((new BigInteger((_0_writer).dtor_length)) <= (new BigInteger((dest).Length)), Std.JSON.Errors.SerializationError.create_OutOfMemory());
      if ((_2_valueOrError1).IsFailure()) {
        len = (_2_valueOrError1).PropagateFailure<uint>();
        return len;
      }
      (_0_writer).CopyTo(dest);
      len = Std.Wrappers.Result<uint, Std.JSON.Errors._ISerializationError>.create_Success((_0_writer).dtor_length);
      return len;
      return len;
    }
    public static Std.JSON.Utils.Views.Writers._IWriter__ Text(Std.JSON.Grammar._IStructural<Std.JSON.Grammar._IValue> js) {
      return Std.JSON.ZeroCopy.Serializer.__default.JSON(js, Std.JSON.Utils.Views.Writers.Writer__.Empty);
    }
    public static Std.JSON.Utils.Views.Writers._IWriter__ JSON(Std.JSON.Grammar._IStructural<Std.JSON.Grammar._IValue> js, Std.JSON.Utils.Views.Writers._IWriter__ writer)
    {
      return (((writer).Append((js).dtor_before)).Then(Dafny.Helpers.Id<Func<Std.JSON.Grammar._IStructural<Std.JSON.Grammar._IValue>, Func<Std.JSON.Utils.Views.Writers._IWriter__, Std.JSON.Utils.Views.Writers._IWriter__>>>((_0_js) => ((System.Func<Std.JSON.Utils.Views.Writers._IWriter__, Std.JSON.Utils.Views.Writers._IWriter__>)((_1_wr) => {
        return Std.JSON.ZeroCopy.Serializer.__default.Value((_0_js).dtor_t, _1_wr);
      })))(js))).Append((js).dtor_after);
    }
    public static Std.JSON.Utils.Views.Writers._IWriter__ Value(Std.JSON.Grammar._IValue v, Std.JSON.Utils.Views.Writers._IWriter__ writer)
    {
      Std.JSON.Grammar._IValue _source0 = v;
      {
        if (_source0.is_Null) {
          Std.JSON.Utils.Views.Core._IView__ _0_n = _source0.dtor_n;
          Std.JSON.Utils.Views.Writers._IWriter__ _1_wr = (writer).Append(_0_n);
          return _1_wr;
        }
      }
      {
        if (_source0.is_Bool) {
          Std.JSON.Utils.Views.Core._IView__ _2_b = _source0.dtor_b;
          Std.JSON.Utils.Views.Writers._IWriter__ _3_wr = (writer).Append(_2_b);
          return _3_wr;
        }
      }
      {
        if (_source0.is_String) {
          Std.JSON.Grammar._Ijstring _4_str = _source0.dtor_str;
          Std.JSON.Utils.Views.Writers._IWriter__ _5_wr = Std.JSON.ZeroCopy.Serializer.__default.String(_4_str, writer);
          return _5_wr;
        }
      }
      {
        if (_source0.is_Number) {
          Std.JSON.Grammar._Ijnumber _6_num = _source0.dtor_num;
          Std.JSON.Utils.Views.Writers._IWriter__ _7_wr = Std.JSON.ZeroCopy.Serializer.__default.Number(_6_num, writer);
          return _7_wr;
        }
      }
      {
        if (_source0.is_Object) {
          Std.JSON.Grammar._IBracketed<Std.JSON.Utils.Views.Core._IView__, Std.JSON.Grammar._IjKeyValue, Std.JSON.Utils.Views.Core._IView__, Std.JSON.Utils.Views.Core._IView__> _8_obj = _source0.dtor_obj;
          Std.JSON.Utils.Views.Writers._IWriter__ _9_wr = Std.JSON.ZeroCopy.Serializer.__default.Object(_8_obj, writer);
          return _9_wr;
        }
      }
      {
        Std.JSON.Grammar._IBracketed<Std.JSON.Utils.Views.Core._IView__, Std.JSON.Grammar._IValue, Std.JSON.Utils.Views.Core._IView__, Std.JSON.Utils.Views.Core._IView__> _10_arr = _source0.dtor_arr;
        Std.JSON.Utils.Views.Writers._IWriter__ _11_wr = Std.JSON.ZeroCopy.Serializer.__default.Array(_10_arr, writer);
        return _11_wr;
      }
    }
    public static Std.JSON.Utils.Views.Writers._IWriter__ String(Std.JSON.Grammar._Ijstring str, Std.JSON.Utils.Views.Writers._IWriter__ writer)
    {
      return (((writer).Append((str).dtor_lq)).Append((str).dtor_contents)).Append((str).dtor_rq);
    }
    public static Std.JSON.Utils.Views.Writers._IWriter__ Number(Std.JSON.Grammar._Ijnumber num, Std.JSON.Utils.Views.Writers._IWriter__ writer)
    {
      Std.JSON.Utils.Views.Writers._IWriter__ _0_wr1 = ((writer).Append((num).dtor_minus)).Append((num).dtor_num);
      Std.JSON.Utils.Views.Writers._IWriter__ _1_wr2 = ((((num).dtor_frac).is_NonEmpty) ? (((_0_wr1).Append((((num).dtor_frac).dtor_t).dtor_period)).Append((((num).dtor_frac).dtor_t).dtor_num)) : (_0_wr1));
      Std.JSON.Utils.Views.Writers._IWriter__ _2_wr3 = ((((num).dtor_exp).is_NonEmpty) ? ((((_1_wr2).Append((((num).dtor_exp).dtor_t).dtor_e)).Append((((num).dtor_exp).dtor_t).dtor_sign)).Append((((num).dtor_exp).dtor_t).dtor_num)) : (_1_wr2));
      Std.JSON.Utils.Views.Writers._IWriter__ _3_wr = _2_wr3;
      return _3_wr;
    }
    public static Std.JSON.Utils.Views.Writers._IWriter__ StructuralView(Std.JSON.Grammar._IStructural<Std.JSON.Utils.Views.Core._IView__> st, Std.JSON.Utils.Views.Writers._IWriter__ writer)
    {
      return (((writer).Append((st).dtor_before)).Append((st).dtor_t)).Append((st).dtor_after);
    }
    public static Std.JSON.Utils.Views.Writers._IWriter__ Object(Std.JSON.Grammar._IBracketed<Std.JSON.Utils.Views.Core._IView__, Std.JSON.Grammar._IjKeyValue, Std.JSON.Utils.Views.Core._IView__, Std.JSON.Utils.Views.Core._IView__> obj, Std.JSON.Utils.Views.Writers._IWriter__ writer)
    {
      Std.JSON.Utils.Views.Writers._IWriter__ _0_wr = Std.JSON.ZeroCopy.Serializer.__default.StructuralView((obj).dtor_l, writer);
      Std.JSON.Utils.Views.Writers._IWriter__ _1_wr = Std.JSON.ZeroCopy.Serializer.__default.Members(obj, _0_wr);
      Std.JSON.Utils.Views.Writers._IWriter__ _2_wr = Std.JSON.ZeroCopy.Serializer.__default.StructuralView((obj).dtor_r, _1_wr);
      return _2_wr;
    }
    public static Std.JSON.Utils.Views.Writers._IWriter__ Array(Std.JSON.Grammar._IBracketed<Std.JSON.Utils.Views.Core._IView__, Std.JSON.Grammar._IValue, Std.JSON.Utils.Views.Core._IView__, Std.JSON.Utils.Views.Core._IView__> arr, Std.JSON.Utils.Views.Writers._IWriter__ writer)
    {
      Std.JSON.Utils.Views.Writers._IWriter__ _0_wr = Std.JSON.ZeroCopy.Serializer.__default.StructuralView((arr).dtor_l, writer);
      Std.JSON.Utils.Views.Writers._IWriter__ _1_wr = Std.JSON.ZeroCopy.Serializer.__default.Items(arr, _0_wr);
      Std.JSON.Utils.Views.Writers._IWriter__ _2_wr = Std.JSON.ZeroCopy.Serializer.__default.StructuralView((arr).dtor_r, _1_wr);
      return _2_wr;
    }
    public static Std.JSON.Utils.Views.Writers._IWriter__ Members(Std.JSON.Grammar._IBracketed<Std.JSON.Utils.Views.Core._IView__, Std.JSON.Grammar._IjKeyValue, Std.JSON.Utils.Views.Core._IView__, Std.JSON.Utils.Views.Core._IView__> obj, Std.JSON.Utils.Views.Writers._IWriter__ writer)
    {
      Std.JSON.Utils.Views.Writers._IWriter__ wr = Std.JSON.Utils.Views.Writers.Writer.Default();
      Std.JSON.Utils.Views.Writers._IWriter__ _out0;
      _out0 = Std.JSON.ZeroCopy.Serializer.__default.MembersImpl(obj, writer);
      wr = _out0;
      return wr;
    }
    public static Std.JSON.Utils.Views.Writers._IWriter__ Items(Std.JSON.Grammar._IBracketed<Std.JSON.Utils.Views.Core._IView__, Std.JSON.Grammar._IValue, Std.JSON.Utils.Views.Core._IView__, Std.JSON.Utils.Views.Core._IView__> arr, Std.JSON.Utils.Views.Writers._IWriter__ writer)
    {
      Std.JSON.Utils.Views.Writers._IWriter__ wr = Std.JSON.Utils.Views.Writers.Writer.Default();
      Std.JSON.Utils.Views.Writers._IWriter__ _out0;
      _out0 = Std.JSON.ZeroCopy.Serializer.__default.ItemsImpl(arr, writer);
      wr = _out0;
      return wr;
    }
    public static Std.JSON.Utils.Views.Writers._IWriter__ MembersImpl(Std.JSON.Grammar._IBracketed<Std.JSON.Utils.Views.Core._IView__, Std.JSON.Grammar._IjKeyValue, Std.JSON.Utils.Views.Core._IView__, Std.JSON.Utils.Views.Core._IView__> obj, Std.JSON.Utils.Views.Writers._IWriter__ writer)
    {
      Std.JSON.Utils.Views.Writers._IWriter__ wr = Std.JSON.Utils.Views.Writers.Writer.Default();
      wr = writer;
      Dafny.ISequence<Std.JSON.Grammar._ISuffixed<Std.JSON.Grammar._IjKeyValue, Std.JSON.Utils.Views.Core._IView__>> _0_members;
      _0_members = (obj).dtor_data;
      BigInteger _hi0 = new BigInteger((_0_members).Count);
      for (BigInteger _1_i = BigInteger.Zero; _1_i < _hi0; _1_i++) {
        wr = Std.JSON.ZeroCopy.Serializer.__default.Member((_0_members).Select(_1_i), wr);
      }
      return wr;
    }
    public static Std.JSON.Utils.Views.Writers._IWriter__ ItemsImpl(Std.JSON.Grammar._IBracketed<Std.JSON.Utils.Views.Core._IView__, Std.JSON.Grammar._IValue, Std.JSON.Utils.Views.Core._IView__, Std.JSON.Utils.Views.Core._IView__> arr, Std.JSON.Utils.Views.Writers._IWriter__ writer)
    {
      Std.JSON.Utils.Views.Writers._IWriter__ wr = Std.JSON.Utils.Views.Writers.Writer.Default();
      wr = writer;
      Dafny.ISequence<Std.JSON.Grammar._ISuffixed<Std.JSON.Grammar._IValue, Std.JSON.Utils.Views.Core._IView__>> _0_items;
      _0_items = (arr).dtor_data;
      BigInteger _hi0 = new BigInteger((_0_items).Count);
      for (BigInteger _1_i = BigInteger.Zero; _1_i < _hi0; _1_i++) {
        wr = Std.JSON.ZeroCopy.Serializer.__default.Item((_0_items).Select(_1_i), wr);
      }
      return wr;
    }
    public static Std.JSON.Utils.Views.Writers._IWriter__ Member(Std.JSON.Grammar._ISuffixed<Std.JSON.Grammar._IjKeyValue, Std.JSON.Utils.Views.Core._IView__> m, Std.JSON.Utils.Views.Writers._IWriter__ writer)
    {
      Std.JSON.Utils.Views.Writers._IWriter__ _0_wr = Std.JSON.ZeroCopy.Serializer.__default.String(((m).dtor_t).dtor_k, writer);
      Std.JSON.Utils.Views.Writers._IWriter__ _1_wr = Std.JSON.ZeroCopy.Serializer.__default.StructuralView(((m).dtor_t).dtor_colon, _0_wr);
      Std.JSON.Utils.Views.Writers._IWriter__ _2_wr = Std.JSON.ZeroCopy.Serializer.__default.Value(((m).dtor_t).dtor_v, _1_wr);
      Std.JSON.Utils.Views.Writers._IWriter__ _3_wr = ((((m).dtor_suffix).is_Empty) ? (_2_wr) : (Std.JSON.ZeroCopy.Serializer.__default.StructuralView(((m).dtor_suffix).dtor_t, _2_wr)));
      return _3_wr;
    }
    public static Std.JSON.Utils.Views.Writers._IWriter__ Item(Std.JSON.Grammar._ISuffixed<Std.JSON.Grammar._IValue, Std.JSON.Utils.Views.Core._IView__> m, Std.JSON.Utils.Views.Writers._IWriter__ writer)
    {
      Std.JSON.Utils.Views.Writers._IWriter__ _0_wr = Std.JSON.ZeroCopy.Serializer.__default.Value((m).dtor_t, writer);
      Std.JSON.Utils.Views.Writers._IWriter__ _1_wr = ((((m).dtor_suffix).is_Empty) ? (_0_wr) : (Std.JSON.ZeroCopy.Serializer.__default.StructuralView(((m).dtor_suffix).dtor_t, _0_wr)));
      return _1_wr;
    }
  }
} // end of namespace Std.JSON.ZeroCopy.Serializer
namespace Std.JSON.ZeroCopy.Deserializer.Core {

  public partial class __default {
    public static Std.Wrappers._IResult<Std.JSON.Utils.Cursors._ISplit<Std.JSON.Utils.Views.Core._IView__>, Std.JSON.Utils.Cursors._ICursorError<Std.JSON.Errors._IDeserializationError>> Get(Std.JSON.Utils.Cursors._ICursor__ cs, Std.JSON.Errors._IDeserializationError err)
    {
      Std.Wrappers._IResult<Std.JSON.Utils.Cursors._ICursor__, Std.JSON.Utils.Cursors._ICursorError<Std.JSON.Errors._IDeserializationError>> _0_valueOrError0 = (cs).Get<Std.JSON.Errors._IDeserializationError>(err);
      if ((_0_valueOrError0).IsFailure()) {
        return (_0_valueOrError0).PropagateFailure<Std.JSON.Utils.Cursors._ISplit<Std.JSON.Utils.Views.Core._IView__>>();
      } else {
        Std.JSON.Utils.Cursors._ICursor__ _1_cs = (_0_valueOrError0).Extract();
        return Std.Wrappers.Result<Std.JSON.Utils.Cursors._ISplit<Std.JSON.Utils.Views.Core._IView__>, Std.JSON.Utils.Cursors._ICursorError<Std.JSON.Errors._IDeserializationError>>.create_Success((_1_cs).Split());
      }
    }
    public static Std.JSON.Utils.Cursors._ISplit<Std.JSON.Utils.Views.Core._IView__> WS(Std.JSON.Utils.Cursors._ICursor__ cs)
    {
      Std.JSON.Utils.Cursors._ISplit<Std.JSON.Utils.Views.Core._IView__> sp = Std.JSON.Utils.Cursors.Split<Std.JSON.Utils.Views.Core._IView__>.Default(Std.JSON.Grammar.jblanks.Default());
      uint _0_point_k;
      _0_point_k = (cs).dtor_point;
      uint _1_end;
      _1_end = (cs).dtor_end;
      while (((_0_point_k) < (_1_end)) && (Std.JSON.Grammar.__default.Blank_q(((cs).dtor_s).Select(_0_point_k)))) {
        _0_point_k = (_0_point_k) + (1U);
      }
      sp = (Std.JSON.Utils.Cursors.Cursor__.create((cs).dtor_s, (cs).dtor_beg, _0_point_k, (cs).dtor_end)).Split();
      return sp;
      return sp;
    }
    public static Std.Wrappers._IResult<Std.JSON.Utils.Cursors._ISplit<Std.JSON.Grammar._IStructural<__T>>, Std.JSON.Utils.Cursors._ICursorError<Std.JSON.Errors._IDeserializationError>> Structural<__T>(Std.JSON.Utils.Cursors._ICursor__ cs, Func<Std.JSON.Utils.Cursors._ICursor__, Std.Wrappers._IResult<Std.JSON.Utils.Cursors._ISplit<__T>, Std.JSON.Utils.Cursors._ICursorError<Std.JSON.Errors._IDeserializationError>>> parser)
    {
      Std.JSON.Utils.Cursors._ISplit<Std.JSON.Utils.Views.Core._IView__> _let_tmp_rhs0 = Std.JSON.ZeroCopy.Deserializer.Core.__default.WS(cs);
      Std.JSON.Utils.Views.Core._IView__ _0_before = _let_tmp_rhs0.dtor_t;
      Std.JSON.Utils.Cursors._ICursor__ _1_cs = _let_tmp_rhs0.dtor_cs;
      Std.Wrappers._IResult<Std.JSON.Utils.Cursors._ISplit<__T>, Std.JSON.Utils.Cursors._ICursorError<Std.JSON.Errors._IDeserializationError>> _2_valueOrError0 = Dafny.Helpers.Id<Func<Std.JSON.Utils.Cursors._ICursor__, Std.Wrappers._IResult<Std.JSON.Utils.Cursors._ISplit<__T>, Std.JSON.Utils.Cursors._ICursorError<Std.JSON.Errors._IDeserializationError>>>>((parser))(_1_cs);
      if ((_2_valueOrError0).IsFailure()) {
        return (_2_valueOrError0).PropagateFailure<Std.JSON.Utils.Cursors._ISplit<Std.JSON.Grammar._IStructural<__T>>>();
      } else {
        Std.JSON.Utils.Cursors._ISplit<__T> _let_tmp_rhs1 = (_2_valueOrError0).Extract();
        __T _3_val = _let_tmp_rhs1.dtor_t;
        Std.JSON.Utils.Cursors._ICursor__ _4_cs = _let_tmp_rhs1.dtor_cs;
        Std.JSON.Utils.Cursors._ISplit<Std.JSON.Utils.Views.Core._IView__> _let_tmp_rhs2 = Std.JSON.ZeroCopy.Deserializer.Core.__default.WS(_4_cs);
        Std.JSON.Utils.Views.Core._IView__ _5_after = _let_tmp_rhs2.dtor_t;
        Std.JSON.Utils.Cursors._ICursor__ _6_cs = _let_tmp_rhs2.dtor_cs;
        return Std.Wrappers.Result<Std.JSON.Utils.Cursors._ISplit<Std.JSON.Grammar._IStructural<__T>>, Std.JSON.Utils.Cursors._ICursorError<Std.JSON.Errors._IDeserializationError>>.create_Success(Std.JSON.Utils.Cursors.Split<Std.JSON.Grammar._IStructural<__T>>.create(Std.JSON.Grammar.Structural<__T>.create(_0_before, _3_val, _5_after), _6_cs));
      }
    }
    public static Std.JSON.Utils.Cursors._ISplit<Std.JSON.Grammar._IStructural<Std.JSON.Utils.Views.Core._IView__>> TryStructural(Std.JSON.Utils.Cursors._ICursor__ cs) {
      Std.JSON.Utils.Cursors._ISplit<Std.JSON.Utils.Views.Core._IView__> _let_tmp_rhs0 = Std.JSON.ZeroCopy.Deserializer.Core.__default.WS(cs);
      Std.JSON.Utils.Views.Core._IView__ _0_before = _let_tmp_rhs0.dtor_t;
      Std.JSON.Utils.Cursors._ICursor__ _1_cs = _let_tmp_rhs0.dtor_cs;
      Std.JSON.Utils.Cursors._ISplit<Std.JSON.Utils.Views.Core._IView__> _let_tmp_rhs1 = ((_1_cs).SkipByte()).Split();
      Std.JSON.Utils.Views.Core._IView__ _2_val = _let_tmp_rhs1.dtor_t;
      Std.JSON.Utils.Cursors._ICursor__ _3_cs = _let_tmp_rhs1.dtor_cs;
      Std.JSON.Utils.Cursors._ISplit<Std.JSON.Utils.Views.Core._IView__> _let_tmp_rhs2 = Std.JSON.ZeroCopy.Deserializer.Core.__default.WS(_3_cs);
      Std.JSON.Utils.Views.Core._IView__ _4_after = _let_tmp_rhs2.dtor_t;
      Std.JSON.Utils.Cursors._ICursor__ _5_cs = _let_tmp_rhs2.dtor_cs;
      return Std.JSON.Utils.Cursors.Split<Std.JSON.Grammar._IStructural<Std.JSON.Utils.Views.Core._IView__>>.create(Std.JSON.Grammar.Structural<Std.JSON.Utils.Views.Core._IView__>.create(_0_before, _2_val, _4_after), _5_cs);
    }
    public static Func<Std.JSON.Utils.Views.Core._IView__, Dafny.ISequence<byte>> SpecView { get {
      return ((System.Func<Std.JSON.Utils.Views.Core._IView__, Dafny.ISequence<byte>>)((_0_v) => {
        return Std.JSON.ConcreteSyntax.Spec.__default.View(_0_v);
      }));
    } }
  }

  public partial class jopt {
    private static readonly Std.JSON.Utils.Views.Core._IView__ Witness = Std.JSON.Utils.Views.Core.View__.OfBytes(Dafny.Sequence<byte>.FromElements());
    public static Std.JSON.Utils.Views.Core._IView__ Default() {
      return Witness;
    }
    private static readonly Dafny.TypeDescriptor<Std.JSON.Utils.Views.Core._IView__> _TYPE = new Dafny.TypeDescriptor<Std.JSON.Utils.Views.Core._IView__>(Std.JSON.ZeroCopy.Deserializer.Core.jopt.Default());
    public static Dafny.TypeDescriptor<Std.JSON.Utils.Views.Core._IView__> _TypeDescriptor() {
      return _TYPE;
    }
  }

  public partial class ValueParser {
    private static readonly Dafny.TypeDescriptor<Func<Std.JSON.Utils.Cursors._ICursor__, Std.Wrappers._IResult<Std.JSON.Utils.Cursors._ISplit<Std.JSON.Grammar._IValue>, Std.JSON.Utils.Cursors._ICursorError<Std.JSON.Errors._IDeserializationError>>>> _TYPE = new Dafny.TypeDescriptor<Func<Std.JSON.Utils.Cursors._ICursor__, Std.Wrappers._IResult<Std.JSON.Utils.Cursors._ISplit<Std.JSON.Grammar._IValue>, Std.JSON.Utils.Cursors._ICursorError<Std.JSON.Errors._IDeserializationError>>>>(Std.JSON.Utils.Parsers.SubParser<Std.JSON.Grammar._IValue, Std.JSON.Errors._IDeserializationError>.Default());
    public static Dafny.TypeDescriptor<Func<Std.JSON.Utils.Cursors._ICursor__, Std.Wrappers._IResult<Std.JSON.Utils.Cursors._ISplit<Std.JSON.Grammar._IValue>, Std.JSON.Utils.Cursors._ICursorError<Std.JSON.Errors._IDeserializationError>>>> _TypeDescriptor() {
      return _TYPE;
    }
  }
} // end of namespace Std.JSON.ZeroCopy.Deserializer.Core
namespace Std.JSON.ZeroCopy.Deserializer.Strings {

  public partial class __default {
    public static Std.Wrappers._IResult<Std.JSON.Utils.Cursors._ICursor__, Std.JSON.Utils.Cursors._ICursorError<Std.JSON.Errors._IDeserializationError>> StringBody(Std.JSON.Utils.Cursors._ICursor__ cs)
    {
      Std.Wrappers._IResult<Std.JSON.Utils.Cursors._ICursor__, Std.JSON.Utils.Cursors._ICursorError<Std.JSON.Errors._IDeserializationError>> pr = Std.Wrappers.Result<Std.JSON.Utils.Cursors._ICursor__, Std.JSON.Utils.Cursors._ICursorError<Std.JSON.Errors._IDeserializationError>>.Default(Std.JSON.Utils.Cursors.Cursor.Default());
      bool _0_escaped;
      _0_escaped = false;
      uint _hi0 = (cs).dtor_end;
      for (uint _1_point_k = (cs).dtor_point; _1_point_k < _hi0; _1_point_k++) {
        byte _2_byte;
        _2_byte = ((cs).dtor_s).Select(_1_point_k);
        if (((_2_byte) == ((byte)((new Dafny.Rune('\"')).Value))) && (!(_0_escaped))) {
          pr = Std.Wrappers.Result<Std.JSON.Utils.Cursors._ICursor__, Std.JSON.Utils.Cursors._ICursorError<Std.JSON.Errors._IDeserializationError>>.create_Success(Std.JSON.Utils.Cursors.Cursor__.create((cs).dtor_s, (cs).dtor_beg, _1_point_k, (cs).dtor_end));
          return pr;
        } else if ((_2_byte) == ((byte)((new Dafny.Rune('\\')).Value))) {
          _0_escaped = !(_0_escaped);
        } else {
          _0_escaped = false;
        }
      }
      pr = Std.Wrappers.Result<Std.JSON.Utils.Cursors._ICursor__, Std.JSON.Utils.Cursors._ICursorError<Std.JSON.Errors._IDeserializationError>>.create_Failure(Std.JSON.Utils.Cursors.CursorError<Std.JSON.Errors._IDeserializationError>.create_EOF());
      return pr;
      return pr;
    }
    public static Std.Wrappers._IResult<Std.JSON.Utils.Cursors._ISplit<Std.JSON.Utils.Views.Core._IView__>, Std.JSON.Utils.Cursors._ICursorError<Std.JSON.Errors._IDeserializationError>> Quote(Std.JSON.Utils.Cursors._ICursor__ cs) {
      Std.Wrappers._IResult<Std.JSON.Utils.Cursors._ICursor__, Std.JSON.Utils.Cursors._ICursorError<Std.JSON.Errors._IDeserializationError>> _0_valueOrError0 = (cs).AssertChar<Std.JSON.Errors._IDeserializationError>(new Dafny.Rune('\"'));
      if ((_0_valueOrError0).IsFailure()) {
        return (_0_valueOrError0).PropagateFailure<Std.JSON.Utils.Cursors._ISplit<Std.JSON.Utils.Views.Core._IView__>>();
      } else {
        Std.JSON.Utils.Cursors._ICursor__ _1_cs = (_0_valueOrError0).Extract();
        return Std.Wrappers.Result<Std.JSON.Utils.Cursors._ISplit<Std.JSON.Utils.Views.Core._IView__>, Std.JSON.Utils.Cursors._ICursorError<Std.JSON.Errors._IDeserializationError>>.create_Success((_1_cs).Split());
      }
    }
    public static Std.Wrappers._IResult<Std.JSON.Utils.Cursors._ISplit<Std.JSON.Grammar._Ijstring>, Std.JSON.Utils.Cursors._ICursorError<Std.JSON.Errors._IDeserializationError>> String(Std.JSON.Utils.Cursors._ICursor__ cs) {
      Std.JSON.Utils.Cursors._ICursor__ _0_origCs = cs;
      Std.Wrappers._IResult<Std.JSON.Utils.Cursors._ISplit<Std.JSON.Utils.Views.Core._IView__>, Std.JSON.Utils.Cursors._ICursorError<Std.JSON.Errors._IDeserializationError>> _1_valueOrError0 = Std.JSON.ZeroCopy.Deserializer.Strings.__default.Quote(cs);
      if ((_1_valueOrError0).IsFailure()) {
        return (_1_valueOrError0).PropagateFailure<Std.JSON.Utils.Cursors._ISplit<Std.JSON.Grammar._Ijstring>>();
      } else {
        Std.JSON.Utils.Cursors._ISplit<Std.JSON.Utils.Views.Core._IView__> _let_tmp_rhs0 = (_1_valueOrError0).Extract();
        Std.JSON.Utils.Views.Core._IView__ _2_lq = _let_tmp_rhs0.dtor_t;
        Std.JSON.Utils.Cursors._ICursor__ _3_cs = _let_tmp_rhs0.dtor_cs;
        Std.Wrappers._IResult<Std.JSON.Utils.Cursors._ICursor__, Std.JSON.Utils.Cursors._ICursorError<Std.JSON.Errors._IDeserializationError>> _4_valueOrError1 = Std.JSON.ZeroCopy.Deserializer.Strings.__default.StringBody(_3_cs);
        if ((_4_valueOrError1).IsFailure()) {
          return (_4_valueOrError1).PropagateFailure<Std.JSON.Utils.Cursors._ISplit<Std.JSON.Grammar._Ijstring>>();
        } else {
          Std.JSON.Utils.Cursors._ICursor__ _5_contents = (_4_valueOrError1).Extract();
          Std.JSON.Utils.Cursors._ISplit<Std.JSON.Utils.Views.Core._IView__> _let_tmp_rhs1 = (_5_contents).Split();
          Std.JSON.Utils.Views.Core._IView__ _6_contents = _let_tmp_rhs1.dtor_t;
          Std.JSON.Utils.Cursors._ICursor__ _7_cs = _let_tmp_rhs1.dtor_cs;
          Std.Wrappers._IResult<Std.JSON.Utils.Cursors._ISplit<Std.JSON.Utils.Views.Core._IView__>, Std.JSON.Utils.Cursors._ICursorError<Std.JSON.Errors._IDeserializationError>> _8_valueOrError2 = Std.JSON.ZeroCopy.Deserializer.Strings.__default.Quote(_7_cs);
          if ((_8_valueOrError2).IsFailure()) {
            return (_8_valueOrError2).PropagateFailure<Std.JSON.Utils.Cursors._ISplit<Std.JSON.Grammar._Ijstring>>();
          } else {
            Std.JSON.Utils.Cursors._ISplit<Std.JSON.Utils.Views.Core._IView__> _let_tmp_rhs2 = (_8_valueOrError2).Extract();
            Std.JSON.Utils.Views.Core._IView__ _9_rq = _let_tmp_rhs2.dtor_t;
            Std.JSON.Utils.Cursors._ICursor__ _10_cs = _let_tmp_rhs2.dtor_cs;
            Std.JSON.Utils.Cursors._ISplit<Std.JSON.Grammar._Ijstring> _11_result = Std.JSON.Utils.Cursors.Split<Std.JSON.Grammar._Ijstring>.create(Std.JSON.Grammar.jstring.create(_2_lq, _6_contents, _9_rq), _10_cs);
            return Std.Wrappers.Result<Std.JSON.Utils.Cursors._ISplit<Std.JSON.Grammar._Ijstring>, Std.JSON.Utils.Cursors._ICursorError<Std.JSON.Errors._IDeserializationError>>.create_Success(_11_result);
          }
        }
      }
    }
  }
} // end of namespace Std.JSON.ZeroCopy.Deserializer.Strings
namespace Std.JSON.ZeroCopy.Deserializer.Numbers {

  public partial class __default {
    public static Std.JSON.Utils.Cursors._ISplit<Std.JSON.Utils.Views.Core._IView__> Digits(Std.JSON.Utils.Cursors._ICursor__ cs) {
      return ((cs).SkipWhile(Std.JSON.Grammar.__default.Digit_q)).Split();
    }
    public static Std.Wrappers._IResult<Std.JSON.Utils.Cursors._ISplit<Std.JSON.Utils.Views.Core._IView__>, Std.JSON.Utils.Cursors._ICursorError<Std.JSON.Errors._IDeserializationError>> NonEmptyDigits(Std.JSON.Utils.Cursors._ICursor__ cs) {
      Std.JSON.Utils.Cursors._ISplit<Std.JSON.Utils.Views.Core._IView__> _0_sp = Std.JSON.ZeroCopy.Deserializer.Numbers.__default.Digits(cs);
      if (((_0_sp).dtor_t).Empty_q) {
        return Std.Wrappers.Result<Std.JSON.Utils.Cursors._ISplit<Std.JSON.Utils.Views.Core._IView__>, Std.JSON.Utils.Cursors._ICursorError<Std.JSON.Errors._IDeserializationError>>.create_Failure(Std.JSON.Utils.Cursors.CursorError<Std.JSON.Errors._IDeserializationError>.create_OtherError(Std.JSON.Errors.DeserializationError.create_EmptyNumber()));
      } else {
        return Std.Wrappers.Result<Std.JSON.Utils.Cursors._ISplit<Std.JSON.Utils.Views.Core._IView__>, Std.JSON.Utils.Cursors._ICursorError<Std.JSON.Errors._IDeserializationError>>.create_Success(_0_sp);
      }
    }
    public static Std.Wrappers._IResult<Std.JSON.Utils.Cursors._ISplit<Std.JSON.Utils.Views.Core._IView__>, Std.JSON.Utils.Cursors._ICursorError<Std.JSON.Errors._IDeserializationError>> NonZeroInt(Std.JSON.Utils.Cursors._ICursor__ cs) {
      return Std.JSON.ZeroCopy.Deserializer.Numbers.__default.NonEmptyDigits(cs);
    }
    public static Std.JSON.Utils.Cursors._ISplit<Std.JSON.Utils.Views.Core._IView__> OptionalMinus(Std.JSON.Utils.Cursors._ICursor__ cs) {
      return ((cs).SkipIf(((System.Func<byte, bool>)((_0_c) => {
        return (_0_c) == ((byte)((new Dafny.Rune('-')).Value));
      })))).Split();
    }
    public static Std.JSON.Utils.Cursors._ISplit<Std.JSON.Utils.Views.Core._IView__> OptionalSign(Std.JSON.Utils.Cursors._ICursor__ cs) {
      return ((cs).SkipIf(((System.Func<byte, bool>)((_0_c) => {
        return ((_0_c) == ((byte)((new Dafny.Rune('-')).Value))) || ((_0_c) == ((byte)((new Dafny.Rune('+')).Value)));
      })))).Split();
    }
    public static Std.Wrappers._IResult<Std.JSON.Utils.Cursors._ISplit<Std.JSON.Utils.Views.Core._IView__>, Std.JSON.Utils.Cursors._ICursorError<Std.JSON.Errors._IDeserializationError>> TrimmedInt(Std.JSON.Utils.Cursors._ICursor__ cs) {
      Std.JSON.Utils.Cursors._ISplit<Std.JSON.Utils.Views.Core._IView__> _0_sp = ((cs).SkipIf(((System.Func<byte, bool>)((_1_c) => {
        return (_1_c) == ((byte)((new Dafny.Rune('0')).Value));
      })))).Split();
      if (((_0_sp).dtor_t).Empty_q) {
        return Std.JSON.ZeroCopy.Deserializer.Numbers.__default.NonZeroInt((_0_sp).dtor_cs);
      } else {
        return Std.Wrappers.Result<Std.JSON.Utils.Cursors._ISplit<Std.JSON.Utils.Views.Core._IView__>, Std.JSON.Utils.Cursors._ICursorError<Std.JSON.Errors._IDeserializationError>>.create_Success(_0_sp);
      }
    }
    public static Std.Wrappers._IResult<Std.JSON.Utils.Cursors._ISplit<Std.JSON.Grammar._IMaybe<Std.JSON.Grammar._Ijexp>>, Std.JSON.Utils.Cursors._ICursorError<Std.JSON.Errors._IDeserializationError>> Exp(Std.JSON.Utils.Cursors._ICursor__ cs) {
      Std.JSON.Utils.Cursors._ISplit<Std.JSON.Utils.Views.Core._IView__> _let_tmp_rhs0 = ((cs).SkipIf(((System.Func<byte, bool>)((_0_c) => {
        return ((_0_c) == ((byte)((new Dafny.Rune('e')).Value))) || ((_0_c) == ((byte)((new Dafny.Rune('E')).Value)));
      })))).Split();
      Std.JSON.Utils.Views.Core._IView__ _1_e = _let_tmp_rhs0.dtor_t;
      Std.JSON.Utils.Cursors._ICursor__ _2_cs = _let_tmp_rhs0.dtor_cs;
      if ((_1_e).Empty_q) {
        return Std.Wrappers.Result<Std.JSON.Utils.Cursors._ISplit<Std.JSON.Grammar._IMaybe<Std.JSON.Grammar._Ijexp>>, Std.JSON.Utils.Cursors._ICursorError<Std.JSON.Errors._IDeserializationError>>.create_Success(Std.JSON.Utils.Cursors.Split<Std.JSON.Grammar._IMaybe<Std.JSON.Grammar._Ijexp>>.create(Std.JSON.Grammar.Maybe<Std.JSON.Grammar._Ijexp>.create_Empty(), _2_cs));
      } else {
        Std.JSON.Utils.Cursors._ISplit<Std.JSON.Utils.Views.Core._IView__> _let_tmp_rhs1 = Std.JSON.ZeroCopy.Deserializer.Numbers.__default.OptionalSign(_2_cs);
        Std.JSON.Utils.Views.Core._IView__ _3_sign = _let_tmp_rhs1.dtor_t;
        Std.JSON.Utils.Cursors._ICursor__ _4_cs = _let_tmp_rhs1.dtor_cs;
        Std.Wrappers._IResult<Std.JSON.Utils.Cursors._ISplit<Std.JSON.Utils.Views.Core._IView__>, Std.JSON.Utils.Cursors._ICursorError<Std.JSON.Errors._IDeserializationError>> _5_valueOrError0 = Std.JSON.ZeroCopy.Deserializer.Numbers.__default.NonEmptyDigits(_4_cs);
        if ((_5_valueOrError0).IsFailure()) {
          return (_5_valueOrError0).PropagateFailure<Std.JSON.Utils.Cursors._ISplit<Std.JSON.Grammar._IMaybe<Std.JSON.Grammar._Ijexp>>>();
        } else {
          Std.JSON.Utils.Cursors._ISplit<Std.JSON.Utils.Views.Core._IView__> _let_tmp_rhs2 = (_5_valueOrError0).Extract();
          Std.JSON.Utils.Views.Core._IView__ _6_num = _let_tmp_rhs2.dtor_t;
          Std.JSON.Utils.Cursors._ICursor__ _7_cs = _let_tmp_rhs2.dtor_cs;
          return Std.Wrappers.Result<Std.JSON.Utils.Cursors._ISplit<Std.JSON.Grammar._IMaybe<Std.JSON.Grammar._Ijexp>>, Std.JSON.Utils.Cursors._ICursorError<Std.JSON.Errors._IDeserializationError>>.create_Success(Std.JSON.Utils.Cursors.Split<Std.JSON.Grammar._IMaybe<Std.JSON.Grammar._Ijexp>>.create(Std.JSON.Grammar.Maybe<Std.JSON.Grammar._Ijexp>.create_NonEmpty(Std.JSON.Grammar.jexp.create(_1_e, _3_sign, _6_num)), _7_cs));
        }
      }
    }
    public static Std.Wrappers._IResult<Std.JSON.Utils.Cursors._ISplit<Std.JSON.Grammar._IMaybe<Std.JSON.Grammar._Ijfrac>>, Std.JSON.Utils.Cursors._ICursorError<Std.JSON.Errors._IDeserializationError>> Frac(Std.JSON.Utils.Cursors._ICursor__ cs) {
      Std.JSON.Utils.Cursors._ISplit<Std.JSON.Utils.Views.Core._IView__> _let_tmp_rhs0 = ((cs).SkipIf(((System.Func<byte, bool>)((_0_c) => {
        return (_0_c) == ((byte)((new Dafny.Rune('.')).Value));
      })))).Split();
      Std.JSON.Utils.Views.Core._IView__ _1_period = _let_tmp_rhs0.dtor_t;
      Std.JSON.Utils.Cursors._ICursor__ _2_cs = _let_tmp_rhs0.dtor_cs;
      if ((_1_period).Empty_q) {
        return Std.Wrappers.Result<Std.JSON.Utils.Cursors._ISplit<Std.JSON.Grammar._IMaybe<Std.JSON.Grammar._Ijfrac>>, Std.JSON.Utils.Cursors._ICursorError<Std.JSON.Errors._IDeserializationError>>.create_Success(Std.JSON.Utils.Cursors.Split<Std.JSON.Grammar._IMaybe<Std.JSON.Grammar._Ijfrac>>.create(Std.JSON.Grammar.Maybe<Std.JSON.Grammar._Ijfrac>.create_Empty(), _2_cs));
      } else {
        Std.Wrappers._IResult<Std.JSON.Utils.Cursors._ISplit<Std.JSON.Utils.Views.Core._IView__>, Std.JSON.Utils.Cursors._ICursorError<Std.JSON.Errors._IDeserializationError>> _3_valueOrError0 = Std.JSON.ZeroCopy.Deserializer.Numbers.__default.NonEmptyDigits(_2_cs);
        if ((_3_valueOrError0).IsFailure()) {
          return (_3_valueOrError0).PropagateFailure<Std.JSON.Utils.Cursors._ISplit<Std.JSON.Grammar._IMaybe<Std.JSON.Grammar._Ijfrac>>>();
        } else {
          Std.JSON.Utils.Cursors._ISplit<Std.JSON.Utils.Views.Core._IView__> _let_tmp_rhs1 = (_3_valueOrError0).Extract();
          Std.JSON.Utils.Views.Core._IView__ _4_num = _let_tmp_rhs1.dtor_t;
          Std.JSON.Utils.Cursors._ICursor__ _5_cs = _let_tmp_rhs1.dtor_cs;
          return Std.Wrappers.Result<Std.JSON.Utils.Cursors._ISplit<Std.JSON.Grammar._IMaybe<Std.JSON.Grammar._Ijfrac>>, Std.JSON.Utils.Cursors._ICursorError<Std.JSON.Errors._IDeserializationError>>.create_Success(Std.JSON.Utils.Cursors.Split<Std.JSON.Grammar._IMaybe<Std.JSON.Grammar._Ijfrac>>.create(Std.JSON.Grammar.Maybe<Std.JSON.Grammar._Ijfrac>.create_NonEmpty(Std.JSON.Grammar.jfrac.create(_1_period, _4_num)), _5_cs));
        }
      }
    }
    public static Std.JSON.Utils.Cursors._ISplit<Std.JSON.Grammar._Ijnumber> NumberFromParts(Std.JSON.Utils.Cursors._ISplit<Std.JSON.Utils.Views.Core._IView__> minus, Std.JSON.Utils.Cursors._ISplit<Std.JSON.Utils.Views.Core._IView__> num, Std.JSON.Utils.Cursors._ISplit<Std.JSON.Grammar._IMaybe<Std.JSON.Grammar._Ijfrac>> frac, Std.JSON.Utils.Cursors._ISplit<Std.JSON.Grammar._IMaybe<Std.JSON.Grammar._Ijexp>> exp)
    {
      Std.JSON.Utils.Cursors._ISplit<Std.JSON.Grammar._Ijnumber> _0_sp = Std.JSON.Utils.Cursors.Split<Std.JSON.Grammar._Ijnumber>.create(Std.JSON.Grammar.jnumber.create((minus).dtor_t, (num).dtor_t, (frac).dtor_t, (exp).dtor_t), (exp).dtor_cs);
      return _0_sp;
    }
    public static Std.Wrappers._IResult<Std.JSON.Utils.Cursors._ISplit<Std.JSON.Grammar._Ijnumber>, Std.JSON.Utils.Cursors._ICursorError<Std.JSON.Errors._IDeserializationError>> Number(Std.JSON.Utils.Cursors._ICursor__ cs) {
      Std.JSON.Utils.Cursors._ISplit<Std.JSON.Utils.Views.Core._IView__> _0_minus = Std.JSON.ZeroCopy.Deserializer.Numbers.__default.OptionalMinus(cs);
      Std.Wrappers._IResult<Std.JSON.Utils.Cursors._ISplit<Std.JSON.Utils.Views.Core._IView__>, Std.JSON.Utils.Cursors._ICursorError<Std.JSON.Errors._IDeserializationError>> _1_valueOrError0 = Std.JSON.ZeroCopy.Deserializer.Numbers.__default.TrimmedInt((_0_minus).dtor_cs);
      if ((_1_valueOrError0).IsFailure()) {
        return (_1_valueOrError0).PropagateFailure<Std.JSON.Utils.Cursors._ISplit<Std.JSON.Grammar._Ijnumber>>();
      } else {
        Std.JSON.Utils.Cursors._ISplit<Std.JSON.Utils.Views.Core._IView__> _2_num = (_1_valueOrError0).Extract();
        Std.Wrappers._IResult<Std.JSON.Utils.Cursors._ISplit<Std.JSON.Grammar._IMaybe<Std.JSON.Grammar._Ijfrac>>, Std.JSON.Utils.Cursors._ICursorError<Std.JSON.Errors._IDeserializationError>> _3_valueOrError1 = Std.JSON.ZeroCopy.Deserializer.Numbers.__default.Frac((_2_num).dtor_cs);
        if ((_3_valueOrError1).IsFailure()) {
          return (_3_valueOrError1).PropagateFailure<Std.JSON.Utils.Cursors._ISplit<Std.JSON.Grammar._Ijnumber>>();
        } else {
          Std.JSON.Utils.Cursors._ISplit<Std.JSON.Grammar._IMaybe<Std.JSON.Grammar._Ijfrac>> _4_frac = (_3_valueOrError1).Extract();
          Std.Wrappers._IResult<Std.JSON.Utils.Cursors._ISplit<Std.JSON.Grammar._IMaybe<Std.JSON.Grammar._Ijexp>>, Std.JSON.Utils.Cursors._ICursorError<Std.JSON.Errors._IDeserializationError>> _5_valueOrError2 = Std.JSON.ZeroCopy.Deserializer.Numbers.__default.Exp((_4_frac).dtor_cs);
          if ((_5_valueOrError2).IsFailure()) {
            return (_5_valueOrError2).PropagateFailure<Std.JSON.Utils.Cursors._ISplit<Std.JSON.Grammar._Ijnumber>>();
          } else {
            Std.JSON.Utils.Cursors._ISplit<Std.JSON.Grammar._IMaybe<Std.JSON.Grammar._Ijexp>> _6_exp = (_5_valueOrError2).Extract();
            return Std.Wrappers.Result<Std.JSON.Utils.Cursors._ISplit<Std.JSON.Grammar._Ijnumber>, Std.JSON.Utils.Cursors._ICursorError<Std.JSON.Errors._IDeserializationError>>.create_Success(Std.JSON.ZeroCopy.Deserializer.Numbers.__default.NumberFromParts(_0_minus, _2_num, _4_frac, _6_exp));
          }
        }
      }
    }
  }
} // end of namespace Std.JSON.ZeroCopy.Deserializer.Numbers
namespace Std.JSON.ZeroCopy.Deserializer.ObjectParams {

  public partial class __default {
    public static Std.Wrappers._IResult<Std.JSON.Utils.Cursors._ISplit<Std.JSON.Utils.Views.Core._IView__>, Std.JSON.Utils.Cursors._ICursorError<Std.JSON.Errors._IDeserializationError>> Colon(Std.JSON.Utils.Cursors._ICursor__ cs) {
      Std.Wrappers._IResult<Std.JSON.Utils.Cursors._ICursor__, Std.JSON.Utils.Cursors._ICursorError<Std.JSON.Errors._IDeserializationError>> _0_valueOrError0 = (cs).AssertChar<Std.JSON.Errors._IDeserializationError>(new Dafny.Rune(':'));
      if ((_0_valueOrError0).IsFailure()) {
        return (_0_valueOrError0).PropagateFailure<Std.JSON.Utils.Cursors._ISplit<Std.JSON.Utils.Views.Core._IView__>>();
      } else {
        Std.JSON.Utils.Cursors._ICursor__ _1_cs = (_0_valueOrError0).Extract();
        return Std.Wrappers.Result<Std.JSON.Utils.Cursors._ISplit<Std.JSON.Utils.Views.Core._IView__>, Std.JSON.Utils.Cursors._ICursorError<Std.JSON.Errors._IDeserializationError>>.create_Success((_1_cs).Split());
      }
    }
    public static Std.JSON.Utils.Cursors._ISplit<Std.JSON.Grammar._IjKeyValue> KeyValueFromParts(Std.JSON.Utils.Cursors._ISplit<Std.JSON.Grammar._Ijstring> k, Std.JSON.Utils.Cursors._ISplit<Std.JSON.Grammar._IStructural<Std.JSON.Utils.Views.Core._IView__>> colon, Std.JSON.Utils.Cursors._ISplit<Std.JSON.Grammar._IValue> v)
    {
      Std.JSON.Utils.Cursors._ISplit<Std.JSON.Grammar._IjKeyValue> _0_sp = Std.JSON.Utils.Cursors.Split<Std.JSON.Grammar._IjKeyValue>.create(Std.JSON.Grammar.jKeyValue.create((k).dtor_t, (colon).dtor_t, (v).dtor_t), (v).dtor_cs);
      return _0_sp;
    }
    public static Dafny.ISequence<byte> ElementSpec(Std.JSON.Grammar._IjKeyValue t) {
      return Std.JSON.ConcreteSyntax.Spec.__default.KeyValue(t);
    }
    public static Std.Wrappers._IResult<Std.JSON.Utils.Cursors._ISplit<Std.JSON.Grammar._IjKeyValue>, Std.JSON.Utils.Cursors._ICursorError<Std.JSON.Errors._IDeserializationError>> Element(Std.JSON.Utils.Cursors._ICursor__ cs, Func<Std.JSON.Utils.Cursors._ICursor__, Std.Wrappers._IResult<Std.JSON.Utils.Cursors._ISplit<Std.JSON.Grammar._IValue>, Std.JSON.Utils.Cursors._ICursorError<Std.JSON.Errors._IDeserializationError>>> json)
    {
      Std.Wrappers._IResult<Std.JSON.Utils.Cursors._ISplit<Std.JSON.Grammar._Ijstring>, Std.JSON.Utils.Cursors._ICursorError<Std.JSON.Errors._IDeserializationError>> _0_valueOrError0 = Std.JSON.ZeroCopy.Deserializer.Strings.__default.String(cs);
      if ((_0_valueOrError0).IsFailure()) {
        return (_0_valueOrError0).PropagateFailure<Std.JSON.Utils.Cursors._ISplit<Std.JSON.Grammar._IjKeyValue>>();
      } else {
        Std.JSON.Utils.Cursors._ISplit<Std.JSON.Grammar._Ijstring> _1_k = (_0_valueOrError0).Extract();
        Func<Std.JSON.Utils.Cursors._ICursor__, Std.Wrappers._IResult<Std.JSON.Utils.Cursors._ISplit<Std.JSON.Utils.Views.Core._IView__>, Std.JSON.Utils.Cursors._ICursorError<Std.JSON.Errors._IDeserializationError>>> _2_p = Std.JSON.ZeroCopy.Deserializer.ObjectParams.__default.Colon;
        Std.Wrappers._IResult<Std.JSON.Utils.Cursors._ISplit<Std.JSON.Grammar._IStructural<Std.JSON.Utils.Views.Core._IView__>>, Std.JSON.Utils.Cursors._ICursorError<Std.JSON.Errors._IDeserializationError>> _3_valueOrError1 = Std.JSON.ZeroCopy.Deserializer.Core.__default.Structural<Std.JSON.Utils.Views.Core._IView__>((_1_k).dtor_cs, _2_p);
        if ((_3_valueOrError1).IsFailure()) {
          return (_3_valueOrError1).PropagateFailure<Std.JSON.Utils.Cursors._ISplit<Std.JSON.Grammar._IjKeyValue>>();
        } else {
          Std.JSON.Utils.Cursors._ISplit<Std.JSON.Grammar._IStructural<Std.JSON.Utils.Views.Core._IView__>> _4_colon = (_3_valueOrError1).Extract();
          Std.Wrappers._IResult<Std.JSON.Utils.Cursors._ISplit<Std.JSON.Grammar._IValue>, Std.JSON.Utils.Cursors._ICursorError<Std.JSON.Errors._IDeserializationError>> _5_valueOrError2 = Dafny.Helpers.Id<Func<Std.JSON.Utils.Cursors._ICursor__, Std.Wrappers._IResult<Std.JSON.Utils.Cursors._ISplit<Std.JSON.Grammar._IValue>, Std.JSON.Utils.Cursors._ICursorError<Std.JSON.Errors._IDeserializationError>>>>((json))((_4_colon).dtor_cs);
          if ((_5_valueOrError2).IsFailure()) {
            return (_5_valueOrError2).PropagateFailure<Std.JSON.Utils.Cursors._ISplit<Std.JSON.Grammar._IjKeyValue>>();
          } else {
            Std.JSON.Utils.Cursors._ISplit<Std.JSON.Grammar._IValue> _6_v = (_5_valueOrError2).Extract();
            Std.JSON.Utils.Cursors._ISplit<Std.JSON.Grammar._IjKeyValue> _7_kv = Std.JSON.ZeroCopy.Deserializer.ObjectParams.__default.KeyValueFromParts(_1_k, _4_colon, _6_v);
            return Std.Wrappers.Result<Std.JSON.Utils.Cursors._ISplit<Std.JSON.Grammar._IjKeyValue>, Std.JSON.Utils.Cursors._ICursorError<Std.JSON.Errors._IDeserializationError>>.create_Success(_7_kv);
          }
        }
      }
    }
    public static byte OPEN { get {
      return (byte)((new Dafny.Rune('{')).Value);
    } }
    public static byte CLOSE { get {
      return (byte)((new Dafny.Rune('}')).Value);
    } }
  }
} // end of namespace Std.JSON.ZeroCopy.Deserializer.ObjectParams
namespace Std.JSON.ZeroCopy.Deserializer.Objects {

  public partial class __default {
    public static Std.Wrappers._IResult<Std.JSON.Utils.Cursors._ISplit<Std.JSON.Grammar._IBracketed<Std.JSON.Utils.Views.Core._IView__, Std.JSON.Grammar._IjKeyValue, Std.JSON.Utils.Views.Core._IView__, Std.JSON.Utils.Views.Core._IView__>>, Std.JSON.Utils.Cursors._ICursorError<Std.JSON.Errors._IDeserializationError>> Object(Std.JSON.Utils.Cursors._ICursor__ cs, Func<Std.JSON.Utils.Cursors._ICursor__, Std.Wrappers._IResult<Std.JSON.Utils.Cursors._ISplit<Std.JSON.Grammar._IValue>, Std.JSON.Utils.Cursors._ICursorError<Std.JSON.Errors._IDeserializationError>>> json)
    {
      Std.Wrappers._IResult<Std.JSON.Utils.Cursors._ISplit<Std.JSON.Grammar._IBracketed<Std.JSON.Utils.Views.Core._IView__, Std.JSON.Grammar._IjKeyValue, Std.JSON.Utils.Views.Core._IView__, Std.JSON.Utils.Views.Core._IView__>>, Std.JSON.Utils.Cursors._ICursorError<Std.JSON.Errors._IDeserializationError>> _0_valueOrError0 = Std.JSON.ZeroCopy.Deserializer.Objects.__default.Bracketed(cs, json);
      if ((_0_valueOrError0).IsFailure()) {
        return (_0_valueOrError0).PropagateFailure<Std.JSON.Utils.Cursors._ISplit<Std.JSON.Grammar._IBracketed<Std.JSON.Utils.Views.Core._IView__, Std.JSON.Grammar._IjKeyValue, Std.JSON.Utils.Views.Core._IView__, Std.JSON.Utils.Views.Core._IView__>>>();
      } else {
        Std.JSON.Utils.Cursors._ISplit<Std.JSON.Grammar._IBracketed<Std.JSON.Utils.Views.Core._IView__, Std.JSON.Grammar._IjKeyValue, Std.JSON.Utils.Views.Core._IView__, Std.JSON.Utils.Views.Core._IView__>> _1_sp = (_0_valueOrError0).Extract();
        return Std.Wrappers.Result<Std.JSON.Utils.Cursors._ISplit<Std.JSON.Grammar._IBracketed<Std.JSON.Utils.Views.Core._IView__, Std.JSON.Grammar._IjKeyValue, Std.JSON.Utils.Views.Core._IView__, Std.JSON.Utils.Views.Core._IView__>>, Std.JSON.Utils.Cursors._ICursorError<Std.JSON.Errors._IDeserializationError>>.create_Success(_1_sp);
      }
    }
    public static Std.Wrappers._IResult<Std.JSON.Utils.Cursors._ISplit<Std.JSON.Utils.Views.Core._IView__>, Std.JSON.Utils.Cursors._ICursorError<Std.JSON.Errors._IDeserializationError>> Open(Std.JSON.Utils.Cursors._ICursor__ cs) {
      Std.Wrappers._IResult<Std.JSON.Utils.Cursors._ICursor__, Std.JSON.Utils.Cursors._ICursorError<Std.JSON.Errors._IDeserializationError>> _0_valueOrError0 = (cs).AssertByte<Std.JSON.Errors._IDeserializationError>(Std.JSON.ZeroCopy.Deserializer.ObjectParams.__default.OPEN);
      if ((_0_valueOrError0).IsFailure()) {
        return (_0_valueOrError0).PropagateFailure<Std.JSON.Utils.Cursors._ISplit<Std.JSON.Utils.Views.Core._IView__>>();
      } else {
        Std.JSON.Utils.Cursors._ICursor__ _1_cs = (_0_valueOrError0).Extract();
        return Std.Wrappers.Result<Std.JSON.Utils.Cursors._ISplit<Std.JSON.Utils.Views.Core._IView__>, Std.JSON.Utils.Cursors._ICursorError<Std.JSON.Errors._IDeserializationError>>.create_Success((_1_cs).Split());
      }
    }
    public static Std.Wrappers._IResult<Std.JSON.Utils.Cursors._ISplit<Std.JSON.Utils.Views.Core._IView__>, Std.JSON.Utils.Cursors._ICursorError<Std.JSON.Errors._IDeserializationError>> Close(Std.JSON.Utils.Cursors._ICursor__ cs) {
      Std.Wrappers._IResult<Std.JSON.Utils.Cursors._ICursor__, Std.JSON.Utils.Cursors._ICursorError<Std.JSON.Errors._IDeserializationError>> _0_valueOrError0 = (cs).AssertByte<Std.JSON.Errors._IDeserializationError>(Std.JSON.ZeroCopy.Deserializer.ObjectParams.__default.CLOSE);
      if ((_0_valueOrError0).IsFailure()) {
        return (_0_valueOrError0).PropagateFailure<Std.JSON.Utils.Cursors._ISplit<Std.JSON.Utils.Views.Core._IView__>>();
      } else {
        Std.JSON.Utils.Cursors._ICursor__ _1_cs = (_0_valueOrError0).Extract();
        return Std.Wrappers.Result<Std.JSON.Utils.Cursors._ISplit<Std.JSON.Utils.Views.Core._IView__>, Std.JSON.Utils.Cursors._ICursorError<Std.JSON.Errors._IDeserializationError>>.create_Success((_1_cs).Split());
      }
    }
    public static Std.JSON.Utils.Cursors._ISplit<Std.JSON.Grammar._IBracketed<Std.JSON.Utils.Views.Core._IView__, Std.JSON.Grammar._IjKeyValue, Std.JSON.Utils.Views.Core._IView__, Std.JSON.Utils.Views.Core._IView__>> BracketedFromParts(Std.JSON.Utils.Cursors._ISplit<Std.JSON.Grammar._IStructural<Std.JSON.Utils.Views.Core._IView__>> open, Std.JSON.Utils.Cursors._ISplit<Dafny.ISequence<Std.JSON.Grammar._ISuffixed<Std.JSON.Grammar._IjKeyValue, Std.JSON.Utils.Views.Core._IView__>>> elems, Std.JSON.Utils.Cursors._ISplit<Std.JSON.Grammar._IStructural<Std.JSON.Utils.Views.Core._IView__>> close)
    {
      Std.JSON.Utils.Cursors._ISplit<Std.JSON.Grammar._IBracketed<Std.JSON.Utils.Views.Core._IView__, Std.JSON.Grammar._IjKeyValue, Std.JSON.Utils.Views.Core._IView__, Std.JSON.Utils.Views.Core._IView__>> _0_sp = Std.JSON.Utils.Cursors.Split<Std.JSON.Grammar._IBracketed<Std.JSON.Utils.Views.Core._IView__, Std.JSON.Grammar._IjKeyValue, Std.JSON.Utils.Views.Core._IView__, Std.JSON.Utils.Views.Core._IView__>>.create(Std.JSON.Grammar.Bracketed<Std.JSON.Utils.Views.Core._IView__, Std.JSON.Grammar._IjKeyValue, Std.JSON.Utils.Views.Core._IView__, Std.JSON.Utils.Views.Core._IView__>.create((open).dtor_t, (elems).dtor_t, (close).dtor_t), (close).dtor_cs);
      return _0_sp;
    }
    public static Std.JSON.Utils.Cursors._ISplit<Dafny.ISequence<Std.JSON.Grammar._ISuffixed<Std.JSON.Grammar._IjKeyValue, Std.JSON.Utils.Views.Core._IView__>>> AppendWithSuffix(Std.JSON.Utils.Cursors._ISplit<Dafny.ISequence<Std.JSON.Grammar._ISuffixed<Std.JSON.Grammar._IjKeyValue, Std.JSON.Utils.Views.Core._IView__>>> elems, Std.JSON.Utils.Cursors._ISplit<Std.JSON.Grammar._IjKeyValue> elem, Std.JSON.Utils.Cursors._ISplit<Std.JSON.Grammar._IStructural<Std.JSON.Utils.Views.Core._IView__>> sep)
    {
      Std.JSON.Grammar._ISuffixed<Std.JSON.Grammar._IjKeyValue, Std.JSON.Utils.Views.Core._IView__> _0_suffixed = Std.JSON.Grammar.Suffixed<Std.JSON.Grammar._IjKeyValue, Std.JSON.Utils.Views.Core._IView__>.create((elem).dtor_t, Std.JSON.Grammar.Maybe<Std.JSON.Grammar._IStructural<Std.JSON.Utils.Views.Core._IView__>>.create_NonEmpty((sep).dtor_t));
      Std.JSON.Utils.Cursors._ISplit<Dafny.ISequence<Std.JSON.Grammar._ISuffixed<Std.JSON.Grammar._IjKeyValue, Std.JSON.Utils.Views.Core._IView__>>> _1_elems_k = Std.JSON.Utils.Cursors.Split<Dafny.ISequence<Std.JSON.Grammar._ISuffixed<Std.JSON.Grammar._IjKeyValue, Std.JSON.Utils.Views.Core._IView__>>>.create(Dafny.Sequence<Std.JSON.Grammar._ISuffixed<Std.JSON.Grammar._IjKeyValue, Std.JSON.Utils.Views.Core._IView__>>.Concat((elems).dtor_t, Dafny.Sequence<Std.JSON.Grammar._ISuffixed<Std.JSON.Grammar._IjKeyValue, Std.JSON.Utils.Views.Core._IView__>>.FromElements(_0_suffixed)), (sep).dtor_cs);
      return _1_elems_k;
    }
    public static Std.JSON.Utils.Cursors._ISplit<Dafny.ISequence<Std.JSON.Grammar._ISuffixed<Std.JSON.Grammar._IjKeyValue, Std.JSON.Utils.Views.Core._IView__>>> AppendLast(Std.JSON.Utils.Cursors._ISplit<Dafny.ISequence<Std.JSON.Grammar._ISuffixed<Std.JSON.Grammar._IjKeyValue, Std.JSON.Utils.Views.Core._IView__>>> elems, Std.JSON.Utils.Cursors._ISplit<Std.JSON.Grammar._IjKeyValue> elem, Std.JSON.Utils.Cursors._ISplit<Std.JSON.Grammar._IStructural<Std.JSON.Utils.Views.Core._IView__>> sep)
    {
      Std.JSON.Grammar._ISuffixed<Std.JSON.Grammar._IjKeyValue, Std.JSON.Utils.Views.Core._IView__> _0_suffixed = Std.JSON.Grammar.Suffixed<Std.JSON.Grammar._IjKeyValue, Std.JSON.Utils.Views.Core._IView__>.create((elem).dtor_t, Std.JSON.Grammar.Maybe<Std.JSON.Grammar._IStructural<Std.JSON.Utils.Views.Core._IView__>>.create_Empty());
      Std.JSON.Utils.Cursors._ISplit<Dafny.ISequence<Std.JSON.Grammar._ISuffixed<Std.JSON.Grammar._IjKeyValue, Std.JSON.Utils.Views.Core._IView__>>> _1_elems_k = Std.JSON.Utils.Cursors.Split<Dafny.ISequence<Std.JSON.Grammar._ISuffixed<Std.JSON.Grammar._IjKeyValue, Std.JSON.Utils.Views.Core._IView__>>>.create(Dafny.Sequence<Std.JSON.Grammar._ISuffixed<Std.JSON.Grammar._IjKeyValue, Std.JSON.Utils.Views.Core._IView__>>.Concat((elems).dtor_t, Dafny.Sequence<Std.JSON.Grammar._ISuffixed<Std.JSON.Grammar._IjKeyValue, Std.JSON.Utils.Views.Core._IView__>>.FromElements(_0_suffixed)), (elem).dtor_cs);
      return _1_elems_k;
    }
    public static Std.Wrappers._IResult<Std.JSON.Utils.Cursors._ISplit<Std.JSON.Grammar._IBracketed<Std.JSON.Utils.Views.Core._IView__, Std.JSON.Grammar._IjKeyValue, Std.JSON.Utils.Views.Core._IView__, Std.JSON.Utils.Views.Core._IView__>>, Std.JSON.Utils.Cursors._ICursorError<Std.JSON.Errors._IDeserializationError>> Elements(Func<Std.JSON.Utils.Cursors._ICursor__, Std.Wrappers._IResult<Std.JSON.Utils.Cursors._ISplit<Std.JSON.Grammar._IValue>, Std.JSON.Utils.Cursors._ICursorError<Std.JSON.Errors._IDeserializationError>>> json, Std.JSON.Utils.Cursors._ISplit<Std.JSON.Grammar._IStructural<Std.JSON.Utils.Views.Core._IView__>> open, Std.JSON.Utils.Cursors._ISplit<Dafny.ISequence<Std.JSON.Grammar._ISuffixed<Std.JSON.Grammar._IjKeyValue, Std.JSON.Utils.Views.Core._IView__>>> elems)
    {
    TAIL_CALL_START: ;
      Std.Wrappers._IResult<Std.JSON.Utils.Cursors._ISplit<Std.JSON.Grammar._IjKeyValue>, Std.JSON.Utils.Cursors._ICursorError<Std.JSON.Errors._IDeserializationError>> _0_valueOrError0 = Std.JSON.ZeroCopy.Deserializer.ObjectParams.__default.Element((elems).dtor_cs, json);
      if ((_0_valueOrError0).IsFailure()) {
        return (_0_valueOrError0).PropagateFailure<Std.JSON.Utils.Cursors._ISplit<Std.JSON.Grammar._IBracketed<Std.JSON.Utils.Views.Core._IView__, Std.JSON.Grammar._IjKeyValue, Std.JSON.Utils.Views.Core._IView__, Std.JSON.Utils.Views.Core._IView__>>>();
      } else {
        Std.JSON.Utils.Cursors._ISplit<Std.JSON.Grammar._IjKeyValue> _1_elem = (_0_valueOrError0).Extract();
        if (((_1_elem).dtor_cs).EOF_q) {
          return Std.Wrappers.Result<Std.JSON.Utils.Cursors._ISplit<Std.JSON.Grammar._IBracketed<Std.JSON.Utils.Views.Core._IView__, Std.JSON.Grammar._IjKeyValue, Std.JSON.Utils.Views.Core._IView__, Std.JSON.Utils.Views.Core._IView__>>, Std.JSON.Utils.Cursors._ICursorError<Std.JSON.Errors._IDeserializationError>>.create_Failure(Std.JSON.Utils.Cursors.CursorError<Std.JSON.Errors._IDeserializationError>.create_EOF());
        } else {
          Std.JSON.Utils.Cursors._ISplit<Std.JSON.Grammar._IStructural<Std.JSON.Utils.Views.Core._IView__>> _2_sep = Std.JSON.ZeroCopy.Deserializer.Core.__default.TryStructural((_1_elem).dtor_cs);
          short _3_s0 = (((_2_sep).dtor_t).dtor_t).Peek();
          if (((_3_s0) == ((short)(Std.JSON.ZeroCopy.Deserializer.Objects.__default.SEPARATOR))) && (((((_2_sep).dtor_t).dtor_t).Length()) == (1U))) {
            Std.JSON.Utils.Cursors._ISplit<Std.JSON.Grammar._IStructural<Std.JSON.Utils.Views.Core._IView__>> _4_sep = _2_sep;
            Std.JSON.Utils.Cursors._ISplit<Dafny.ISequence<Std.JSON.Grammar._ISuffixed<Std.JSON.Grammar._IjKeyValue, Std.JSON.Utils.Views.Core._IView__>>> _5_elems = Std.JSON.ZeroCopy.Deserializer.Objects.__default.AppendWithSuffix(elems, _1_elem, _4_sep);
            Func<Std.JSON.Utils.Cursors._ICursor__, Std.Wrappers._IResult<Std.JSON.Utils.Cursors._ISplit<Std.JSON.Grammar._IValue>, Std.JSON.Utils.Cursors._ICursorError<Std.JSON.Errors._IDeserializationError>>> _in0 = json;
            Std.JSON.Utils.Cursors._ISplit<Std.JSON.Grammar._IStructural<Std.JSON.Utils.Views.Core._IView__>> _in1 = open;
            Std.JSON.Utils.Cursors._ISplit<Dafny.ISequence<Std.JSON.Grammar._ISuffixed<Std.JSON.Grammar._IjKeyValue, Std.JSON.Utils.Views.Core._IView__>>> _in2 = _5_elems;
            json = _in0;
            open = _in1;
            elems = _in2;
            goto TAIL_CALL_START;
          } else if (((_3_s0) == ((short)(Std.JSON.ZeroCopy.Deserializer.ObjectParams.__default.CLOSE))) && (((((_2_sep).dtor_t).dtor_t).Length()) == (1U))) {
            Std.JSON.Utils.Cursors._ISplit<Std.JSON.Grammar._IStructural<Std.JSON.Utils.Views.Core._IView__>> _6_sep = _2_sep;
            Std.JSON.Utils.Cursors._ISplit<Dafny.ISequence<Std.JSON.Grammar._ISuffixed<Std.JSON.Grammar._IjKeyValue, Std.JSON.Utils.Views.Core._IView__>>> _7_elems_k = Std.JSON.ZeroCopy.Deserializer.Objects.__default.AppendLast(elems, _1_elem, _6_sep);
            Std.JSON.Utils.Cursors._ISplit<Std.JSON.Grammar._IBracketed<Std.JSON.Utils.Views.Core._IView__, Std.JSON.Grammar._IjKeyValue, Std.JSON.Utils.Views.Core._IView__, Std.JSON.Utils.Views.Core._IView__>> _8_bracketed = Std.JSON.ZeroCopy.Deserializer.Objects.__default.BracketedFromParts(open, _7_elems_k, _6_sep);
            return Std.Wrappers.Result<Std.JSON.Utils.Cursors._ISplit<Std.JSON.Grammar._IBracketed<Std.JSON.Utils.Views.Core._IView__, Std.JSON.Grammar._IjKeyValue, Std.JSON.Utils.Views.Core._IView__, Std.JSON.Utils.Views.Core._IView__>>, Std.JSON.Utils.Cursors._ICursorError<Std.JSON.Errors._IDeserializationError>>.create_Success(_8_bracketed);
          } else {
            byte _9_separator = Std.JSON.ZeroCopy.Deserializer.Objects.__default.SEPARATOR;
            Std.Wrappers._IResult<Std.JSON.Utils.Cursors._ISplit<Std.JSON.Grammar._IBracketed<Std.JSON.Utils.Views.Core._IView__, Std.JSON.Grammar._IjKeyValue, Std.JSON.Utils.Views.Core._IView__, Std.JSON.Utils.Views.Core._IView__>>, Std.JSON.Utils.Cursors._ICursorError<Std.JSON.Errors._IDeserializationError>> _10_pr = Std.Wrappers.Result<Std.JSON.Utils.Cursors._ISplit<Std.JSON.Grammar._IBracketed<Std.JSON.Utils.Views.Core._IView__, Std.JSON.Grammar._IjKeyValue, Std.JSON.Utils.Views.Core._IView__, Std.JSON.Utils.Views.Core._IView__>>, Std.JSON.Utils.Cursors._ICursorError<Std.JSON.Errors._IDeserializationError>>.create_Failure(Std.JSON.Utils.Cursors.CursorError<Std.JSON.Errors._IDeserializationError>.create_ExpectingAnyByte(Dafny.Sequence<byte>.FromElements(Std.JSON.ZeroCopy.Deserializer.ObjectParams.__default.CLOSE, _9_separator), _3_s0));
            return _10_pr;
          }
        }
      }
    }
    public static Std.Wrappers._IResult<Std.JSON.Utils.Cursors._ISplit<Std.JSON.Grammar._IBracketed<Std.JSON.Utils.Views.Core._IView__, Std.JSON.Grammar._IjKeyValue, Std.JSON.Utils.Views.Core._IView__, Std.JSON.Utils.Views.Core._IView__>>, Std.JSON.Utils.Cursors._ICursorError<Std.JSON.Errors._IDeserializationError>> Bracketed(Std.JSON.Utils.Cursors._ICursor__ cs, Func<Std.JSON.Utils.Cursors._ICursor__, Std.Wrappers._IResult<Std.JSON.Utils.Cursors._ISplit<Std.JSON.Grammar._IValue>, Std.JSON.Utils.Cursors._ICursorError<Std.JSON.Errors._IDeserializationError>>> json)
    {
      Std.Wrappers._IResult<Std.JSON.Utils.Cursors._ISplit<Std.JSON.Grammar._IStructural<Std.JSON.Utils.Views.Core._IView__>>, Std.JSON.Utils.Cursors._ICursorError<Std.JSON.Errors._IDeserializationError>> _0_valueOrError0 = Std.JSON.ZeroCopy.Deserializer.Core.__default.Structural<Std.JSON.Utils.Views.Core._IView__>(cs, Std.JSON.ZeroCopy.Deserializer.Objects.__default.Open);
      if ((_0_valueOrError0).IsFailure()) {
        return (_0_valueOrError0).PropagateFailure<Std.JSON.Utils.Cursors._ISplit<Std.JSON.Grammar._IBracketed<Std.JSON.Utils.Views.Core._IView__, Std.JSON.Grammar._IjKeyValue, Std.JSON.Utils.Views.Core._IView__, Std.JSON.Utils.Views.Core._IView__>>>();
      } else {
        Std.JSON.Utils.Cursors._ISplit<Std.JSON.Grammar._IStructural<Std.JSON.Utils.Views.Core._IView__>> _1_open = (_0_valueOrError0).Extract();
        Std.JSON.Utils.Cursors._ISplit<Dafny.ISequence<Std.JSON.Grammar._ISuffixed<Std.JSON.Grammar._IjKeyValue, Std.JSON.Utils.Views.Core._IView__>>> _2_elems = Std.JSON.Utils.Cursors.Split<Dafny.ISequence<Std.JSON.Grammar._ISuffixed<Std.JSON.Grammar._IjKeyValue, Std.JSON.Utils.Views.Core._IView__>>>.create(Dafny.Sequence<Std.JSON.Grammar._ISuffixed<Std.JSON.Grammar._IjKeyValue, Std.JSON.Utils.Views.Core._IView__>>.FromElements(), (_1_open).dtor_cs);
        if ((((_1_open).dtor_cs).Peek()) == ((short)(Std.JSON.ZeroCopy.Deserializer.ObjectParams.__default.CLOSE))) {
          Func<Std.JSON.Utils.Cursors._ICursor__, Std.Wrappers._IResult<Std.JSON.Utils.Cursors._ISplit<Std.JSON.Utils.Views.Core._IView__>, Std.JSON.Utils.Cursors._ICursorError<Std.JSON.Errors._IDeserializationError>>> _3_p = Std.JSON.ZeroCopy.Deserializer.Objects.__default.Close;
          Std.Wrappers._IResult<Std.JSON.Utils.Cursors._ISplit<Std.JSON.Grammar._IStructural<Std.JSON.Utils.Views.Core._IView__>>, Std.JSON.Utils.Cursors._ICursorError<Std.JSON.Errors._IDeserializationError>> _4_valueOrError1 = Std.JSON.ZeroCopy.Deserializer.Core.__default.Structural<Std.JSON.Utils.Views.Core._IView__>((_1_open).dtor_cs, _3_p);
          if ((_4_valueOrError1).IsFailure()) {
            return (_4_valueOrError1).PropagateFailure<Std.JSON.Utils.Cursors._ISplit<Std.JSON.Grammar._IBracketed<Std.JSON.Utils.Views.Core._IView__, Std.JSON.Grammar._IjKeyValue, Std.JSON.Utils.Views.Core._IView__, Std.JSON.Utils.Views.Core._IView__>>>();
          } else {
            Std.JSON.Utils.Cursors._ISplit<Std.JSON.Grammar._IStructural<Std.JSON.Utils.Views.Core._IView__>> _5_close = (_4_valueOrError1).Extract();
            return Std.Wrappers.Result<Std.JSON.Utils.Cursors._ISplit<Std.JSON.Grammar._IBracketed<Std.JSON.Utils.Views.Core._IView__, Std.JSON.Grammar._IjKeyValue, Std.JSON.Utils.Views.Core._IView__, Std.JSON.Utils.Views.Core._IView__>>, Std.JSON.Utils.Cursors._ICursorError<Std.JSON.Errors._IDeserializationError>>.create_Success(Std.JSON.ZeroCopy.Deserializer.Objects.__default.BracketedFromParts(_1_open, _2_elems, _5_close));
          }
        } else {
          return Std.JSON.ZeroCopy.Deserializer.Objects.__default.Elements(json, _1_open, _2_elems);
        }
      }
    }
    public static Func<Std.JSON.Utils.Views.Core._IView__, Dafny.ISequence<byte>> SpecViewOpen { get {
      return Std.JSON.ZeroCopy.Deserializer.Core.__default.SpecView;
    } }
    public static Func<Std.JSON.Utils.Views.Core._IView__, Dafny.ISequence<byte>> SpecViewClose { get {
      return Std.JSON.ZeroCopy.Deserializer.Core.__default.SpecView;
    } }
    public static byte SEPARATOR { get {
      return (byte)((new Dafny.Rune(',')).Value);
    } }
  }

  public partial class jopen {
    private static readonly Std.JSON.Utils.Views.Core._IView__ Witness = Std.JSON.Utils.Views.Core.View__.OfBytes(Dafny.Sequence<byte>.FromElements(Std.JSON.ZeroCopy.Deserializer.ObjectParams.__default.OPEN));
    public static Std.JSON.Utils.Views.Core._IView__ Default() {
      return Witness;
    }
    private static readonly Dafny.TypeDescriptor<Std.JSON.Utils.Views.Core._IView__> _TYPE = new Dafny.TypeDescriptor<Std.JSON.Utils.Views.Core._IView__>(Std.JSON.ZeroCopy.Deserializer.Objects.jopen.Default());
    public static Dafny.TypeDescriptor<Std.JSON.Utils.Views.Core._IView__> _TypeDescriptor() {
      return _TYPE;
    }
  }

  public partial class jclose {
    private static readonly Std.JSON.Utils.Views.Core._IView__ Witness = Std.JSON.Utils.Views.Core.View__.OfBytes(Dafny.Sequence<byte>.FromElements(Std.JSON.ZeroCopy.Deserializer.ObjectParams.__default.CLOSE));
    public static Std.JSON.Utils.Views.Core._IView__ Default() {
      return Witness;
    }
    private static readonly Dafny.TypeDescriptor<Std.JSON.Utils.Views.Core._IView__> _TYPE = new Dafny.TypeDescriptor<Std.JSON.Utils.Views.Core._IView__>(Std.JSON.ZeroCopy.Deserializer.Objects.jclose.Default());
    public static Dafny.TypeDescriptor<Std.JSON.Utils.Views.Core._IView__> _TypeDescriptor() {
      return _TYPE;
    }
  }
} // end of namespace Std.JSON.ZeroCopy.Deserializer.Objects
namespace Std.JSON.ZeroCopy.Deserializer.ArrayParams {

  public partial class __default {
    public static Dafny.ISequence<byte> ElementSpec(Std.JSON.Grammar._IValue t) {
      return Std.JSON.ConcreteSyntax.Spec.__default.Value(t);
    }
    public static Std.Wrappers._IResult<Std.JSON.Utils.Cursors._ISplit<Std.JSON.Grammar._IValue>, Std.JSON.Utils.Cursors._ICursorError<Std.JSON.Errors._IDeserializationError>> Element(Std.JSON.Utils.Cursors._ICursor__ cs, Func<Std.JSON.Utils.Cursors._ICursor__, Std.Wrappers._IResult<Std.JSON.Utils.Cursors._ISplit<Std.JSON.Grammar._IValue>, Std.JSON.Utils.Cursors._ICursorError<Std.JSON.Errors._IDeserializationError>>> json)
    {
      return Dafny.Helpers.Id<Func<Std.JSON.Utils.Cursors._ICursor__, Std.Wrappers._IResult<Std.JSON.Utils.Cursors._ISplit<Std.JSON.Grammar._IValue>, Std.JSON.Utils.Cursors._ICursorError<Std.JSON.Errors._IDeserializationError>>>>((json))(cs);
    }
    public static byte OPEN { get {
      return (byte)((new Dafny.Rune('[')).Value);
    } }
    public static byte CLOSE { get {
      return (byte)((new Dafny.Rune(']')).Value);
    } }
  }
} // end of namespace Std.JSON.ZeroCopy.Deserializer.ArrayParams
namespace Std.JSON.ZeroCopy.Deserializer.Arrays {

  public partial class __default {
    public static Std.Wrappers._IResult<Std.JSON.Utils.Cursors._ISplit<Std.JSON.Grammar._IBracketed<Std.JSON.Utils.Views.Core._IView__, Std.JSON.Grammar._IValue, Std.JSON.Utils.Views.Core._IView__, Std.JSON.Utils.Views.Core._IView__>>, Std.JSON.Utils.Cursors._ICursorError<Std.JSON.Errors._IDeserializationError>> Array(Std.JSON.Utils.Cursors._ICursor__ cs, Func<Std.JSON.Utils.Cursors._ICursor__, Std.Wrappers._IResult<Std.JSON.Utils.Cursors._ISplit<Std.JSON.Grammar._IValue>, Std.JSON.Utils.Cursors._ICursorError<Std.JSON.Errors._IDeserializationError>>> json)
    {
      Std.Wrappers._IResult<Std.JSON.Utils.Cursors._ISplit<Std.JSON.Grammar._IBracketed<Std.JSON.Utils.Views.Core._IView__, Std.JSON.Grammar._IValue, Std.JSON.Utils.Views.Core._IView__, Std.JSON.Utils.Views.Core._IView__>>, Std.JSON.Utils.Cursors._ICursorError<Std.JSON.Errors._IDeserializationError>> _0_valueOrError0 = Std.JSON.ZeroCopy.Deserializer.Arrays.__default.Bracketed(cs, json);
      if ((_0_valueOrError0).IsFailure()) {
        return (_0_valueOrError0).PropagateFailure<Std.JSON.Utils.Cursors._ISplit<Std.JSON.Grammar._IBracketed<Std.JSON.Utils.Views.Core._IView__, Std.JSON.Grammar._IValue, Std.JSON.Utils.Views.Core._IView__, Std.JSON.Utils.Views.Core._IView__>>>();
      } else {
        Std.JSON.Utils.Cursors._ISplit<Std.JSON.Grammar._IBracketed<Std.JSON.Utils.Views.Core._IView__, Std.JSON.Grammar._IValue, Std.JSON.Utils.Views.Core._IView__, Std.JSON.Utils.Views.Core._IView__>> _1_sp = (_0_valueOrError0).Extract();
        return Std.Wrappers.Result<Std.JSON.Utils.Cursors._ISplit<Std.JSON.Grammar._IBracketed<Std.JSON.Utils.Views.Core._IView__, Std.JSON.Grammar._IValue, Std.JSON.Utils.Views.Core._IView__, Std.JSON.Utils.Views.Core._IView__>>, Std.JSON.Utils.Cursors._ICursorError<Std.JSON.Errors._IDeserializationError>>.create_Success(_1_sp);
      }
    }
    public static Std.Wrappers._IResult<Std.JSON.Utils.Cursors._ISplit<Std.JSON.Utils.Views.Core._IView__>, Std.JSON.Utils.Cursors._ICursorError<Std.JSON.Errors._IDeserializationError>> Open(Std.JSON.Utils.Cursors._ICursor__ cs) {
      Std.Wrappers._IResult<Std.JSON.Utils.Cursors._ICursor__, Std.JSON.Utils.Cursors._ICursorError<Std.JSON.Errors._IDeserializationError>> _0_valueOrError0 = (cs).AssertByte<Std.JSON.Errors._IDeserializationError>(Std.JSON.ZeroCopy.Deserializer.ArrayParams.__default.OPEN);
      if ((_0_valueOrError0).IsFailure()) {
        return (_0_valueOrError0).PropagateFailure<Std.JSON.Utils.Cursors._ISplit<Std.JSON.Utils.Views.Core._IView__>>();
      } else {
        Std.JSON.Utils.Cursors._ICursor__ _1_cs = (_0_valueOrError0).Extract();
        return Std.Wrappers.Result<Std.JSON.Utils.Cursors._ISplit<Std.JSON.Utils.Views.Core._IView__>, Std.JSON.Utils.Cursors._ICursorError<Std.JSON.Errors._IDeserializationError>>.create_Success((_1_cs).Split());
      }
    }
    public static Std.Wrappers._IResult<Std.JSON.Utils.Cursors._ISplit<Std.JSON.Utils.Views.Core._IView__>, Std.JSON.Utils.Cursors._ICursorError<Std.JSON.Errors._IDeserializationError>> Close(Std.JSON.Utils.Cursors._ICursor__ cs) {
      Std.Wrappers._IResult<Std.JSON.Utils.Cursors._ICursor__, Std.JSON.Utils.Cursors._ICursorError<Std.JSON.Errors._IDeserializationError>> _0_valueOrError0 = (cs).AssertByte<Std.JSON.Errors._IDeserializationError>(Std.JSON.ZeroCopy.Deserializer.ArrayParams.__default.CLOSE);
      if ((_0_valueOrError0).IsFailure()) {
        return (_0_valueOrError0).PropagateFailure<Std.JSON.Utils.Cursors._ISplit<Std.JSON.Utils.Views.Core._IView__>>();
      } else {
        Std.JSON.Utils.Cursors._ICursor__ _1_cs = (_0_valueOrError0).Extract();
        return Std.Wrappers.Result<Std.JSON.Utils.Cursors._ISplit<Std.JSON.Utils.Views.Core._IView__>, Std.JSON.Utils.Cursors._ICursorError<Std.JSON.Errors._IDeserializationError>>.create_Success((_1_cs).Split());
      }
    }
    public static Std.JSON.Utils.Cursors._ISplit<Std.JSON.Grammar._IBracketed<Std.JSON.Utils.Views.Core._IView__, Std.JSON.Grammar._IValue, Std.JSON.Utils.Views.Core._IView__, Std.JSON.Utils.Views.Core._IView__>> BracketedFromParts(Std.JSON.Utils.Cursors._ISplit<Std.JSON.Grammar._IStructural<Std.JSON.Utils.Views.Core._IView__>> open, Std.JSON.Utils.Cursors._ISplit<Dafny.ISequence<Std.JSON.Grammar._ISuffixed<Std.JSON.Grammar._IValue, Std.JSON.Utils.Views.Core._IView__>>> elems, Std.JSON.Utils.Cursors._ISplit<Std.JSON.Grammar._IStructural<Std.JSON.Utils.Views.Core._IView__>> close)
    {
      Std.JSON.Utils.Cursors._ISplit<Std.JSON.Grammar._IBracketed<Std.JSON.Utils.Views.Core._IView__, Std.JSON.Grammar._IValue, Std.JSON.Utils.Views.Core._IView__, Std.JSON.Utils.Views.Core._IView__>> _0_sp = Std.JSON.Utils.Cursors.Split<Std.JSON.Grammar._IBracketed<Std.JSON.Utils.Views.Core._IView__, Std.JSON.Grammar._IValue, Std.JSON.Utils.Views.Core._IView__, Std.JSON.Utils.Views.Core._IView__>>.create(Std.JSON.Grammar.Bracketed<Std.JSON.Utils.Views.Core._IView__, Std.JSON.Grammar._IValue, Std.JSON.Utils.Views.Core._IView__, Std.JSON.Utils.Views.Core._IView__>.create((open).dtor_t, (elems).dtor_t, (close).dtor_t), (close).dtor_cs);
      return _0_sp;
    }
    public static Std.JSON.Utils.Cursors._ISplit<Dafny.ISequence<Std.JSON.Grammar._ISuffixed<Std.JSON.Grammar._IValue, Std.JSON.Utils.Views.Core._IView__>>> AppendWithSuffix(Std.JSON.Utils.Cursors._ISplit<Dafny.ISequence<Std.JSON.Grammar._ISuffixed<Std.JSON.Grammar._IValue, Std.JSON.Utils.Views.Core._IView__>>> elems, Std.JSON.Utils.Cursors._ISplit<Std.JSON.Grammar._IValue> elem, Std.JSON.Utils.Cursors._ISplit<Std.JSON.Grammar._IStructural<Std.JSON.Utils.Views.Core._IView__>> sep)
    {
      Std.JSON.Grammar._ISuffixed<Std.JSON.Grammar._IValue, Std.JSON.Utils.Views.Core._IView__> _0_suffixed = Std.JSON.Grammar.Suffixed<Std.JSON.Grammar._IValue, Std.JSON.Utils.Views.Core._IView__>.create((elem).dtor_t, Std.JSON.Grammar.Maybe<Std.JSON.Grammar._IStructural<Std.JSON.Utils.Views.Core._IView__>>.create_NonEmpty((sep).dtor_t));
      Std.JSON.Utils.Cursors._ISplit<Dafny.ISequence<Std.JSON.Grammar._ISuffixed<Std.JSON.Grammar._IValue, Std.JSON.Utils.Views.Core._IView__>>> _1_elems_k = Std.JSON.Utils.Cursors.Split<Dafny.ISequence<Std.JSON.Grammar._ISuffixed<Std.JSON.Grammar._IValue, Std.JSON.Utils.Views.Core._IView__>>>.create(Dafny.Sequence<Std.JSON.Grammar._ISuffixed<Std.JSON.Grammar._IValue, Std.JSON.Utils.Views.Core._IView__>>.Concat((elems).dtor_t, Dafny.Sequence<Std.JSON.Grammar._ISuffixed<Std.JSON.Grammar._IValue, Std.JSON.Utils.Views.Core._IView__>>.FromElements(_0_suffixed)), (sep).dtor_cs);
      return _1_elems_k;
    }
    public static Std.JSON.Utils.Cursors._ISplit<Dafny.ISequence<Std.JSON.Grammar._ISuffixed<Std.JSON.Grammar._IValue, Std.JSON.Utils.Views.Core._IView__>>> AppendLast(Std.JSON.Utils.Cursors._ISplit<Dafny.ISequence<Std.JSON.Grammar._ISuffixed<Std.JSON.Grammar._IValue, Std.JSON.Utils.Views.Core._IView__>>> elems, Std.JSON.Utils.Cursors._ISplit<Std.JSON.Grammar._IValue> elem, Std.JSON.Utils.Cursors._ISplit<Std.JSON.Grammar._IStructural<Std.JSON.Utils.Views.Core._IView__>> sep)
    {
      Std.JSON.Grammar._ISuffixed<Std.JSON.Grammar._IValue, Std.JSON.Utils.Views.Core._IView__> _0_suffixed = Std.JSON.Grammar.Suffixed<Std.JSON.Grammar._IValue, Std.JSON.Utils.Views.Core._IView__>.create((elem).dtor_t, Std.JSON.Grammar.Maybe<Std.JSON.Grammar._IStructural<Std.JSON.Utils.Views.Core._IView__>>.create_Empty());
      Std.JSON.Utils.Cursors._ISplit<Dafny.ISequence<Std.JSON.Grammar._ISuffixed<Std.JSON.Grammar._IValue, Std.JSON.Utils.Views.Core._IView__>>> _1_elems_k = Std.JSON.Utils.Cursors.Split<Dafny.ISequence<Std.JSON.Grammar._ISuffixed<Std.JSON.Grammar._IValue, Std.JSON.Utils.Views.Core._IView__>>>.create(Dafny.Sequence<Std.JSON.Grammar._ISuffixed<Std.JSON.Grammar._IValue, Std.JSON.Utils.Views.Core._IView__>>.Concat((elems).dtor_t, Dafny.Sequence<Std.JSON.Grammar._ISuffixed<Std.JSON.Grammar._IValue, Std.JSON.Utils.Views.Core._IView__>>.FromElements(_0_suffixed)), (elem).dtor_cs);
      return _1_elems_k;
    }
    public static Std.Wrappers._IResult<Std.JSON.Utils.Cursors._ISplit<Std.JSON.Grammar._IBracketed<Std.JSON.Utils.Views.Core._IView__, Std.JSON.Grammar._IValue, Std.JSON.Utils.Views.Core._IView__, Std.JSON.Utils.Views.Core._IView__>>, Std.JSON.Utils.Cursors._ICursorError<Std.JSON.Errors._IDeserializationError>> Elements(Func<Std.JSON.Utils.Cursors._ICursor__, Std.Wrappers._IResult<Std.JSON.Utils.Cursors._ISplit<Std.JSON.Grammar._IValue>, Std.JSON.Utils.Cursors._ICursorError<Std.JSON.Errors._IDeserializationError>>> json, Std.JSON.Utils.Cursors._ISplit<Std.JSON.Grammar._IStructural<Std.JSON.Utils.Views.Core._IView__>> open, Std.JSON.Utils.Cursors._ISplit<Dafny.ISequence<Std.JSON.Grammar._ISuffixed<Std.JSON.Grammar._IValue, Std.JSON.Utils.Views.Core._IView__>>> elems)
    {
    TAIL_CALL_START: ;
      Std.Wrappers._IResult<Std.JSON.Utils.Cursors._ISplit<Std.JSON.Grammar._IValue>, Std.JSON.Utils.Cursors._ICursorError<Std.JSON.Errors._IDeserializationError>> _0_valueOrError0 = Std.JSON.ZeroCopy.Deserializer.ArrayParams.__default.Element((elems).dtor_cs, json);
      if ((_0_valueOrError0).IsFailure()) {
        return (_0_valueOrError0).PropagateFailure<Std.JSON.Utils.Cursors._ISplit<Std.JSON.Grammar._IBracketed<Std.JSON.Utils.Views.Core._IView__, Std.JSON.Grammar._IValue, Std.JSON.Utils.Views.Core._IView__, Std.JSON.Utils.Views.Core._IView__>>>();
      } else {
        Std.JSON.Utils.Cursors._ISplit<Std.JSON.Grammar._IValue> _1_elem = (_0_valueOrError0).Extract();
        if (((_1_elem).dtor_cs).EOF_q) {
          return Std.Wrappers.Result<Std.JSON.Utils.Cursors._ISplit<Std.JSON.Grammar._IBracketed<Std.JSON.Utils.Views.Core._IView__, Std.JSON.Grammar._IValue, Std.JSON.Utils.Views.Core._IView__, Std.JSON.Utils.Views.Core._IView__>>, Std.JSON.Utils.Cursors._ICursorError<Std.JSON.Errors._IDeserializationError>>.create_Failure(Std.JSON.Utils.Cursors.CursorError<Std.JSON.Errors._IDeserializationError>.create_EOF());
        } else {
          Std.JSON.Utils.Cursors._ISplit<Std.JSON.Grammar._IStructural<Std.JSON.Utils.Views.Core._IView__>> _2_sep = Std.JSON.ZeroCopy.Deserializer.Core.__default.TryStructural((_1_elem).dtor_cs);
          short _3_s0 = (((_2_sep).dtor_t).dtor_t).Peek();
          if (((_3_s0) == ((short)(Std.JSON.ZeroCopy.Deserializer.Arrays.__default.SEPARATOR))) && (((((_2_sep).dtor_t).dtor_t).Length()) == (1U))) {
            Std.JSON.Utils.Cursors._ISplit<Std.JSON.Grammar._IStructural<Std.JSON.Utils.Views.Core._IView__>> _4_sep = _2_sep;
            Std.JSON.Utils.Cursors._ISplit<Dafny.ISequence<Std.JSON.Grammar._ISuffixed<Std.JSON.Grammar._IValue, Std.JSON.Utils.Views.Core._IView__>>> _5_elems = Std.JSON.ZeroCopy.Deserializer.Arrays.__default.AppendWithSuffix(elems, _1_elem, _4_sep);
            Func<Std.JSON.Utils.Cursors._ICursor__, Std.Wrappers._IResult<Std.JSON.Utils.Cursors._ISplit<Std.JSON.Grammar._IValue>, Std.JSON.Utils.Cursors._ICursorError<Std.JSON.Errors._IDeserializationError>>> _in0 = json;
            Std.JSON.Utils.Cursors._ISplit<Std.JSON.Grammar._IStructural<Std.JSON.Utils.Views.Core._IView__>> _in1 = open;
            Std.JSON.Utils.Cursors._ISplit<Dafny.ISequence<Std.JSON.Grammar._ISuffixed<Std.JSON.Grammar._IValue, Std.JSON.Utils.Views.Core._IView__>>> _in2 = _5_elems;
            json = _in0;
            open = _in1;
            elems = _in2;
            goto TAIL_CALL_START;
          } else if (((_3_s0) == ((short)(Std.JSON.ZeroCopy.Deserializer.ArrayParams.__default.CLOSE))) && (((((_2_sep).dtor_t).dtor_t).Length()) == (1U))) {
            Std.JSON.Utils.Cursors._ISplit<Std.JSON.Grammar._IStructural<Std.JSON.Utils.Views.Core._IView__>> _6_sep = _2_sep;
            Std.JSON.Utils.Cursors._ISplit<Dafny.ISequence<Std.JSON.Grammar._ISuffixed<Std.JSON.Grammar._IValue, Std.JSON.Utils.Views.Core._IView__>>> _7_elems_k = Std.JSON.ZeroCopy.Deserializer.Arrays.__default.AppendLast(elems, _1_elem, _6_sep);
            Std.JSON.Utils.Cursors._ISplit<Std.JSON.Grammar._IBracketed<Std.JSON.Utils.Views.Core._IView__, Std.JSON.Grammar._IValue, Std.JSON.Utils.Views.Core._IView__, Std.JSON.Utils.Views.Core._IView__>> _8_bracketed = Std.JSON.ZeroCopy.Deserializer.Arrays.__default.BracketedFromParts(open, _7_elems_k, _6_sep);
            return Std.Wrappers.Result<Std.JSON.Utils.Cursors._ISplit<Std.JSON.Grammar._IBracketed<Std.JSON.Utils.Views.Core._IView__, Std.JSON.Grammar._IValue, Std.JSON.Utils.Views.Core._IView__, Std.JSON.Utils.Views.Core._IView__>>, Std.JSON.Utils.Cursors._ICursorError<Std.JSON.Errors._IDeserializationError>>.create_Success(_8_bracketed);
          } else {
            byte _9_separator = Std.JSON.ZeroCopy.Deserializer.Arrays.__default.SEPARATOR;
            Std.Wrappers._IResult<Std.JSON.Utils.Cursors._ISplit<Std.JSON.Grammar._IBracketed<Std.JSON.Utils.Views.Core._IView__, Std.JSON.Grammar._IValue, Std.JSON.Utils.Views.Core._IView__, Std.JSON.Utils.Views.Core._IView__>>, Std.JSON.Utils.Cursors._ICursorError<Std.JSON.Errors._IDeserializationError>> _10_pr = Std.Wrappers.Result<Std.JSON.Utils.Cursors._ISplit<Std.JSON.Grammar._IBracketed<Std.JSON.Utils.Views.Core._IView__, Std.JSON.Grammar._IValue, Std.JSON.Utils.Views.Core._IView__, Std.JSON.Utils.Views.Core._IView__>>, Std.JSON.Utils.Cursors._ICursorError<Std.JSON.Errors._IDeserializationError>>.create_Failure(Std.JSON.Utils.Cursors.CursorError<Std.JSON.Errors._IDeserializationError>.create_ExpectingAnyByte(Dafny.Sequence<byte>.FromElements(Std.JSON.ZeroCopy.Deserializer.ArrayParams.__default.CLOSE, _9_separator), _3_s0));
            return _10_pr;
          }
        }
      }
    }
    public static Std.Wrappers._IResult<Std.JSON.Utils.Cursors._ISplit<Std.JSON.Grammar._IBracketed<Std.JSON.Utils.Views.Core._IView__, Std.JSON.Grammar._IValue, Std.JSON.Utils.Views.Core._IView__, Std.JSON.Utils.Views.Core._IView__>>, Std.JSON.Utils.Cursors._ICursorError<Std.JSON.Errors._IDeserializationError>> Bracketed(Std.JSON.Utils.Cursors._ICursor__ cs, Func<Std.JSON.Utils.Cursors._ICursor__, Std.Wrappers._IResult<Std.JSON.Utils.Cursors._ISplit<Std.JSON.Grammar._IValue>, Std.JSON.Utils.Cursors._ICursorError<Std.JSON.Errors._IDeserializationError>>> json)
    {
      Std.Wrappers._IResult<Std.JSON.Utils.Cursors._ISplit<Std.JSON.Grammar._IStructural<Std.JSON.Utils.Views.Core._IView__>>, Std.JSON.Utils.Cursors._ICursorError<Std.JSON.Errors._IDeserializationError>> _0_valueOrError0 = Std.JSON.ZeroCopy.Deserializer.Core.__default.Structural<Std.JSON.Utils.Views.Core._IView__>(cs, Std.JSON.ZeroCopy.Deserializer.Arrays.__default.Open);
      if ((_0_valueOrError0).IsFailure()) {
        return (_0_valueOrError0).PropagateFailure<Std.JSON.Utils.Cursors._ISplit<Std.JSON.Grammar._IBracketed<Std.JSON.Utils.Views.Core._IView__, Std.JSON.Grammar._IValue, Std.JSON.Utils.Views.Core._IView__, Std.JSON.Utils.Views.Core._IView__>>>();
      } else {
        Std.JSON.Utils.Cursors._ISplit<Std.JSON.Grammar._IStructural<Std.JSON.Utils.Views.Core._IView__>> _1_open = (_0_valueOrError0).Extract();
        Std.JSON.Utils.Cursors._ISplit<Dafny.ISequence<Std.JSON.Grammar._ISuffixed<Std.JSON.Grammar._IValue, Std.JSON.Utils.Views.Core._IView__>>> _2_elems = Std.JSON.Utils.Cursors.Split<Dafny.ISequence<Std.JSON.Grammar._ISuffixed<Std.JSON.Grammar._IValue, Std.JSON.Utils.Views.Core._IView__>>>.create(Dafny.Sequence<Std.JSON.Grammar._ISuffixed<Std.JSON.Grammar._IValue, Std.JSON.Utils.Views.Core._IView__>>.FromElements(), (_1_open).dtor_cs);
        if ((((_1_open).dtor_cs).Peek()) == ((short)(Std.JSON.ZeroCopy.Deserializer.ArrayParams.__default.CLOSE))) {
          Func<Std.JSON.Utils.Cursors._ICursor__, Std.Wrappers._IResult<Std.JSON.Utils.Cursors._ISplit<Std.JSON.Utils.Views.Core._IView__>, Std.JSON.Utils.Cursors._ICursorError<Std.JSON.Errors._IDeserializationError>>> _3_p = Std.JSON.ZeroCopy.Deserializer.Arrays.__default.Close;
          Std.Wrappers._IResult<Std.JSON.Utils.Cursors._ISplit<Std.JSON.Grammar._IStructural<Std.JSON.Utils.Views.Core._IView__>>, Std.JSON.Utils.Cursors._ICursorError<Std.JSON.Errors._IDeserializationError>> _4_valueOrError1 = Std.JSON.ZeroCopy.Deserializer.Core.__default.Structural<Std.JSON.Utils.Views.Core._IView__>((_1_open).dtor_cs, _3_p);
          if ((_4_valueOrError1).IsFailure()) {
            return (_4_valueOrError1).PropagateFailure<Std.JSON.Utils.Cursors._ISplit<Std.JSON.Grammar._IBracketed<Std.JSON.Utils.Views.Core._IView__, Std.JSON.Grammar._IValue, Std.JSON.Utils.Views.Core._IView__, Std.JSON.Utils.Views.Core._IView__>>>();
          } else {
            Std.JSON.Utils.Cursors._ISplit<Std.JSON.Grammar._IStructural<Std.JSON.Utils.Views.Core._IView__>> _5_close = (_4_valueOrError1).Extract();
            return Std.Wrappers.Result<Std.JSON.Utils.Cursors._ISplit<Std.JSON.Grammar._IBracketed<Std.JSON.Utils.Views.Core._IView__, Std.JSON.Grammar._IValue, Std.JSON.Utils.Views.Core._IView__, Std.JSON.Utils.Views.Core._IView__>>, Std.JSON.Utils.Cursors._ICursorError<Std.JSON.Errors._IDeserializationError>>.create_Success(Std.JSON.ZeroCopy.Deserializer.Arrays.__default.BracketedFromParts(_1_open, _2_elems, _5_close));
          }
        } else {
          return Std.JSON.ZeroCopy.Deserializer.Arrays.__default.Elements(json, _1_open, _2_elems);
        }
      }
    }
    public static Func<Std.JSON.Utils.Views.Core._IView__, Dafny.ISequence<byte>> SpecViewOpen { get {
      return Std.JSON.ZeroCopy.Deserializer.Core.__default.SpecView;
    } }
    public static Func<Std.JSON.Utils.Views.Core._IView__, Dafny.ISequence<byte>> SpecViewClose { get {
      return Std.JSON.ZeroCopy.Deserializer.Core.__default.SpecView;
    } }
    public static byte SEPARATOR { get {
      return (byte)((new Dafny.Rune(',')).Value);
    } }
  }

  public partial class jopen {
    private static readonly Std.JSON.Utils.Views.Core._IView__ Witness = Std.JSON.Utils.Views.Core.View__.OfBytes(Dafny.Sequence<byte>.FromElements(Std.JSON.ZeroCopy.Deserializer.ArrayParams.__default.OPEN));
    public static Std.JSON.Utils.Views.Core._IView__ Default() {
      return Witness;
    }
    private static readonly Dafny.TypeDescriptor<Std.JSON.Utils.Views.Core._IView__> _TYPE = new Dafny.TypeDescriptor<Std.JSON.Utils.Views.Core._IView__>(Std.JSON.ZeroCopy.Deserializer.Arrays.jopen.Default());
    public static Dafny.TypeDescriptor<Std.JSON.Utils.Views.Core._IView__> _TypeDescriptor() {
      return _TYPE;
    }
  }

  public partial class jclose {
    private static readonly Std.JSON.Utils.Views.Core._IView__ Witness = Std.JSON.Utils.Views.Core.View__.OfBytes(Dafny.Sequence<byte>.FromElements(Std.JSON.ZeroCopy.Deserializer.ArrayParams.__default.CLOSE));
    public static Std.JSON.Utils.Views.Core._IView__ Default() {
      return Witness;
    }
    private static readonly Dafny.TypeDescriptor<Std.JSON.Utils.Views.Core._IView__> _TYPE = new Dafny.TypeDescriptor<Std.JSON.Utils.Views.Core._IView__>(Std.JSON.ZeroCopy.Deserializer.Arrays.jclose.Default());
    public static Dafny.TypeDescriptor<Std.JSON.Utils.Views.Core._IView__> _TypeDescriptor() {
      return _TYPE;
    }
  }
} // end of namespace Std.JSON.ZeroCopy.Deserializer.Arrays
namespace Std.JSON.ZeroCopy.Deserializer.Constants {

  public partial class __default {
    public static Std.Wrappers._IResult<Std.JSON.Utils.Cursors._ISplit<Std.JSON.Utils.Views.Core._IView__>, Std.JSON.Utils.Cursors._ICursorError<Std.JSON.Errors._IDeserializationError>> Constant(Std.JSON.Utils.Cursors._ICursor__ cs, Dafny.ISequence<byte> expected)
    {
      Std.Wrappers._IResult<Std.JSON.Utils.Cursors._ICursor__, Std.JSON.Utils.Cursors._ICursorError<Std.JSON.Errors._IDeserializationError>> _0_valueOrError0 = (cs).AssertBytes<Std.JSON.Errors._IDeserializationError>(expected, 0U);
      if ((_0_valueOrError0).IsFailure()) {
        return (_0_valueOrError0).PropagateFailure<Std.JSON.Utils.Cursors._ISplit<Std.JSON.Utils.Views.Core._IView__>>();
      } else {
        Std.JSON.Utils.Cursors._ICursor__ _1_cs = (_0_valueOrError0).Extract();
        return Std.Wrappers.Result<Std.JSON.Utils.Cursors._ISplit<Std.JSON.Utils.Views.Core._IView__>, Std.JSON.Utils.Cursors._ICursorError<Std.JSON.Errors._IDeserializationError>>.create_Success((_1_cs).Split());
      }
    }
  }
} // end of namespace Std.JSON.ZeroCopy.Deserializer.Constants
namespace Std.JSON.ZeroCopy.Deserializer.Values {

  public partial class __default {
    public static Std.Wrappers._IResult<Std.JSON.Utils.Cursors._ISplit<Std.JSON.Grammar._IValue>, Std.JSON.Utils.Cursors._ICursorError<Std.JSON.Errors._IDeserializationError>> Value(Std.JSON.Utils.Cursors._ICursor__ cs) {
      short _0_c = (cs).Peek();
      if ((_0_c) == ((short)((new Dafny.Rune('{')).Value))) {
        Std.Wrappers._IResult<Std.JSON.Utils.Cursors._ISplit<Std.JSON.Grammar._IBracketed<Std.JSON.Utils.Views.Core._IView__, Std.JSON.Grammar._IjKeyValue, Std.JSON.Utils.Views.Core._IView__, Std.JSON.Utils.Views.Core._IView__>>, Std.JSON.Utils.Cursors._ICursorError<Std.JSON.Errors._IDeserializationError>> _1_valueOrError0 = Std.JSON.ZeroCopy.Deserializer.Objects.__default.Object(cs, Std.JSON.ZeroCopy.Deserializer.Values.__default.ValueParser(cs));
        if ((_1_valueOrError0).IsFailure()) {
          return (_1_valueOrError0).PropagateFailure<Std.JSON.Utils.Cursors._ISplit<Std.JSON.Grammar._IValue>>();
        } else {
          Std.JSON.Utils.Cursors._ISplit<Std.JSON.Grammar._IBracketed<Std.JSON.Utils.Views.Core._IView__, Std.JSON.Grammar._IjKeyValue, Std.JSON.Utils.Views.Core._IView__, Std.JSON.Utils.Views.Core._IView__>> _let_tmp_rhs0 = (_1_valueOrError0).Extract();
          Std.JSON.Grammar._IBracketed<Std.JSON.Utils.Views.Core._IView__, Std.JSON.Grammar._IjKeyValue, Std.JSON.Utils.Views.Core._IView__, Std.JSON.Utils.Views.Core._IView__> _2_obj = _let_tmp_rhs0.dtor_t;
          Std.JSON.Utils.Cursors._ICursor__ _3_cs_k = _let_tmp_rhs0.dtor_cs;
          Std.JSON.Grammar._IValue _4_v = Std.JSON.Grammar.Value.create_Object(_2_obj);
          Std.JSON.Utils.Cursors._ISplit<Std.JSON.Grammar._IValue> _5_sp = Std.JSON.Utils.Cursors.Split<Std.JSON.Grammar._IValue>.create(_4_v, _3_cs_k);
          return Std.Wrappers.Result<Std.JSON.Utils.Cursors._ISplit<Std.JSON.Grammar._IValue>, Std.JSON.Utils.Cursors._ICursorError<Std.JSON.Errors._IDeserializationError>>.create_Success(_5_sp);
        }
      } else if ((_0_c) == ((short)((new Dafny.Rune('[')).Value))) {
        Std.Wrappers._IResult<Std.JSON.Utils.Cursors._ISplit<Std.JSON.Grammar._IBracketed<Std.JSON.Utils.Views.Core._IView__, Std.JSON.Grammar._IValue, Std.JSON.Utils.Views.Core._IView__, Std.JSON.Utils.Views.Core._IView__>>, Std.JSON.Utils.Cursors._ICursorError<Std.JSON.Errors._IDeserializationError>> _6_valueOrError1 = Std.JSON.ZeroCopy.Deserializer.Arrays.__default.Array(cs, Std.JSON.ZeroCopy.Deserializer.Values.__default.ValueParser(cs));
        if ((_6_valueOrError1).IsFailure()) {
          return (_6_valueOrError1).PropagateFailure<Std.JSON.Utils.Cursors._ISplit<Std.JSON.Grammar._IValue>>();
        } else {
          Std.JSON.Utils.Cursors._ISplit<Std.JSON.Grammar._IBracketed<Std.JSON.Utils.Views.Core._IView__, Std.JSON.Grammar._IValue, Std.JSON.Utils.Views.Core._IView__, Std.JSON.Utils.Views.Core._IView__>> _let_tmp_rhs1 = (_6_valueOrError1).Extract();
          Std.JSON.Grammar._IBracketed<Std.JSON.Utils.Views.Core._IView__, Std.JSON.Grammar._IValue, Std.JSON.Utils.Views.Core._IView__, Std.JSON.Utils.Views.Core._IView__> _7_arr = _let_tmp_rhs1.dtor_t;
          Std.JSON.Utils.Cursors._ICursor__ _8_cs_k = _let_tmp_rhs1.dtor_cs;
          Std.JSON.Grammar._IValue _9_v = Std.JSON.Grammar.Value.create_Array(_7_arr);
          Std.JSON.Utils.Cursors._ISplit<Std.JSON.Grammar._IValue> _10_sp = Std.JSON.Utils.Cursors.Split<Std.JSON.Grammar._IValue>.create(_9_v, _8_cs_k);
          return Std.Wrappers.Result<Std.JSON.Utils.Cursors._ISplit<Std.JSON.Grammar._IValue>, Std.JSON.Utils.Cursors._ICursorError<Std.JSON.Errors._IDeserializationError>>.create_Success(_10_sp);
        }
      } else if ((_0_c) == ((short)((new Dafny.Rune('\"')).Value))) {
        Std.Wrappers._IResult<Std.JSON.Utils.Cursors._ISplit<Std.JSON.Grammar._Ijstring>, Std.JSON.Utils.Cursors._ICursorError<Std.JSON.Errors._IDeserializationError>> _11_valueOrError2 = Std.JSON.ZeroCopy.Deserializer.Strings.__default.String(cs);
        if ((_11_valueOrError2).IsFailure()) {
          return (_11_valueOrError2).PropagateFailure<Std.JSON.Utils.Cursors._ISplit<Std.JSON.Grammar._IValue>>();
        } else {
          Std.JSON.Utils.Cursors._ISplit<Std.JSON.Grammar._Ijstring> _let_tmp_rhs2 = (_11_valueOrError2).Extract();
          Std.JSON.Grammar._Ijstring _12_str = _let_tmp_rhs2.dtor_t;
          Std.JSON.Utils.Cursors._ICursor__ _13_cs_k = _let_tmp_rhs2.dtor_cs;
          return Std.Wrappers.Result<Std.JSON.Utils.Cursors._ISplit<Std.JSON.Grammar._IValue>, Std.JSON.Utils.Cursors._ICursorError<Std.JSON.Errors._IDeserializationError>>.create_Success(Std.JSON.Utils.Cursors.Split<Std.JSON.Grammar._IValue>.create(Std.JSON.Grammar.Value.create_String(_12_str), _13_cs_k));
        }
      } else if ((_0_c) == ((short)((new Dafny.Rune('t')).Value))) {
        Std.Wrappers._IResult<Std.JSON.Utils.Cursors._ISplit<Std.JSON.Utils.Views.Core._IView__>, Std.JSON.Utils.Cursors._ICursorError<Std.JSON.Errors._IDeserializationError>> _14_valueOrError3 = Std.JSON.ZeroCopy.Deserializer.Constants.__default.Constant(cs, Std.JSON.Grammar.__default.TRUE);
        if ((_14_valueOrError3).IsFailure()) {
          return (_14_valueOrError3).PropagateFailure<Std.JSON.Utils.Cursors._ISplit<Std.JSON.Grammar._IValue>>();
        } else {
          Std.JSON.Utils.Cursors._ISplit<Std.JSON.Utils.Views.Core._IView__> _let_tmp_rhs3 = (_14_valueOrError3).Extract();
          Std.JSON.Utils.Views.Core._IView__ _15_cst = _let_tmp_rhs3.dtor_t;
          Std.JSON.Utils.Cursors._ICursor__ _16_cs_k = _let_tmp_rhs3.dtor_cs;
          return Std.Wrappers.Result<Std.JSON.Utils.Cursors._ISplit<Std.JSON.Grammar._IValue>, Std.JSON.Utils.Cursors._ICursorError<Std.JSON.Errors._IDeserializationError>>.create_Success(Std.JSON.Utils.Cursors.Split<Std.JSON.Grammar._IValue>.create(Std.JSON.Grammar.Value.create_Bool(_15_cst), _16_cs_k));
        }
      } else if ((_0_c) == ((short)((new Dafny.Rune('f')).Value))) {
        Std.Wrappers._IResult<Std.JSON.Utils.Cursors._ISplit<Std.JSON.Utils.Views.Core._IView__>, Std.JSON.Utils.Cursors._ICursorError<Std.JSON.Errors._IDeserializationError>> _17_valueOrError4 = Std.JSON.ZeroCopy.Deserializer.Constants.__default.Constant(cs, Std.JSON.Grammar.__default.FALSE);
        if ((_17_valueOrError4).IsFailure()) {
          return (_17_valueOrError4).PropagateFailure<Std.JSON.Utils.Cursors._ISplit<Std.JSON.Grammar._IValue>>();
        } else {
          Std.JSON.Utils.Cursors._ISplit<Std.JSON.Utils.Views.Core._IView__> _let_tmp_rhs4 = (_17_valueOrError4).Extract();
          Std.JSON.Utils.Views.Core._IView__ _18_cst = _let_tmp_rhs4.dtor_t;
          Std.JSON.Utils.Cursors._ICursor__ _19_cs_k = _let_tmp_rhs4.dtor_cs;
          return Std.Wrappers.Result<Std.JSON.Utils.Cursors._ISplit<Std.JSON.Grammar._IValue>, Std.JSON.Utils.Cursors._ICursorError<Std.JSON.Errors._IDeserializationError>>.create_Success(Std.JSON.Utils.Cursors.Split<Std.JSON.Grammar._IValue>.create(Std.JSON.Grammar.Value.create_Bool(_18_cst), _19_cs_k));
        }
      } else if ((_0_c) == ((short)((new Dafny.Rune('n')).Value))) {
        Std.Wrappers._IResult<Std.JSON.Utils.Cursors._ISplit<Std.JSON.Utils.Views.Core._IView__>, Std.JSON.Utils.Cursors._ICursorError<Std.JSON.Errors._IDeserializationError>> _20_valueOrError5 = Std.JSON.ZeroCopy.Deserializer.Constants.__default.Constant(cs, Std.JSON.Grammar.__default.NULL);
        if ((_20_valueOrError5).IsFailure()) {
          return (_20_valueOrError5).PropagateFailure<Std.JSON.Utils.Cursors._ISplit<Std.JSON.Grammar._IValue>>();
        } else {
          Std.JSON.Utils.Cursors._ISplit<Std.JSON.Utils.Views.Core._IView__> _let_tmp_rhs5 = (_20_valueOrError5).Extract();
          Std.JSON.Utils.Views.Core._IView__ _21_cst = _let_tmp_rhs5.dtor_t;
          Std.JSON.Utils.Cursors._ICursor__ _22_cs_k = _let_tmp_rhs5.dtor_cs;
          return Std.Wrappers.Result<Std.JSON.Utils.Cursors._ISplit<Std.JSON.Grammar._IValue>, Std.JSON.Utils.Cursors._ICursorError<Std.JSON.Errors._IDeserializationError>>.create_Success(Std.JSON.Utils.Cursors.Split<Std.JSON.Grammar._IValue>.create(Std.JSON.Grammar.Value.create_Null(_21_cst), _22_cs_k));
        }
      } else {
        Std.Wrappers._IResult<Std.JSON.Utils.Cursors._ISplit<Std.JSON.Grammar._Ijnumber>, Std.JSON.Utils.Cursors._ICursorError<Std.JSON.Errors._IDeserializationError>> _23_valueOrError6 = Std.JSON.ZeroCopy.Deserializer.Numbers.__default.Number(cs);
        if ((_23_valueOrError6).IsFailure()) {
          return (_23_valueOrError6).PropagateFailure<Std.JSON.Utils.Cursors._ISplit<Std.JSON.Grammar._IValue>>();
        } else {
          Std.JSON.Utils.Cursors._ISplit<Std.JSON.Grammar._Ijnumber> _let_tmp_rhs6 = (_23_valueOrError6).Extract();
          Std.JSON.Grammar._Ijnumber _24_num = _let_tmp_rhs6.dtor_t;
          Std.JSON.Utils.Cursors._ICursor__ _25_cs_k = _let_tmp_rhs6.dtor_cs;
          Std.JSON.Grammar._IValue _26_v = Std.JSON.Grammar.Value.create_Number(_24_num);
          Std.JSON.Utils.Cursors._ISplit<Std.JSON.Grammar._IValue> _27_sp = Std.JSON.Utils.Cursors.Split<Std.JSON.Grammar._IValue>.create(_26_v, _25_cs_k);
          return Std.Wrappers.Result<Std.JSON.Utils.Cursors._ISplit<Std.JSON.Grammar._IValue>, Std.JSON.Utils.Cursors._ICursorError<Std.JSON.Errors._IDeserializationError>>.create_Success(_27_sp);
        }
      }
    }
    public static Func<Std.JSON.Utils.Cursors._ICursor__, Std.Wrappers._IResult<Std.JSON.Utils.Cursors._ISplit<Std.JSON.Grammar._IValue>, Std.JSON.Utils.Cursors._ICursorError<Std.JSON.Errors._IDeserializationError>>> ValueParser(Std.JSON.Utils.Cursors._ICursor__ cs) {
      Func<Std.JSON.Utils.Cursors._ICursor__, bool> _0_pre = Dafny.Helpers.Id<Func<Std.JSON.Utils.Cursors._ICursor__, Func<Std.JSON.Utils.Cursors._ICursor__, bool>>>((_1_cs) => ((System.Func<Std.JSON.Utils.Cursors._ICursor__, bool>)((_2_ps_k) => {
        return ((_2_ps_k).Length()) < ((_1_cs).Length());
      })))(cs);
      Func<Std.JSON.Utils.Cursors._ICursor__, Std.Wrappers._IResult<Std.JSON.Utils.Cursors._ISplit<Std.JSON.Grammar._IValue>, Std.JSON.Utils.Cursors._ICursorError<Std.JSON.Errors._IDeserializationError>>> _3_fn = Dafny.Helpers.Id<Func<Func<Std.JSON.Utils.Cursors._ICursor__, bool>, Func<Std.JSON.Utils.Cursors._ICursor__, Std.Wrappers._IResult<Std.JSON.Utils.Cursors._ISplit<Std.JSON.Grammar._IValue>, Std.JSON.Utils.Cursors._ICursorError<Std.JSON.Errors._IDeserializationError>>>>>((_4_pre) => ((System.Func<Std.JSON.Utils.Cursors._ICursor__, Std.Wrappers._IResult<Std.JSON.Utils.Cursors._ISplit<Std.JSON.Grammar._IValue>, Std.JSON.Utils.Cursors._ICursorError<Std.JSON.Errors._IDeserializationError>>>)((_5_ps_k) => {
        return Std.JSON.ZeroCopy.Deserializer.Values.__default.Value(_5_ps_k);
      })))(_0_pre);
      return _3_fn;
    }
  }
} // end of namespace Std.JSON.ZeroCopy.Deserializer.Values
namespace Std.JSON.ZeroCopy.Deserializer.API {

  public partial class __default {
    public static Std.JSON.Errors._IDeserializationError LiftCursorError(Std.JSON.Utils.Cursors._ICursorError<Std.JSON.Errors._IDeserializationError> err) {
      Std.JSON.Utils.Cursors._ICursorError<Std.JSON.Errors._IDeserializationError> _source0 = err;
      {
        if (_source0.is_EOF) {
          return Std.JSON.Errors.DeserializationError.create_ReachedEOF();
        }
      }
      {
        if (_source0.is_ExpectingByte) {
          byte _0_expected = _source0.dtor_expected;
          short _1_b = _source0.dtor_b;
          return Std.JSON.Errors.DeserializationError.create_ExpectingByte(_0_expected, _1_b);
        }
      }
      {
        if (_source0.is_ExpectingAnyByte) {
          Dafny.ISequence<byte> _2_expected__sq = _source0.dtor_expected__sq;
          short _3_b = _source0.dtor_b;
          return Std.JSON.Errors.DeserializationError.create_ExpectingAnyByte(_2_expected__sq, _3_b);
        }
      }
      {
        Std.JSON.Errors._IDeserializationError _4_err = _source0.dtor_err;
        return _4_err;
      }
    }
    public static Std.Wrappers._IResult<Std.JSON.Utils.Cursors._ISplit<Std.JSON.Grammar._IStructural<Std.JSON.Grammar._IValue>>, Std.JSON.Errors._IDeserializationError> JSON(Std.JSON.Utils.Cursors._ICursor__ cs) {
      return Std.Wrappers.Result<Std.JSON.Utils.Cursors._ISplit<Std.JSON.Grammar._IStructural<Std.JSON.Grammar._IValue>>, Std.JSON.Utils.Cursors._ICursorError<Std.JSON.Errors._IDeserializationError>>.MapFailure<Std.JSON.Errors._IDeserializationError>(Std.JSON.ZeroCopy.Deserializer.Core.__default.Structural<Std.JSON.Grammar._IValue>(cs, Std.JSON.ZeroCopy.Deserializer.Values.__default.Value), Std.JSON.ZeroCopy.Deserializer.API.__default.LiftCursorError);
    }
    public static Std.Wrappers._IResult<Std.JSON.Grammar._IStructural<Std.JSON.Grammar._IValue>, Std.JSON.Errors._IDeserializationError> Text(Std.JSON.Utils.Views.Core._IView__ v) {
      Std.Wrappers._IResult<Std.JSON.Utils.Cursors._ISplit<Std.JSON.Grammar._IStructural<Std.JSON.Grammar._IValue>>, Std.JSON.Errors._IDeserializationError> _0_valueOrError0 = Std.JSON.ZeroCopy.Deserializer.API.__default.JSON(Std.JSON.Utils.Cursors.Cursor__.OfView(v));
      if ((_0_valueOrError0).IsFailure()) {
        return (_0_valueOrError0).PropagateFailure<Std.JSON.Grammar._IStructural<Std.JSON.Grammar._IValue>>();
      } else {
        Std.JSON.Utils.Cursors._ISplit<Std.JSON.Grammar._IStructural<Std.JSON.Grammar._IValue>> _let_tmp_rhs0 = (_0_valueOrError0).Extract();
        Std.JSON.Grammar._IStructural<Std.JSON.Grammar._IValue> _1_text = _let_tmp_rhs0.dtor_t;
        Std.JSON.Utils.Cursors._ICursor__ _2_cs = _let_tmp_rhs0.dtor_cs;
        Std.Wrappers._IOutcomeResult<Std.JSON.Errors._IDeserializationError> _3_valueOrError1 = Std.Wrappers.__default.Need<Std.JSON.Errors._IDeserializationError>((_2_cs).EOF_q, Std.JSON.Errors.DeserializationError.create_ExpectingEOF());
        if ((_3_valueOrError1).IsFailure()) {
          return (_3_valueOrError1).PropagateFailure<Std.JSON.Grammar._IStructural<Std.JSON.Grammar._IValue>>();
        } else {
          return Std.Wrappers.Result<Std.JSON.Grammar._IStructural<Std.JSON.Grammar._IValue>, Std.JSON.Errors._IDeserializationError>.create_Success(_1_text);
        }
      }
    }
    public static Std.Wrappers._IResult<Std.JSON.Grammar._IStructural<Std.JSON.Grammar._IValue>, Std.JSON.Errors._IDeserializationError> OfBytes(Dafny.ISequence<byte> bs) {
      Std.Wrappers._IOutcomeResult<Std.JSON.Errors._IDeserializationError> _0_valueOrError0 = Std.Wrappers.__default.Need<Std.JSON.Errors._IDeserializationError>((new BigInteger((bs).Count)) < (Std.BoundedInts.__default.TWO__TO__THE__32), Std.JSON.Errors.DeserializationError.create_IntOverflow());
      if ((_0_valueOrError0).IsFailure()) {
        return (_0_valueOrError0).PropagateFailure<Std.JSON.Grammar._IStructural<Std.JSON.Grammar._IValue>>();
      } else {
        return Std.JSON.ZeroCopy.Deserializer.API.__default.Text(Std.JSON.Utils.Views.Core.View__.OfBytes(bs));
      }
    }
  }
} // end of namespace Std.JSON.ZeroCopy.Deserializer.API
namespace Std.JSON.ZeroCopy.Deserializer {

} // end of namespace Std.JSON.ZeroCopy.Deserializer
namespace Std.JSON.ZeroCopy.API {

  public partial class __default {
    public static Std.Wrappers._IResult<Dafny.ISequence<byte>, Std.JSON.Errors._ISerializationError> Serialize(Std.JSON.Grammar._IStructural<Std.JSON.Grammar._IValue> js) {
      return Std.Wrappers.Result<Dafny.ISequence<byte>, Std.JSON.Errors._ISerializationError>.create_Success((Std.JSON.ZeroCopy.Serializer.__default.Text(js)).Bytes());
    }
    public static Std.Wrappers._IResult<byte[], Std.JSON.Errors._ISerializationError> SerializeAlloc(Std.JSON.Grammar._IStructural<Std.JSON.Grammar._IValue> js)
    {
      Std.Wrappers._IResult<byte[], Std.JSON.Errors._ISerializationError> bs = Std.Wrappers.Result<byte[], Std.JSON.Errors._ISerializationError>.Default(new byte[0]);
      Std.Wrappers._IResult<byte[], Std.JSON.Errors._ISerializationError> _out0;
      _out0 = Std.JSON.ZeroCopy.Serializer.__default.Serialize(js);
      bs = _out0;
      return bs;
    }
    public static Std.Wrappers._IResult<uint, Std.JSON.Errors._ISerializationError> SerializeInto(Std.JSON.Grammar._IStructural<Std.JSON.Grammar._IValue> js, byte[] bs)
    {
      Std.Wrappers._IResult<uint, Std.JSON.Errors._ISerializationError> len = Std.Wrappers.Result<uint, Std.JSON.Errors._ISerializationError>.Default(0);
      Std.Wrappers._IResult<uint, Std.JSON.Errors._ISerializationError> _out0;
      _out0 = Std.JSON.ZeroCopy.Serializer.__default.SerializeTo(js, bs);
      len = _out0;
      return len;
    }
    public static Std.Wrappers._IResult<Std.JSON.Grammar._IStructural<Std.JSON.Grammar._IValue>, Std.JSON.Errors._IDeserializationError> Deserialize(Dafny.ISequence<byte> bs) {
      return Std.JSON.ZeroCopy.Deserializer.API.__default.OfBytes(bs);
    }
  }
} // end of namespace Std.JSON.ZeroCopy.API
namespace Std.JSON.API {

  public partial class __default {
    public static Std.Wrappers._IResult<Dafny.ISequence<byte>, Std.JSON.Errors._ISerializationError> Serialize(Std.JSON.Values._IJSON js) {
      Std.Wrappers._IResult<Std.JSON.Grammar._IStructural<Std.JSON.Grammar._IValue>, Std.JSON.Errors._ISerializationError> _0_valueOrError0 = Std.JSON.Serializer.__default.JSON(js);
      if ((_0_valueOrError0).IsFailure()) {
        return (_0_valueOrError0).PropagateFailure<Dafny.ISequence<byte>>();
      } else {
        Std.JSON.Grammar._IStructural<Std.JSON.Grammar._IValue> _1_js = (_0_valueOrError0).Extract();
        return Std.JSON.ZeroCopy.API.__default.Serialize(_1_js);
      }
    }
    public static Std.Wrappers._IResult<byte[], Std.JSON.Errors._ISerializationError> SerializeAlloc(Std.JSON.Values._IJSON js)
    {
      Std.Wrappers._IResult<byte[], Std.JSON.Errors._ISerializationError> bs = Std.Wrappers.Result<byte[], Std.JSON.Errors._ISerializationError>.Default(new byte[0]);
      Std.Wrappers._IResult<Std.JSON.Grammar._IStructural<Std.JSON.Grammar._IValue>, Std.JSON.Errors._ISerializationError> _0_valueOrError0 = Std.Wrappers.Result<Std.JSON.Grammar._IStructural<Std.JSON.Grammar._IValue>, Std.JSON.Errors._ISerializationError>.Default(Std.JSON.Grammar.Structural<Std.JSON.Grammar._IValue>.Default(Std.JSON.Grammar.Value.Default()));
      _0_valueOrError0 = Std.JSON.Serializer.__default.JSON(js);
      if ((_0_valueOrError0).IsFailure()) {
        bs = (_0_valueOrError0).PropagateFailure<byte[]>();
        return bs;
      }
      Std.JSON.Grammar._IStructural<Std.JSON.Grammar._IValue> _1_js;
      _1_js = (_0_valueOrError0).Extract();
      Std.Wrappers._IResult<byte[], Std.JSON.Errors._ISerializationError> _out0;
      _out0 = Std.JSON.ZeroCopy.API.__default.SerializeAlloc(_1_js);
      bs = _out0;
      return bs;
    }
    public static Std.Wrappers._IResult<uint, Std.JSON.Errors._ISerializationError> SerializeInto(Std.JSON.Values._IJSON js, byte[] bs)
    {
      Std.Wrappers._IResult<uint, Std.JSON.Errors._ISerializationError> len = Std.Wrappers.Result<uint, Std.JSON.Errors._ISerializationError>.Default(0);
      Std.Wrappers._IResult<Std.JSON.Grammar._IStructural<Std.JSON.Grammar._IValue>, Std.JSON.Errors._ISerializationError> _0_valueOrError0 = Std.Wrappers.Result<Std.JSON.Grammar._IStructural<Std.JSON.Grammar._IValue>, Std.JSON.Errors._ISerializationError>.Default(Std.JSON.Grammar.Structural<Std.JSON.Grammar._IValue>.Default(Std.JSON.Grammar.Value.Default()));
      _0_valueOrError0 = Std.JSON.Serializer.__default.JSON(js);
      if ((_0_valueOrError0).IsFailure()) {
        len = (_0_valueOrError0).PropagateFailure<uint>();
        return len;
      }
      Std.JSON.Grammar._IStructural<Std.JSON.Grammar._IValue> _1_js;
      _1_js = (_0_valueOrError0).Extract();
      Std.Wrappers._IResult<uint, Std.JSON.Errors._ISerializationError> _out0;
      _out0 = Std.JSON.ZeroCopy.API.__default.SerializeInto(_1_js, bs);
      len = _out0;
      return len;
    }
    public static Std.Wrappers._IResult<Std.JSON.Values._IJSON, Std.JSON.Errors._IDeserializationError> Deserialize(Dafny.ISequence<byte> bs) {
      Std.Wrappers._IResult<Std.JSON.Grammar._IStructural<Std.JSON.Grammar._IValue>, Std.JSON.Errors._IDeserializationError> _0_valueOrError0 = Std.JSON.ZeroCopy.API.__default.Deserialize(bs);
      if ((_0_valueOrError0).IsFailure()) {
        return (_0_valueOrError0).PropagateFailure<Std.JSON.Values._IJSON>();
      } else {
        Std.JSON.Grammar._IStructural<Std.JSON.Grammar._IValue> _1_js = (_0_valueOrError0).Extract();
        return Std.JSON.Deserializer.__default.JSON(_1_js);
      }
    }
  }
} // end of namespace Std.JSON.API
namespace Std.Parsers.InputString {

  public partial class __default {
    public static Std.Collections.Seq._ISlice<Dafny.Rune> ToInput(Dafny.ISequence<Dafny.Rune> r) {
      return Std.Collections.Seq.Slice<Dafny.Rune>.create(r, BigInteger.Zero, new BigInteger((r).Count));
    }
    public static Dafny.ISequence<Dafny.Rune> View(Std.Collections.Seq._ISlice<Dafny.Rune> self) {
      return (self).View();
    }
    public static BigInteger Length(Std.Collections.Seq._ISlice<Dafny.Rune> self) {
      return (self).Length();
    }
    public static Dafny.Rune CharAt(Std.Collections.Seq._ISlice<Dafny.Rune> self, BigInteger i)
    {
      return (self).At(i);
    }
    public static Std.Collections.Seq._ISlice<Dafny.Rune> Drop(Std.Collections.Seq._ISlice<Dafny.Rune> self, BigInteger start)
    {
      return (self).Drop(start);
    }
    public static Std.Collections.Seq._ISlice<Dafny.Rune> Slice(Std.Collections.Seq._ISlice<Dafny.Rune> self, BigInteger start, BigInteger end)
    {
      return (self).Sub(start, end);
    }
    public static bool Equals(Std.Collections.Seq._ISlice<Dafny.Rune> self, Std.Collections.Seq._ISlice<Dafny.Rune> other)
    {
      return object.Equals(self, other);
    }
  }

  public partial class Input {
    private static readonly Dafny.TypeDescriptor<Std.Collections.Seq._ISlice<Dafny.Rune>> _TYPE = new Dafny.TypeDescriptor<Std.Collections.Seq._ISlice<Dafny.Rune>>(Std.Collections.Seq.Slice<Dafny.Rune>.Default());
    public static Dafny.TypeDescriptor<Std.Collections.Seq._ISlice<Dafny.Rune>> _TypeDescriptor() {
      return _TYPE;
    }
  }
} // end of namespace Std.Parsers.InputString
namespace Std.Parsers.StringParsers {

  public partial class __default {
    public static Func<Std.Collections.Seq._ISlice<Dafny.Rune>, Std.Parsers.StringParsers._IParseResult<Dafny.Rune>> Char(Dafny.Rune expectedChar) {
      return Std.Parsers.StringParsers.__default.CharTest(Dafny.Helpers.Id<Func<Dafny.Rune, Func<Dafny.Rune, bool>>>((_0_expectedChar) => ((System.Func<Dafny.Rune, bool>)((_1_c) => {
        return (_1_c) == (_0_expectedChar);
      })))(expectedChar), Dafny.Sequence<Dafny.Rune>.FromElements(expectedChar));
    }
    public static Func<Std.Collections.Seq._ISlice<Dafny.Rune>, Std.Parsers.StringParsers._IParseResult<Dafny.Rune>> Space() {
      return Std.Parsers.StringParsers.__default.CharTest(((System.Func<Dafny.Rune, bool>)((_0_c) => {
        return (Dafny.Sequence<Dafny.Rune>.UnicodeFromString(" \t\r\n")).Contains(_0_c);
      })), Dafny.Sequence<Dafny.Rune>.UnicodeFromString("space"));
    }
    public static Func<Std.Collections.Seq._ISlice<Dafny.Rune>, Std.Parsers.StringParsers._IParseResult<Dafny.ISequence<Dafny.Rune>>> WS() {
      return Std.Parsers.StringParsers.__default.ZeroOrMore<Dafny.Rune>(Std.Parsers.StringParsers.__default.Space());
    }
    public static Func<Std.Collections.Seq._ISlice<Dafny.Rune>, Std.Parsers.StringParsers._IParseResult<Dafny.Rune>> Digit() {
      return Std.Parsers.StringParsers.__default.CharTest(((System.Func<Dafny.Rune, bool>)((_0_c) => {
        return (Dafny.Sequence<Dafny.Rune>.UnicodeFromString("0123456789")).Contains(_0_c);
      })), Dafny.Sequence<Dafny.Rune>.UnicodeFromString("digit"));
    }
    public static Func<Std.Collections.Seq._ISlice<Dafny.Rune>, Std.Parsers.StringParsers._IParseResult<BigInteger>> DigitNumber() {
      return Std.Parsers.StringParsers.__default.Map<Dafny.Rune, BigInteger>(Std.Parsers.StringParsers.__default.Digit(), ((System.Func<Dafny.Rune, BigInteger>)((_0_c) => {
        return Dafny.Helpers.Let<BigInteger, BigInteger>(Std.Parsers.StringParsers.__default.DigitToInt(_0_c), _pat_let6_0 => Dafny.Helpers.Let<BigInteger, BigInteger>(_pat_let6_0, _1_d => Dafny.Helpers.Let<BigInteger, BigInteger>((((_1_d).Sign != -1) ? (_1_d) : (BigInteger.Zero)), _pat_let7_0 => Dafny.Helpers.Let<BigInteger, BigInteger>(_pat_let7_0, _2_n => _2_n))));
      })));
    }
    public static Func<Std.Collections.Seq._ISlice<Dafny.Rune>, Std.Parsers.StringParsers._IParseResult<BigInteger>> Nat() {
      return Std.Parsers.StringParsers.__default.Bind<BigInteger, BigInteger>(Std.Parsers.StringParsers.__default.DigitNumber(), ((System.Func<BigInteger, Func<Std.Collections.Seq._ISlice<Dafny.Rune>, Std.Parsers.StringParsers._IParseResult<BigInteger>>>)((_0_result) => {
        return Std.Parsers.StringParsers.__default.Rep<BigInteger, BigInteger>(Std.Parsers.StringParsers.__default.DigitNumber(), ((System.Func<BigInteger, BigInteger, BigInteger>)((_1_previous, _2_c) => {
          return Dafny.Helpers.Let<BigInteger, BigInteger>(((_1_previous) * (new BigInteger(10))) + (_2_c), _pat_let8_0 => Dafny.Helpers.Let<BigInteger, BigInteger>(_pat_let8_0, _3_r => _3_r));
        })), _0_result);
      })));
    }
    public static Func<Std.Collections.Seq._ISlice<Dafny.Rune>, Std.Parsers.StringParsers._IParseResult<BigInteger>> Int() {
      return Std.Parsers.StringParsers.__default.Bind<Std.Wrappers._IOption<Dafny.Rune>, BigInteger>(Std.Parsers.StringParsers.__default.Maybe<Dafny.Rune>(Std.Parsers.StringParsers.__default.Char(new Dafny.Rune('-'))), ((System.Func<Std.Wrappers._IOption<Dafny.Rune>, Func<Std.Collections.Seq._ISlice<Dafny.Rune>, Std.Parsers.StringParsers._IParseResult<BigInteger>>>)((_0_minusSign) => {
        return Std.Parsers.StringParsers.__default.Map<BigInteger, BigInteger>(Std.Parsers.StringParsers.__default.Nat(), Dafny.Helpers.Id<Func<Std.Wrappers._IOption<Dafny.Rune>, Func<BigInteger, BigInteger>>>((_1_minusSign) => ((System.Func<BigInteger, BigInteger>)((_2_result) => {
          return (((_1_minusSign).is_Some) ? ((BigInteger.Zero) - (_2_result)) : (_2_result));
        })))(_0_minusSign));
      })));
    }
    public static Func<Std.Collections.Seq._ISlice<Dafny.Rune>, Std.Parsers.StringParsers._IParseResult<Dafny.ISequence<Dafny.Rune>>> String(Dafny.ISequence<Dafny.Rune> expected) {
      return Dafny.Helpers.Id<Func<Dafny.ISequence<Dafny.Rune>, Func<Std.Collections.Seq._ISlice<Dafny.Rune>, Std.Parsers.StringParsers._IParseResult<Dafny.ISequence<Dafny.Rune>>>>>((_0_expected) => ((System.Func<Std.Collections.Seq._ISlice<Dafny.Rune>, Std.Parsers.StringParsers._IParseResult<Dafny.ISequence<Dafny.Rune>>>)((_1_input) => {
        return ((((new BigInteger((_0_expected).Count)) <= (Std.Parsers.InputString.__default.Length(_1_input))) && (((Std.Parsers.InputString.__default.Slice(_1_input, BigInteger.Zero, new BigInteger((_0_expected).Count))).View()).Equals(_0_expected))) ? (Std.Parsers.StringParsers.ParseResult<Dafny.ISequence<Dafny.Rune>>.create_ParseSuccess(_0_expected, Std.Parsers.InputString.__default.Drop(_1_input, new BigInteger((_0_expected).Count)))) : (Std.Parsers.StringParsers.ParseResult<Dafny.ISequence<Dafny.Rune>>.create_ParseFailure(Std.Parsers.StringParsers.FailureLevel.create_Recoverable(), Std.Parsers.StringParsers.FailureData.create(Dafny.Sequence<Dafny.Rune>.Concat(Dafny.Sequence<Dafny.Rune>.Concat(Dafny.Sequence<Dafny.Rune>.UnicodeFromString("expected '"), _0_expected), Dafny.Sequence<Dafny.Rune>.UnicodeFromString("'")), _1_input, Std.Wrappers.Option<Std.Parsers.StringParsers._IFailureData>.create_None()))));
      })))(expected);
    }
    public static Std.Parsers.StringParsers._ICodeLocation ExtractLineCol(Dafny.ISequence<Dafny.Rune> input, BigInteger pos)
    {
      Std.Parsers.StringParsers._ICodeLocation output = Std.Parsers.StringParsers.CodeLocation.Default();
      BigInteger _0_lineNumber = BigInteger.Zero;
      BigInteger _1_colNumber = BigInteger.Zero;
      Dafny.ISequence<Dafny.Rune> _2_lineStr = Dafny.Sequence<Dafny.Rune>.Empty;
      _0_lineNumber = BigInteger.One;
      BigInteger _3_startLinePos;
      _3_startLinePos = BigInteger.Zero;
      _1_colNumber = BigInteger.Zero;
      BigInteger _4_i;
      _4_i = BigInteger.Zero;
      while (((_4_i) < (new BigInteger((input).Count))) && ((_4_i) != (pos))) {
        _1_colNumber = (_1_colNumber) + (BigInteger.One);
        if (((((input).Select(_4_i)) == (new Dafny.Rune('\r'))) && (((_4_i) + (BigInteger.One)) < (new BigInteger((input).Count)))) && (((input).Select((_4_i) + (BigInteger.One))) == (new Dafny.Rune('\n')))) {
          _0_lineNumber = (_0_lineNumber) + (BigInteger.One);
          _1_colNumber = BigInteger.Zero;
          _4_i = (_4_i) + (BigInteger.One);
          _3_startLinePos = (_4_i) + (BigInteger.One);
        } else if ((Dafny.Sequence<Dafny.Rune>.UnicodeFromString("\r\n")).Contains((input).Select(_4_i))) {
          _0_lineNumber = (_0_lineNumber) + (BigInteger.One);
          _1_colNumber = BigInteger.Zero;
          _3_startLinePos = (_4_i) + (BigInteger.One);
        }
        _4_i = (_4_i) + (BigInteger.One);
      }
      while (((_4_i) < (new BigInteger((input).Count))) && (!(Dafny.Sequence<Dafny.Rune>.UnicodeFromString("\r\n")).Contains((input).Select(_4_i)))) {
        _4_i = (_4_i) + (BigInteger.One);
      }
      _2_lineStr = (input).Subsequence(_3_startLinePos, _4_i);
      output = Std.Parsers.StringParsers.CodeLocation.create(_0_lineNumber, _1_colNumber, _2_lineStr);
      return output;
    }
    public static Dafny.ISequence<Dafny.Rune> DebugSummary(Dafny.ISequence<Dafny.Rune> input) {
      return Dafny.Sequence<Dafny.Rune>.Concat((((new BigInteger((input).Count)).Sign == 1) ? (Dafny.Sequence<Dafny.Rune>.Concat(Dafny.Sequence<Dafny.Rune>.Concat(Dafny.Sequence<Dafny.Rune>.UnicodeFromString("'"), ((System.Func<Dafny.ISequence<Dafny.Rune>>)(() => {
        Dafny.Rune _source0 = (input).Select(BigInteger.Zero);
        {
          if ((_source0) == (new Dafny.Rune('\n'))) {
            return Dafny.Sequence<Dafny.Rune>.UnicodeFromString("\\n");
          }
        }
        {
          if ((_source0) == (new Dafny.Rune('\r'))) {
            return Dafny.Sequence<Dafny.Rune>.UnicodeFromString("\\r");
          }
        }
        {
          if ((_source0) == (new Dafny.Rune('\t'))) {
            return Dafny.Sequence<Dafny.Rune>.UnicodeFromString("\\t");
          }
        }
        {
          Dafny.Rune _0_c = _source0;
          return Dafny.Sequence<Dafny.Rune>.FromElements(_0_c);
        }
      }))()), (((new BigInteger((input).Count)) == (BigInteger.One)) ? (Dafny.Sequence<Dafny.Rune>.UnicodeFromString("' and end of string")) : (Dafny.Sequence<Dafny.Rune>.Concat(Dafny.Sequence<Dafny.Rune>.Concat(Dafny.Sequence<Dafny.Rune>.Concat(Dafny.Sequence<Dafny.Rune>.Concat(Dafny.Sequence<Dafny.Rune>.Concat(Dafny.Sequence<Dafny.Rune>.UnicodeFromString("'"), Dafny.Sequence<Dafny.Rune>.UnicodeFromString(" and ")), Std.Strings.__default.OfInt((new BigInteger((input).Count)) - (BigInteger.One))), Dafny.Sequence<Dafny.Rune>.UnicodeFromString(" char")), (((new BigInteger((input).Count)) == (new BigInteger(2))) ? (Dafny.Sequence<Dafny.Rune>.UnicodeFromString("")) : (Dafny.Sequence<Dafny.Rune>.UnicodeFromString("s")))), Dafny.Sequence<Dafny.Rune>.UnicodeFromString(" remaining")))))) : (Dafny.Sequence<Dafny.Rune>.UnicodeFromString("'' (end of string)"))), Dafny.Sequence<Dafny.Rune>.UnicodeFromString("\n"));
    }
    public static Dafny.ISequence<Dafny.Rune> DebugNameSummary(Dafny.ISequence<Dafny.Rune> name, Dafny.ISequence<Dafny.Rune> input)
    {
      return Dafny.Sequence<Dafny.Rune>.Concat(Dafny.Sequence<Dafny.Rune>.Concat(Dafny.Sequence<Dafny.Rune>.Concat(Dafny.Sequence<Dafny.Rune>.UnicodeFromString("["), name), Dafny.Sequence<Dafny.Rune>.UnicodeFromString("] ")), Std.Parsers.StringParsers.__default.DebugSummary(input));
    }
    public static Dafny.ISequence<Dafny.Rune> DebugSummaryInput(Dafny.ISequence<Dafny.Rune> name, Dafny.ISequence<Dafny.Rune> input)
    {
      return Dafny.Sequence<Dafny.Rune>.Concat(Dafny.Sequence<Dafny.Rune>.UnicodeFromString("> "), Std.Parsers.StringParsers.__default.DebugNameSummary(name, input));
    }
    public static void PrintDebugSummaryInput(Dafny.ISequence<Dafny.Rune> name, Dafny.ISequence<Dafny.Rune> input)
    {
      Dafny.Helpers.Print((Std.Parsers.StringParsers.__default.DebugSummaryInput(name, input)).ToVerbatimString(false));
    }
    public static Dafny.ISequence<Dafny.Rune> NewIndent(Dafny.ISequence<Dafny.Rune> input, Dafny.ISequence<Dafny.Rune> indent)
    {
      Dafny.ISequence<Dafny.Rune> _0___accumulator = Dafny.Sequence<Dafny.Rune>.FromElements();
    TAIL_CALL_START: ;
      if ((new BigInteger((input).Count)).Sign == 0) {
        return Dafny.Sequence<Dafny.Rune>.Concat(_0___accumulator, Dafny.Sequence<Dafny.Rune>.UnicodeFromString(""));
      } else {
        _0___accumulator = Dafny.Sequence<Dafny.Rune>.Concat(_0___accumulator, ((((input).Select(BigInteger.Zero)) == (new Dafny.Rune('\n'))) ? (Dafny.Sequence<Dafny.Rune>.Concat((input).Take(BigInteger.One), indent)) : ((input).Take(BigInteger.One))));
        Dafny.ISequence<Dafny.Rune> _in0 = (input).Drop(BigInteger.One);
        Dafny.ISequence<Dafny.Rune> _in1 = indent;
        input = _in0;
        indent = _in1;
        goto TAIL_CALL_START;
      }
    }
    public static void PrintDebugSummaryOutput<__R>(Dafny.ISequence<Dafny.Rune> name, Dafny.ISequence<Dafny.Rune> input, Std.Parsers.StringParsers._IParseResult<__R> result)
    {
      Dafny.Helpers.Print((Dafny.Sequence<Dafny.Rune>.UnicodeFromString("< ")).ToVerbatimString(false));
      Dafny.Helpers.Print((Std.Parsers.StringParsers.__default.DebugNameSummary(name, input)).ToVerbatimString(false));
      if ((result).is_ParseFailure) {
        Dafny.Helpers.Print((Dafny.Sequence<Dafny.Rune>.UnicodeFromString("| Unparsed: ")).ToVerbatimString(false));
        Dafny.Helpers.Print((Std.Parsers.StringParsers.__default.DebugSummary(Std.Parsers.InputString.__default.View((result).Remaining()))).ToVerbatimString(false));
        if ((Std.Parsers.InputString.__default.Length((result).Remaining())) < (new BigInteger((input).Count))) {
          Dafny.Helpers.Print((Dafny.Sequence<Dafny.Rune>.UnicodeFromString("| Was committed\n")).ToVerbatimString(false));
        }
        Dafny.Helpers.Print((Dafny.Sequence<Dafny.Rune>.Concat(Dafny.Sequence<Dafny.Rune>.UnicodeFromString("| "), Std.Parsers.StringParsers.__default.NewIndent(Std.Parsers.StringParsers.__default.FailureToString<__R>(input, result, new BigInteger(-1)), Dafny.Sequence<Dafny.Rune>.UnicodeFromString("| ")))).ToVerbatimString(false));
        Dafny.Helpers.Print((Dafny.Sequence<Dafny.Rune>.UnicodeFromString("\n")).ToVerbatimString(false));
      } else {
        Dafny.Helpers.Print((Dafny.Sequence<Dafny.Rune>.UnicodeFromString("| Success: ")).ToVerbatimString(false));
        Dafny.Helpers.Print(((result).dtor_result));
        Dafny.Helpers.Print((Dafny.Sequence<Dafny.Rune>.UnicodeFromString(", ")).ToVerbatimString(false));
        Dafny.Helpers.Print((Std.Parsers.StringParsers.__default.DebugSummary(Std.Parsers.InputString.__default.View((result).Remaining()))).ToVerbatimString(false));
        Dafny.Helpers.Print((Dafny.Sequence<Dafny.Rune>.UnicodeFromString("\n")).ToVerbatimString(false));
      }
    }
    public static Dafny.ISequence<Dafny.Rune> FailureToString<__R>(Dafny.ISequence<Dafny.Rune> input, Std.Parsers.StringParsers._IParseResult<__R> result, BigInteger printPos)
    {
      Dafny.ISequence<Dafny.Rune> _0_failure = Dafny.Sequence<Dafny.Rune>.UnicodeFromString("");
      Dafny.ISequence<Dafny.Rune> _1_failure = Dafny.Sequence<Dafny.Rune>.Concat(_0_failure, (((printPos) == (new BigInteger(-1))) ? (Dafny.Sequence<Dafny.Rune>.Concat(((object.Equals((result).dtor_level, Std.Parsers.StringParsers.FailureLevel.create_Fatal())) ? (Dafny.Sequence<Dafny.Rune>.UnicodeFromString("Fatal error")) : (Dafny.Sequence<Dafny.Rune>.UnicodeFromString("Error"))), Dafny.Sequence<Dafny.Rune>.UnicodeFromString(":\n"))) : (Dafny.Sequence<Dafny.Rune>.UnicodeFromString(""))));
      BigInteger _2_pos = (new BigInteger((input).Count)) - (Std.Parsers.InputString.__default.Length(((result).dtor_data).dtor_remaining));
      BigInteger _3_pos = (((_2_pos).Sign == -1) ? (BigInteger.Zero) : (_2_pos));
      Dafny.ISequence<Dafny.Rune> _4_failure = (((printPos) == (_3_pos)) ? (_1_failure) : (Dafny.Helpers.Let<Std.Parsers.StringParsers._ICodeLocation, Dafny.ISequence<Dafny.Rune>>(Std.Parsers.StringParsers.__default.ExtractLineCol(input, _3_pos), _pat_let9_0 => Dafny.Helpers.Let<Std.Parsers.StringParsers._ICodeLocation, Dafny.ISequence<Dafny.Rune>>(_pat_let9_0, _5_output => Dafny.Helpers.Let<Std.Parsers.StringParsers._ICodeLocation, Dafny.ISequence<Dafny.Rune>>(_5_output, _pat_let10_0 => Dafny.Helpers.Let<BigInteger, Dafny.ISequence<Dafny.Rune>>(_pat_let10_0.dtor_lineNumber, _6_line => Dafny.Helpers.Let<BigInteger, Dafny.ISequence<Dafny.Rune>>(_pat_let10_0.dtor_colNumber, _7_col => Dafny.Helpers.Let<Dafny.ISequence<Dafny.Rune>, Dafny.ISequence<Dafny.Rune>>(_pat_let10_0.dtor_lineStr, _8_lineStr => Dafny.Sequence<Dafny.Rune>.Concat(Dafny.Sequence<Dafny.Rune>.Concat(Dafny.Sequence<Dafny.Rune>.Concat(Dafny.Sequence<Dafny.Rune>.Concat(Dafny.Sequence<Dafny.Rune>.Concat(Dafny.Sequence<Dafny.Rune>.Concat(Dafny.Sequence<Dafny.Rune>.Concat(_1_failure, Std.Strings.__default.OfInt(_6_line)), Dafny.Sequence<Dafny.Rune>.UnicodeFromString(": ")), _8_lineStr), Dafny.Sequence<Dafny.Rune>.UnicodeFromString("\n")), Std.Collections.Seq.__default.Repeat<Dafny.Rune>(new Dafny.Rune(' '), ((_7_col) + (new BigInteger(2))) + (new BigInteger((Std.Strings.__default.OfInt(_6_line)).Count)))), Dafny.Sequence<Dafny.Rune>.UnicodeFromString("^")), Dafny.Sequence<Dafny.Rune>.UnicodeFromString("\n"))))))))));
      Dafny.ISequence<Dafny.Rune> _9_failure = Dafny.Sequence<Dafny.Rune>.Concat(_4_failure, ((result).dtor_data).dtor_message);
      if ((((result).dtor_data).dtor_next).is_Some) {
        Dafny.ISequence<Dafny.Rune> _10_failure = Dafny.Sequence<Dafny.Rune>.Concat(_9_failure, Dafny.Sequence<Dafny.Rune>.UnicodeFromString(", or\n"));
        Dafny.ISequence<Dafny.Rune> _11_subFailure = Std.Parsers.StringParsers.__default.FailureToString<__R>(input, Std.Parsers.StringParsers.ParseResult<__R>.create_ParseFailure((result).dtor_level, (((result).dtor_data).dtor_next).dtor_value), _3_pos);
        Dafny.ISequence<Dafny.Rune> _12_failure = Dafny.Sequence<Dafny.Rune>.Concat(_10_failure, _11_subFailure);
        return _12_failure;
      } else {
        Dafny.ISequence<Dafny.Rune> _13_failure = Dafny.Sequence<Dafny.Rune>.Concat(_9_failure, Dafny.Sequence<Dafny.Rune>.UnicodeFromString("\n"));
        return _13_failure;
      }
    }
    public static Std.Parsers.StringParsers._IParseResult<__T> Apply<__T>(Func<Std.Collections.Seq._ISlice<Dafny.Rune>, Std.Parsers.StringParsers._IParseResult<__T>> parser, Dafny.ISequence<Dafny.Rune> input)
    {
      return Dafny.Helpers.Id<Func<Std.Collections.Seq._ISlice<Dafny.Rune>, Std.Parsers.StringParsers._IParseResult<__T>>>(parser)(Std.Parsers.StringParsers.__default.ToInput(input));
    }
    public static Std.Collections.Seq._ISlice<Dafny.Rune> ToInput(Dafny.ISequence<Dafny.Rune> input) {
      return Std.Collections.Seq.Slice<Dafny.Rune>.create(input, BigInteger.Zero, new BigInteger((input).Count));
    }
    public static bool IsRemaining(Std.Collections.Seq._ISlice<Dafny.Rune> input, Std.Collections.Seq._ISlice<Dafny.Rune> remaining)
    {
      return ((Std.Parsers.InputString.__default.Length(remaining)) <= (Std.Parsers.InputString.__default.Length(input))) && (object.Equals(Std.Parsers.InputString.__default.Drop(input, (Std.Parsers.InputString.__default.Length(input)) - (Std.Parsers.InputString.__default.Length(remaining))), remaining));
    }
    public static Func<Std.Collections.Seq._ISlice<Dafny.Rune>, Std.Parsers.StringParsers._IParseResult<__R>> SucceedWith<__R>(__R result) {
      return Dafny.Helpers.Id<Func<__R, Func<Std.Collections.Seq._ISlice<Dafny.Rune>, Std.Parsers.StringParsers._IParseResult<__R>>>>((_0_result) => ((System.Func<Std.Collections.Seq._ISlice<Dafny.Rune>, Std.Parsers.StringParsers._IParseResult<__R>>)((_1_input) => {
        return Std.Parsers.StringParsers.ParseResult<__R>.create_ParseSuccess(_0_result, _1_input);
      })))(result);
    }
    public static Func<Std.Collections.Seq._ISlice<Dafny.Rune>, Std.Parsers.StringParsers._IParseResult<_System._ITuple0>> Epsilon() {
      return Std.Parsers.StringParsers.__default.SucceedWith<_System._ITuple0>(_System.Tuple0.create());
    }
    public static Func<Std.Collections.Seq._ISlice<Dafny.Rune>, Std.Parsers.StringParsers._IParseResult<__R>> FailWith<__R>(Dafny.ISequence<Dafny.Rune> message, Std.Parsers.StringParsers._IFailureLevel level)
    {
      return Dafny.Helpers.Id<Func<Std.Parsers.StringParsers._IFailureLevel, Dafny.ISequence<Dafny.Rune>, Func<Std.Collections.Seq._ISlice<Dafny.Rune>, Std.Parsers.StringParsers._IParseResult<__R>>>>((_0_level, _1_message) => ((System.Func<Std.Collections.Seq._ISlice<Dafny.Rune>, Std.Parsers.StringParsers._IParseResult<__R>>)((_2_input) => {
        return Std.Parsers.StringParsers.ParseResult<__R>.create_ParseFailure(_0_level, Std.Parsers.StringParsers.FailureData.create(_1_message, _2_input, Std.Wrappers.Option<Std.Parsers.StringParsers._IFailureData>.create_None()));
      })))(level, message);
    }
    public static Func<Std.Collections.Seq._ISlice<Dafny.Rune>, Std.Parsers.StringParsers._IParseResult<__R>> ResultWith<__R>(Std.Parsers.StringParsers._IParseResult<__R> result) {
      return Dafny.Helpers.Id<Func<Std.Parsers.StringParsers._IParseResult<__R>, Func<Std.Collections.Seq._ISlice<Dafny.Rune>, Std.Parsers.StringParsers._IParseResult<__R>>>>((_0_result) => ((System.Func<Std.Collections.Seq._ISlice<Dafny.Rune>, Std.Parsers.StringParsers._IParseResult<__R>>)((_1_input) => {
        return _0_result;
      })))(result);
    }
    public static Func<Std.Collections.Seq._ISlice<Dafny.Rune>, Std.Parsers.StringParsers._IParseResult<_System._ITuple0>> EndOfString() {
      return ((System.Func<Std.Collections.Seq._ISlice<Dafny.Rune>, Std.Parsers.StringParsers._IParseResult<_System._ITuple0>>)((_0_input) => {
        return (((Std.Parsers.InputString.__default.Length(_0_input)).Sign == 0) ? (Std.Parsers.StringParsers.ParseResult<_System._ITuple0>.create_ParseSuccess(_System.Tuple0.create(), _0_input)) : (Std.Parsers.StringParsers.ParseResult<_System._ITuple0>.create_ParseFailure(Std.Parsers.StringParsers.FailureLevel.create_Recoverable(), Std.Parsers.StringParsers.FailureData.create(Dafny.Sequence<Dafny.Rune>.UnicodeFromString("expected end of string"), _0_input, Std.Wrappers.Option<Std.Parsers.StringParsers._IFailureData>.create_None()))));
      }));
    }
    public static Func<Std.Collections.Seq._ISlice<Dafny.Rune>, Std.Parsers.StringParsers._IParseResult<__R>> Bind<__L, __R>(Func<Std.Collections.Seq._ISlice<Dafny.Rune>, Std.Parsers.StringParsers._IParseResult<__L>> left, Func<__L, Func<Std.Collections.Seq._ISlice<Dafny.Rune>, Std.Parsers.StringParsers._IParseResult<__R>>> right)
    {
      return Dafny.Helpers.Id<Func<Func<Std.Collections.Seq._ISlice<Dafny.Rune>, Std.Parsers.StringParsers._IParseResult<__L>>, Func<__L, Func<Std.Collections.Seq._ISlice<Dafny.Rune>, Std.Parsers.StringParsers._IParseResult<__R>>>, Func<Std.Collections.Seq._ISlice<Dafny.Rune>, Std.Parsers.StringParsers._IParseResult<__R>>>>((_0_left, _1_right) => ((System.Func<Std.Collections.Seq._ISlice<Dafny.Rune>, Std.Parsers.StringParsers._IParseResult<__R>>)((_2_input) => {
        return Dafny.Helpers.Let<Std.Parsers.StringParsers._IParseResult<__L>, Std.Parsers.StringParsers._IParseResult<__R>>(Dafny.Helpers.Id<Func<Std.Collections.Seq._ISlice<Dafny.Rune>, Std.Parsers.StringParsers._IParseResult<__L>>>(_0_left)(_2_input), _pat_let11_0 => Dafny.Helpers.Let<Std.Parsers.StringParsers._IParseResult<__L>, Std.Parsers.StringParsers._IParseResult<__R>>(_pat_let11_0, _3_valueOrError0 => (((_3_valueOrError0).IsFailure()) ? ((_3_valueOrError0).PropagateFailure<__R>()) : (Dafny.Helpers.Let<_System._ITuple2<__L, Std.Collections.Seq._ISlice<Dafny.Rune>>, Std.Parsers.StringParsers._IParseResult<__R>>((_3_valueOrError0).Extract(), _pat_let12_0 => Dafny.Helpers.Let<__L, Std.Parsers.StringParsers._IParseResult<__R>>(_pat_let12_0.dtor__0, _4_leftResult => Dafny.Helpers.Let<Std.Collections.Seq._ISlice<Dafny.Rune>, Std.Parsers.StringParsers._IParseResult<__R>>(_pat_let12_0.dtor__1, _5_remaining => Dafny.Helpers.Id<Func<Std.Collections.Seq._ISlice<Dafny.Rune>, Std.Parsers.StringParsers._IParseResult<__R>>>(Dafny.Helpers.Id<Func<__L, Func<Std.Collections.Seq._ISlice<Dafny.Rune>, Std.Parsers.StringParsers._IParseResult<__R>>>>(_1_right)(_4_leftResult))(_5_remaining))))))));
      })))(left, right);
    }
    public static Func<Std.Collections.Seq._ISlice<Dafny.Rune>, Std.Parsers.StringParsers._IParseResult<__R>> BindSucceeds<__L, __R>(Func<Std.Collections.Seq._ISlice<Dafny.Rune>, Std.Parsers.StringParsers._IParseResult<__L>> left, Func<__L, Std.Collections.Seq._ISlice<Dafny.Rune>, Func<Std.Collections.Seq._ISlice<Dafny.Rune>, Std.Parsers.StringParsers._IParseResult<__R>>> right)
    {
      return Dafny.Helpers.Id<Func<Func<Std.Collections.Seq._ISlice<Dafny.Rune>, Std.Parsers.StringParsers._IParseResult<__L>>, Func<__L, Std.Collections.Seq._ISlice<Dafny.Rune>, Func<Std.Collections.Seq._ISlice<Dafny.Rune>, Std.Parsers.StringParsers._IParseResult<__R>>>, Func<Std.Collections.Seq._ISlice<Dafny.Rune>, Std.Parsers.StringParsers._IParseResult<__R>>>>((_0_left, _1_right) => ((System.Func<Std.Collections.Seq._ISlice<Dafny.Rune>, Std.Parsers.StringParsers._IParseResult<__R>>)((_2_input) => {
        return Dafny.Helpers.Let<Std.Parsers.StringParsers._IParseResult<__L>, Std.Parsers.StringParsers._IParseResult<__R>>(Dafny.Helpers.Id<Func<Std.Collections.Seq._ISlice<Dafny.Rune>, Std.Parsers.StringParsers._IParseResult<__L>>>(_0_left)(_2_input), _pat_let13_0 => Dafny.Helpers.Let<Std.Parsers.StringParsers._IParseResult<__L>, Std.Parsers.StringParsers._IParseResult<__R>>(_pat_let13_0, _3_valueOrError0 => (((_3_valueOrError0).IsFailure()) ? ((_3_valueOrError0).PropagateFailure<__R>()) : (Dafny.Helpers.Let<_System._ITuple2<__L, Std.Collections.Seq._ISlice<Dafny.Rune>>, Std.Parsers.StringParsers._IParseResult<__R>>((_3_valueOrError0).Extract(), _pat_let14_0 => Dafny.Helpers.Let<__L, Std.Parsers.StringParsers._IParseResult<__R>>(_pat_let14_0.dtor__0, _4_leftResult => Dafny.Helpers.Let<Std.Collections.Seq._ISlice<Dafny.Rune>, Std.Parsers.StringParsers._IParseResult<__R>>(_pat_let14_0.dtor__1, _5_remaining => Dafny.Helpers.Id<Func<Std.Collections.Seq._ISlice<Dafny.Rune>, Std.Parsers.StringParsers._IParseResult<__R>>>(Dafny.Helpers.Id<Func<__L, Std.Collections.Seq._ISlice<Dafny.Rune>, Func<Std.Collections.Seq._ISlice<Dafny.Rune>, Std.Parsers.StringParsers._IParseResult<__R>>>>(_1_right)(_4_leftResult, _5_remaining))(_5_remaining))))))));
      })))(left, right);
    }
    public static Func<Std.Collections.Seq._ISlice<Dafny.Rune>, Std.Parsers.StringParsers._IParseResult<__R>> BindResult<__L, __R>(Func<Std.Collections.Seq._ISlice<Dafny.Rune>, Std.Parsers.StringParsers._IParseResult<__L>> left, Func<Std.Parsers.StringParsers._IParseResult<__L>, Std.Collections.Seq._ISlice<Dafny.Rune>, Func<Std.Collections.Seq._ISlice<Dafny.Rune>, Std.Parsers.StringParsers._IParseResult<__R>>> right)
    {
      return Dafny.Helpers.Id<Func<Func<Std.Parsers.StringParsers._IParseResult<__L>, Std.Collections.Seq._ISlice<Dafny.Rune>, Func<Std.Collections.Seq._ISlice<Dafny.Rune>, Std.Parsers.StringParsers._IParseResult<__R>>>, Func<Std.Collections.Seq._ISlice<Dafny.Rune>, Std.Parsers.StringParsers._IParseResult<__L>>, Func<Std.Collections.Seq._ISlice<Dafny.Rune>, Std.Parsers.StringParsers._IParseResult<__R>>>>((_0_right, _1_left) => ((System.Func<Std.Collections.Seq._ISlice<Dafny.Rune>, Std.Parsers.StringParsers._IParseResult<__R>>)((_2_input) => {
        return Dafny.Helpers.Id<Func<Std.Collections.Seq._ISlice<Dafny.Rune>, Std.Parsers.StringParsers._IParseResult<__R>>>(Dafny.Helpers.Id<Func<Std.Parsers.StringParsers._IParseResult<__L>, Std.Collections.Seq._ISlice<Dafny.Rune>, Func<Std.Collections.Seq._ISlice<Dafny.Rune>, Std.Parsers.StringParsers._IParseResult<__R>>>>(_0_right)(Dafny.Helpers.Id<Func<Std.Collections.Seq._ISlice<Dafny.Rune>, Std.Parsers.StringParsers._IParseResult<__L>>>(_1_left)(_2_input), _2_input))(_2_input);
      })))(right, left);
    }
    public static Func<Std.Collections.Seq._ISlice<Dafny.Rune>, Std.Parsers.StringParsers._IParseResult<__U>> Map<__R, __U>(Func<Std.Collections.Seq._ISlice<Dafny.Rune>, Std.Parsers.StringParsers._IParseResult<__R>> underlying, Func<__R, __U> mappingFunc)
    {
      return Dafny.Helpers.Id<Func<Func<Std.Collections.Seq._ISlice<Dafny.Rune>, Std.Parsers.StringParsers._IParseResult<__R>>, Func<__R, __U>, Func<Std.Collections.Seq._ISlice<Dafny.Rune>, Std.Parsers.StringParsers._IParseResult<__U>>>>((_0_underlying, _1_mappingFunc) => ((System.Func<Std.Collections.Seq._ISlice<Dafny.Rune>, Std.Parsers.StringParsers._IParseResult<__U>>)((_2_input) => {
        return Dafny.Helpers.Let<Std.Parsers.StringParsers._IParseResult<__R>, Std.Parsers.StringParsers._IParseResult<__U>>(Dafny.Helpers.Id<Func<Std.Collections.Seq._ISlice<Dafny.Rune>, Std.Parsers.StringParsers._IParseResult<__R>>>(_0_underlying)(_2_input), _pat_let15_0 => Dafny.Helpers.Let<Std.Parsers.StringParsers._IParseResult<__R>, Std.Parsers.StringParsers._IParseResult<__U>>(_pat_let15_0, _3_valueOrError0 => (((_3_valueOrError0).IsFailure()) ? ((_3_valueOrError0).PropagateFailure<__U>()) : (Dafny.Helpers.Let<_System._ITuple2<__R, Std.Collections.Seq._ISlice<Dafny.Rune>>, Std.Parsers.StringParsers._IParseResult<__U>>((_3_valueOrError0).Extract(), _pat_let16_0 => Dafny.Helpers.Let<__R, Std.Parsers.StringParsers._IParseResult<__U>>(_pat_let16_0.dtor__0, _4_result => Dafny.Helpers.Let<Std.Collections.Seq._ISlice<Dafny.Rune>, Std.Parsers.StringParsers._IParseResult<__U>>(_pat_let16_0.dtor__1, _5_remaining => Dafny.Helpers.Let<__U, Std.Parsers.StringParsers._IParseResult<__U>>(Dafny.Helpers.Id<Func<__R, __U>>(_1_mappingFunc)(_4_result), _pat_let17_0 => Dafny.Helpers.Let<__U, Std.Parsers.StringParsers._IParseResult<__U>>(_pat_let17_0, _6_u => Std.Parsers.StringParsers.ParseResult<__U>.create_ParseSuccess(_6_u, _5_remaining))))))))));
      })))(underlying, mappingFunc);
    }
    public static Func<Std.Collections.Seq._ISlice<Dafny.Rune>, Std.Parsers.StringParsers._IParseResult<_System._ITuple0>> Not<__R>(Func<Std.Collections.Seq._ISlice<Dafny.Rune>, Std.Parsers.StringParsers._IParseResult<__R>> underlying) {
      return Dafny.Helpers.Id<Func<Func<Std.Collections.Seq._ISlice<Dafny.Rune>, Std.Parsers.StringParsers._IParseResult<__R>>, Func<Std.Collections.Seq._ISlice<Dafny.Rune>, Std.Parsers.StringParsers._IParseResult<_System._ITuple0>>>>((_0_underlying) => ((System.Func<Std.Collections.Seq._ISlice<Dafny.Rune>, Std.Parsers.StringParsers._IParseResult<_System._ITuple0>>)((_1_input) => {
        return Dafny.Helpers.Let<Std.Parsers.StringParsers._IParseResult<__R>, Std.Parsers.StringParsers._IParseResult<_System._ITuple0>>(Dafny.Helpers.Id<Func<Std.Collections.Seq._ISlice<Dafny.Rune>, Std.Parsers.StringParsers._IParseResult<__R>>>(_0_underlying)(_1_input), _pat_let18_0 => Dafny.Helpers.Let<Std.Parsers.StringParsers._IParseResult<__R>, Std.Parsers.StringParsers._IParseResult<_System._ITuple0>>(_pat_let18_0, _2_l => (((_2_l).IsFailure()) ? ((((_2_l).IsFatal()) ? ((_2_l).PropagateFailure<_System._ITuple0>()) : (Std.Parsers.StringParsers.ParseResult<_System._ITuple0>.create_ParseSuccess(_System.Tuple0.create(), _1_input)))) : (Std.Parsers.StringParsers.ParseResult<_System._ITuple0>.create_ParseFailure(Std.Parsers.StringParsers.FailureLevel.create_Recoverable(), Std.Parsers.StringParsers.FailureData.create(Dafny.Sequence<Dafny.Rune>.UnicodeFromString("not failed"), _1_input, Std.Wrappers.Option<Std.Parsers.StringParsers._IFailureData>.create_None()))))));
      })))(underlying);
    }
    public static Func<Std.Collections.Seq._ISlice<Dafny.Rune>, Std.Parsers.StringParsers._IParseResult<_System._ITuple2<__L, __R>>> And<__L, __R>(Func<Std.Collections.Seq._ISlice<Dafny.Rune>, Std.Parsers.StringParsers._IParseResult<__L>> left, Func<Std.Collections.Seq._ISlice<Dafny.Rune>, Std.Parsers.StringParsers._IParseResult<__R>> right)
    {
      return Dafny.Helpers.Id<Func<Func<Std.Collections.Seq._ISlice<Dafny.Rune>, Std.Parsers.StringParsers._IParseResult<__L>>, Func<Std.Collections.Seq._ISlice<Dafny.Rune>, Std.Parsers.StringParsers._IParseResult<__R>>, Func<Std.Collections.Seq._ISlice<Dafny.Rune>, Std.Parsers.StringParsers._IParseResult<_System._ITuple2<__L, __R>>>>>((_0_left, _1_right) => ((System.Func<Std.Collections.Seq._ISlice<Dafny.Rune>, Std.Parsers.StringParsers._IParseResult<_System._ITuple2<__L, __R>>>)((_2_input) => {
        return Dafny.Helpers.Let<Std.Parsers.StringParsers._IParseResult<__L>, Std.Parsers.StringParsers._IParseResult<_System._ITuple2<__L, __R>>>(Dafny.Helpers.Id<Func<Std.Collections.Seq._ISlice<Dafny.Rune>, Std.Parsers.StringParsers._IParseResult<__L>>>(_0_left)(_2_input), _pat_let19_0 => Dafny.Helpers.Let<Std.Parsers.StringParsers._IParseResult<__L>, Std.Parsers.StringParsers._IParseResult<_System._ITuple2<__L, __R>>>(_pat_let19_0, _3_valueOrError0 => (((_3_valueOrError0).IsFailure()) ? ((_3_valueOrError0).PropagateFailure<_System._ITuple2<__L, __R>>()) : (Dafny.Helpers.Let<_System._ITuple2<__L, Std.Collections.Seq._ISlice<Dafny.Rune>>, Std.Parsers.StringParsers._IParseResult<_System._ITuple2<__L, __R>>>((_3_valueOrError0).Extract(), _pat_let20_0 => Dafny.Helpers.Let<__L, Std.Parsers.StringParsers._IParseResult<_System._ITuple2<__L, __R>>>(_pat_let20_0.dtor__0, _4_l => Dafny.Helpers.Let<Std.Collections.Seq._ISlice<Dafny.Rune>, Std.Parsers.StringParsers._IParseResult<_System._ITuple2<__L, __R>>>(_pat_let20_0.dtor__1, _5_remainingLeft => Dafny.Helpers.Let<Std.Parsers.StringParsers._IParseResult<__R>, Std.Parsers.StringParsers._IParseResult<_System._ITuple2<__L, __R>>>(Dafny.Helpers.Id<Func<Std.Collections.Seq._ISlice<Dafny.Rune>, Std.Parsers.StringParsers._IParseResult<__R>>>(_1_right)(_2_input), _pat_let21_0 => Dafny.Helpers.Let<Std.Parsers.StringParsers._IParseResult<__R>, Std.Parsers.StringParsers._IParseResult<_System._ITuple2<__L, __R>>>(_pat_let21_0, _6_valueOrError1 => (((_6_valueOrError1).IsFailure()) ? ((_6_valueOrError1).PropagateFailure<_System._ITuple2<__L, __R>>()) : (Dafny.Helpers.Let<_System._ITuple2<__R, Std.Collections.Seq._ISlice<Dafny.Rune>>, Std.Parsers.StringParsers._IParseResult<_System._ITuple2<__L, __R>>>((_6_valueOrError1).Extract(), _pat_let22_0 => Dafny.Helpers.Let<__R, Std.Parsers.StringParsers._IParseResult<_System._ITuple2<__L, __R>>>(_pat_let22_0.dtor__0, _7_r => Dafny.Helpers.Let<Std.Collections.Seq._ISlice<Dafny.Rune>, Std.Parsers.StringParsers._IParseResult<_System._ITuple2<__L, __R>>>(_pat_let22_0.dtor__1, _8_remainingRight => Std.Parsers.StringParsers.ParseResult<_System._ITuple2<__L, __R>>.create_ParseSuccess(_System.Tuple2<__L, __R>.create(_4_l, _7_r), _8_remainingRight)))))))))))))));
      })))(left, right);
    }
    public static Func<Std.Collections.Seq._ISlice<Dafny.Rune>, Std.Parsers.StringParsers._IParseResult<__R>> Or<__R>(Func<Std.Collections.Seq._ISlice<Dafny.Rune>, Std.Parsers.StringParsers._IParseResult<__R>> left, Func<Std.Collections.Seq._ISlice<Dafny.Rune>, Std.Parsers.StringParsers._IParseResult<__R>> right)
    {
      return Dafny.Helpers.Id<Func<Func<Std.Collections.Seq._ISlice<Dafny.Rune>, Std.Parsers.StringParsers._IParseResult<__R>>, Func<Std.Collections.Seq._ISlice<Dafny.Rune>, Std.Parsers.StringParsers._IParseResult<__R>>, Func<Std.Collections.Seq._ISlice<Dafny.Rune>, Std.Parsers.StringParsers._IParseResult<__R>>>>((_0_left, _1_right) => ((System.Func<Std.Collections.Seq._ISlice<Dafny.Rune>, Std.Parsers.StringParsers._IParseResult<__R>>)((_2_input) => {
        return Dafny.Helpers.Let<Std.Parsers.StringParsers._IParseResult<__R>, Std.Parsers.StringParsers._IParseResult<__R>>(Dafny.Helpers.Id<Func<Std.Collections.Seq._ISlice<Dafny.Rune>, Std.Parsers.StringParsers._IParseResult<__R>>>(_0_left)(_2_input), _pat_let23_0 => Dafny.Helpers.Let<Std.Parsers.StringParsers._IParseResult<__R>, Std.Parsers.StringParsers._IParseResult<__R>>(_pat_let23_0, _3_p => ((!((_3_p).NeedsAlternative(_2_input))) ? (_3_p) : (Dafny.Helpers.Let<Std.Parsers.StringParsers._IParseResult<__R>, Std.Parsers.StringParsers._IParseResult<__R>>(Dafny.Helpers.Id<Func<Std.Collections.Seq._ISlice<Dafny.Rune>, Std.Parsers.StringParsers._IParseResult<__R>>>(_1_right)(_2_input), _pat_let24_0 => Dafny.Helpers.Let<Std.Parsers.StringParsers._IParseResult<__R>, Std.Parsers.StringParsers._IParseResult<__R>>(_pat_let24_0, _4_p2 => ((!((_4_p2).NeedsAlternative(_2_input))) ? (_4_p2) : ((_4_p2).MapRecoverableError(Dafny.Helpers.Id<Func<Std.Parsers.StringParsers._IParseResult<__R>, Func<Std.Parsers.StringParsers._IFailureData, Std.Parsers.StringParsers._IFailureData>>>((_5_p) => ((System.Func<Std.Parsers.StringParsers._IFailureData, Std.Parsers.StringParsers._IFailureData>)((_6_dataRight) => {
          return ((_5_p).dtor_data).Concat(_6_dataRight);
        })))(_3_p))))))))));
      })))(left, right);
    }
    public static Func<Std.Collections.Seq._ISlice<Dafny.Rune>, Std.Parsers.StringParsers._IParseResult<__R>> OrSeq<__R>(Dafny.ISequence<Func<Std.Collections.Seq._ISlice<Dafny.Rune>, Std.Parsers.StringParsers._IParseResult<__R>>> alternatives) {
      if ((new BigInteger((alternatives).Count)).Sign == 0) {
        return Std.Parsers.StringParsers.__default.FailWith<__R>(Dafny.Sequence<Dafny.Rune>.UnicodeFromString("no alternatives"), Std.Parsers.StringParsers.FailureLevel.create_Recoverable());
      } else if ((new BigInteger((alternatives).Count)) == (BigInteger.One)) {
        return (alternatives).Select(BigInteger.Zero);
      } else {
        return Std.Parsers.StringParsers.__default.Or<__R>((alternatives).Select(BigInteger.Zero), Std.Parsers.StringParsers.__default.OrSeq<__R>((alternatives).Drop(BigInteger.One)));
      }
    }
    public static Func<Std.Collections.Seq._ISlice<Dafny.Rune>, Std.Parsers.StringParsers._IParseResult<__R>> Lookahead<__R>(Func<Std.Collections.Seq._ISlice<Dafny.Rune>, Std.Parsers.StringParsers._IParseResult<__R>> underlying) {
      return Dafny.Helpers.Id<Func<Func<Std.Collections.Seq._ISlice<Dafny.Rune>, Std.Parsers.StringParsers._IParseResult<__R>>, Func<Std.Collections.Seq._ISlice<Dafny.Rune>, Std.Parsers.StringParsers._IParseResult<__R>>>>((_0_underlying) => ((System.Func<Std.Collections.Seq._ISlice<Dafny.Rune>, Std.Parsers.StringParsers._IParseResult<__R>>)((_1_input) => {
        return Dafny.Helpers.Let<Std.Parsers.StringParsers._IParseResult<__R>, Std.Parsers.StringParsers._IParseResult<__R>>(Dafny.Helpers.Id<Func<Std.Collections.Seq._ISlice<Dafny.Rune>, Std.Parsers.StringParsers._IParseResult<__R>>>(_0_underlying)(_1_input), _pat_let25_0 => Dafny.Helpers.Let<Std.Parsers.StringParsers._IParseResult<__R>, Std.Parsers.StringParsers._IParseResult<__R>>(_pat_let25_0, _2_p => (((_2_p).IsFailure()) ? ((((_2_p).IsFatal()) ? (_2_p) : (Dafny.Helpers.Let<Std.Parsers.StringParsers._IParseResult<__R>, Std.Parsers.StringParsers._IParseResult<__R>>(_2_p, _pat_let26_0 => Dafny.Helpers.Let<Std.Parsers.StringParsers._IParseResult<__R>, Std.Parsers.StringParsers._IParseResult<__R>>(_pat_let26_0, _3_dt__update__tmp_h0 => Dafny.Helpers.Let<Std.Parsers.StringParsers._IFailureData, Std.Parsers.StringParsers._IParseResult<__R>>(Std.Parsers.StringParsers.FailureData.create(((_2_p).dtor_data).dtor_message, _1_input, Std.Wrappers.Option<Std.Parsers.StringParsers._IFailureData>.create_None()), _pat_let27_0 => Dafny.Helpers.Let<Std.Parsers.StringParsers._IFailureData, Std.Parsers.StringParsers._IParseResult<__R>>(_pat_let27_0, _4_dt__update_hdata_h0 => Std.Parsers.StringParsers.ParseResult<__R>.create_ParseFailure((_3_dt__update__tmp_h0).dtor_level, _4_dt__update_hdata_h0)))))))) : (Dafny.Helpers.Let<Std.Parsers.StringParsers._IParseResult<__R>, Std.Parsers.StringParsers._IParseResult<__R>>(_2_p, _pat_let28_0 => Dafny.Helpers.Let<Std.Parsers.StringParsers._IParseResult<__R>, Std.Parsers.StringParsers._IParseResult<__R>>(_pat_let28_0, _5_dt__update__tmp_h1 => Dafny.Helpers.Let<Std.Collections.Seq._ISlice<Dafny.Rune>, Std.Parsers.StringParsers._IParseResult<__R>>(_1_input, _pat_let29_0 => Dafny.Helpers.Let<Std.Collections.Seq._ISlice<Dafny.Rune>, Std.Parsers.StringParsers._IParseResult<__R>>(_pat_let29_0, _6_dt__update_hremaining_h0 => Std.Parsers.StringParsers.ParseResult<__R>.create_ParseSuccess((_5_dt__update__tmp_h1).dtor_result, _6_dt__update_hremaining_h0)))))))));
      })))(underlying);
    }
    public static Func<Std.Collections.Seq._ISlice<Dafny.Rune>, Std.Parsers.StringParsers._IParseResult<__R>> _q<__R>(Func<Std.Collections.Seq._ISlice<Dafny.Rune>, Std.Parsers.StringParsers._IParseResult<__R>> underlying) {
      return Dafny.Helpers.Id<Func<Func<Std.Collections.Seq._ISlice<Dafny.Rune>, Std.Parsers.StringParsers._IParseResult<__R>>, Func<Std.Collections.Seq._ISlice<Dafny.Rune>, Std.Parsers.StringParsers._IParseResult<__R>>>>((_0_underlying) => ((System.Func<Std.Collections.Seq._ISlice<Dafny.Rune>, Std.Parsers.StringParsers._IParseResult<__R>>)((_1_input) => {
        return Dafny.Helpers.Let<Std.Parsers.StringParsers._IParseResult<__R>, Std.Parsers.StringParsers._IParseResult<__R>>(Dafny.Helpers.Id<Func<Std.Collections.Seq._ISlice<Dafny.Rune>, Std.Parsers.StringParsers._IParseResult<__R>>>(_0_underlying)(_1_input), _pat_let30_0 => Dafny.Helpers.Let<Std.Parsers.StringParsers._IParseResult<__R>, Std.Parsers.StringParsers._IParseResult<__R>>(_pat_let30_0, _2_p => (((_2_p).IsFailure()) ? ((((_2_p).IsFatal()) ? (_2_p) : (Dafny.Helpers.Let<Std.Parsers.StringParsers._IParseResult<__R>, Std.Parsers.StringParsers._IParseResult<__R>>(_2_p, _pat_let31_0 => Dafny.Helpers.Let<Std.Parsers.StringParsers._IParseResult<__R>, Std.Parsers.StringParsers._IParseResult<__R>>(_pat_let31_0, _3_dt__update__tmp_h0 => Dafny.Helpers.Let<Std.Parsers.StringParsers._IFailureData, Std.Parsers.StringParsers._IParseResult<__R>>(Std.Parsers.StringParsers.FailureData.create(((_2_p).dtor_data).dtor_message, _1_input, Std.Wrappers.Option<Std.Parsers.StringParsers._IFailureData>.create_None()), _pat_let32_0 => Dafny.Helpers.Let<Std.Parsers.StringParsers._IFailureData, Std.Parsers.StringParsers._IParseResult<__R>>(_pat_let32_0, _4_dt__update_hdata_h0 => Std.Parsers.StringParsers.ParseResult<__R>.create_ParseFailure((_3_dt__update__tmp_h0).dtor_level, _4_dt__update_hdata_h0)))))))) : (_2_p))));
      })))(underlying);
    }
    public static Func<Std.Collections.Seq._ISlice<Dafny.Rune>, Std.Parsers.StringParsers._IParseResult<__R>> If<__L, __R>(Func<Std.Collections.Seq._ISlice<Dafny.Rune>, Std.Parsers.StringParsers._IParseResult<__L>> condition, Func<Std.Collections.Seq._ISlice<Dafny.Rune>, Std.Parsers.StringParsers._IParseResult<__R>> succeed)
    {
      return Std.Parsers.StringParsers.__default.Bind<__L, __R>(Std.Parsers.StringParsers.__default.Lookahead<__L>(condition), Dafny.Helpers.Id<Func<Func<Std.Collections.Seq._ISlice<Dafny.Rune>, Std.Parsers.StringParsers._IParseResult<__R>>, Func<__L, Func<Std.Collections.Seq._ISlice<Dafny.Rune>, Std.Parsers.StringParsers._IParseResult<__R>>>>>((_0_succeed) => ((System.Func<__L, Func<Std.Collections.Seq._ISlice<Dafny.Rune>, Std.Parsers.StringParsers._IParseResult<__R>>>)((_1_l) => {
        return _0_succeed;
      })))(succeed));
    }
    public static Func<Std.Collections.Seq._ISlice<Dafny.Rune>, Std.Parsers.StringParsers._IParseResult<Std.Wrappers._IOption<__R>>> Maybe<__R>(Func<Std.Collections.Seq._ISlice<Dafny.Rune>, Std.Parsers.StringParsers._IParseResult<__R>> underlying) {
      return Dafny.Helpers.Id<Func<Func<Std.Collections.Seq._ISlice<Dafny.Rune>, Std.Parsers.StringParsers._IParseResult<__R>>, Func<Std.Collections.Seq._ISlice<Dafny.Rune>, Std.Parsers.StringParsers._IParseResult<Std.Wrappers._IOption<__R>>>>>((_0_underlying) => ((System.Func<Std.Collections.Seq._ISlice<Dafny.Rune>, Std.Parsers.StringParsers._IParseResult<Std.Wrappers._IOption<__R>>>)((_1_input) => {
        return Dafny.Helpers.Let<Std.Parsers.StringParsers._IParseResult<__R>, Std.Parsers.StringParsers._IParseResult<Std.Wrappers._IOption<__R>>>(Dafny.Helpers.Id<Func<Std.Collections.Seq._ISlice<Dafny.Rune>, Std.Parsers.StringParsers._IParseResult<__R>>>(_0_underlying)(_1_input), _pat_let33_0 => Dafny.Helpers.Let<Std.Parsers.StringParsers._IParseResult<__R>, Std.Parsers.StringParsers._IParseResult<Std.Wrappers._IOption<__R>>>(_pat_let33_0, _2_u => ((((_2_u).IsFatalFailure()) || (((_2_u).IsFailure()) && (!((_2_u).NeedsAlternative(_1_input))))) ? ((_2_u).PropagateFailure<Std.Wrappers._IOption<__R>>()) : ((((_2_u).is_ParseSuccess) ? (Std.Parsers.StringParsers.ParseResult<__R>.Map<Std.Wrappers._IOption<__R>>(_2_u, ((System.Func<__R, Std.Wrappers._IOption<__R>>)((_3_result) => {
          return Std.Wrappers.Option<__R>.create_Some(_3_result);
        })))) : (Std.Parsers.StringParsers.ParseResult<Std.Wrappers._IOption<__R>>.create_ParseSuccess(Std.Wrappers.Option<__R>.create_None(), _1_input)))))));
      })))(underlying);
    }
    public static Func<Std.Collections.Seq._ISlice<Dafny.Rune>, Std.Parsers.StringParsers._IParseResult<__T>> ConcatMap<__L, __R, __T>(Func<Std.Collections.Seq._ISlice<Dafny.Rune>, Std.Parsers.StringParsers._IParseResult<__L>> left, Func<Std.Collections.Seq._ISlice<Dafny.Rune>, Std.Parsers.StringParsers._IParseResult<__R>> right, Func<__L, __R, __T> mapper)
    {
      return Dafny.Helpers.Id<Func<Func<Std.Collections.Seq._ISlice<Dafny.Rune>, Std.Parsers.StringParsers._IParseResult<__L>>, Func<Std.Collections.Seq._ISlice<Dafny.Rune>, Std.Parsers.StringParsers._IParseResult<__R>>, Func<__L, __R, __T>, Func<Std.Collections.Seq._ISlice<Dafny.Rune>, Std.Parsers.StringParsers._IParseResult<__T>>>>((_0_left, _1_right, _2_mapper) => ((System.Func<Std.Collections.Seq._ISlice<Dafny.Rune>, Std.Parsers.StringParsers._IParseResult<__T>>)((_3_input) => {
        return Dafny.Helpers.Let<Std.Parsers.StringParsers._IParseResult<__L>, Std.Parsers.StringParsers._IParseResult<__T>>(Dafny.Helpers.Id<Func<Std.Collections.Seq._ISlice<Dafny.Rune>, Std.Parsers.StringParsers._IParseResult<__L>>>(_0_left)(_3_input), _pat_let34_0 => Dafny.Helpers.Let<Std.Parsers.StringParsers._IParseResult<__L>, Std.Parsers.StringParsers._IParseResult<__T>>(_pat_let34_0, _4_valueOrError0 => (((_4_valueOrError0).IsFailure()) ? ((_4_valueOrError0).PropagateFailure<__T>()) : (Dafny.Helpers.Let<_System._ITuple2<__L, Std.Collections.Seq._ISlice<Dafny.Rune>>, Std.Parsers.StringParsers._IParseResult<__T>>((_4_valueOrError0).Extract(), _pat_let35_0 => Dafny.Helpers.Let<__L, Std.Parsers.StringParsers._IParseResult<__T>>(_pat_let35_0.dtor__0, _5_l => Dafny.Helpers.Let<Std.Collections.Seq._ISlice<Dafny.Rune>, Std.Parsers.StringParsers._IParseResult<__T>>(_pat_let35_0.dtor__1, _6_remaining => Dafny.Helpers.Let<Std.Parsers.StringParsers._IParseResult<__R>, Std.Parsers.StringParsers._IParseResult<__T>>(Dafny.Helpers.Id<Func<Std.Collections.Seq._ISlice<Dafny.Rune>, Std.Parsers.StringParsers._IParseResult<__R>>>(_1_right)(_6_remaining), _pat_let36_0 => Dafny.Helpers.Let<Std.Parsers.StringParsers._IParseResult<__R>, Std.Parsers.StringParsers._IParseResult<__T>>(_pat_let36_0, _7_valueOrError1 => (((_7_valueOrError1).IsFailure()) ? ((_7_valueOrError1).PropagateFailure<__T>()) : (Dafny.Helpers.Let<_System._ITuple2<__R, Std.Collections.Seq._ISlice<Dafny.Rune>>, Std.Parsers.StringParsers._IParseResult<__T>>((_7_valueOrError1).Extract(), _pat_let37_0 => Dafny.Helpers.Let<__R, Std.Parsers.StringParsers._IParseResult<__T>>(_pat_let37_0.dtor__0, _8_r => Dafny.Helpers.Let<Std.Collections.Seq._ISlice<Dafny.Rune>, Std.Parsers.StringParsers._IParseResult<__T>>(_pat_let37_0.dtor__1, _9_remaining2 => Std.Parsers.StringParsers.ParseResult<__T>.create_ParseSuccess(Dafny.Helpers.Id<Func<__L, __R, __T>>(_2_mapper)(_5_l, _8_r), _9_remaining2)))))))))))))));
      })))(left, right, mapper);
    }
    public static Func<Std.Collections.Seq._ISlice<Dafny.Rune>, Std.Parsers.StringParsers._IParseResult<_System._ITuple2<__L, __R>>> Concat<__L, __R>(Func<Std.Collections.Seq._ISlice<Dafny.Rune>, Std.Parsers.StringParsers._IParseResult<__L>> left, Func<Std.Collections.Seq._ISlice<Dafny.Rune>, Std.Parsers.StringParsers._IParseResult<__R>> right)
    {
      return Dafny.Helpers.Id<Func<Func<Std.Collections.Seq._ISlice<Dafny.Rune>, Std.Parsers.StringParsers._IParseResult<__L>>, Func<Std.Collections.Seq._ISlice<Dafny.Rune>, Std.Parsers.StringParsers._IParseResult<__R>>, Func<Std.Collections.Seq._ISlice<Dafny.Rune>, Std.Parsers.StringParsers._IParseResult<_System._ITuple2<__L, __R>>>>>((_0_left, _1_right) => ((System.Func<Std.Collections.Seq._ISlice<Dafny.Rune>, Std.Parsers.StringParsers._IParseResult<_System._ITuple2<__L, __R>>>)((_2_input) => {
        return Dafny.Helpers.Let<Std.Parsers.StringParsers._IParseResult<__L>, Std.Parsers.StringParsers._IParseResult<_System._ITuple2<__L, __R>>>(Dafny.Helpers.Id<Func<Std.Collections.Seq._ISlice<Dafny.Rune>, Std.Parsers.StringParsers._IParseResult<__L>>>(_0_left)(_2_input), _pat_let38_0 => Dafny.Helpers.Let<Std.Parsers.StringParsers._IParseResult<__L>, Std.Parsers.StringParsers._IParseResult<_System._ITuple2<__L, __R>>>(_pat_let38_0, _3_valueOrError0 => (((_3_valueOrError0).IsFailure()) ? ((_3_valueOrError0).PropagateFailure<_System._ITuple2<__L, __R>>()) : (Dafny.Helpers.Let<_System._ITuple2<__L, Std.Collections.Seq._ISlice<Dafny.Rune>>, Std.Parsers.StringParsers._IParseResult<_System._ITuple2<__L, __R>>>((_3_valueOrError0).Extract(), _pat_let39_0 => Dafny.Helpers.Let<__L, Std.Parsers.StringParsers._IParseResult<_System._ITuple2<__L, __R>>>(_pat_let39_0.dtor__0, _4_l => Dafny.Helpers.Let<Std.Collections.Seq._ISlice<Dafny.Rune>, Std.Parsers.StringParsers._IParseResult<_System._ITuple2<__L, __R>>>(_pat_let39_0.dtor__1, _5_remaining => Dafny.Helpers.Let<Std.Parsers.StringParsers._IParseResult<__R>, Std.Parsers.StringParsers._IParseResult<_System._ITuple2<__L, __R>>>(Dafny.Helpers.Id<Func<Std.Collections.Seq._ISlice<Dafny.Rune>, Std.Parsers.StringParsers._IParseResult<__R>>>(_1_right)(_5_remaining), _pat_let40_0 => Dafny.Helpers.Let<Std.Parsers.StringParsers._IParseResult<__R>, Std.Parsers.StringParsers._IParseResult<_System._ITuple2<__L, __R>>>(_pat_let40_0, _6_valueOrError1 => (((_6_valueOrError1).IsFailure()) ? ((_6_valueOrError1).PropagateFailure<_System._ITuple2<__L, __R>>()) : (Dafny.Helpers.Let<_System._ITuple2<__R, Std.Collections.Seq._ISlice<Dafny.Rune>>, Std.Parsers.StringParsers._IParseResult<_System._ITuple2<__L, __R>>>((_6_valueOrError1).Extract(), _pat_let41_0 => Dafny.Helpers.Let<__R, Std.Parsers.StringParsers._IParseResult<_System._ITuple2<__L, __R>>>(_pat_let41_0.dtor__0, _7_r => Dafny.Helpers.Let<Std.Collections.Seq._ISlice<Dafny.Rune>, Std.Parsers.StringParsers._IParseResult<_System._ITuple2<__L, __R>>>(_pat_let41_0.dtor__1, _8_remaining2 => Std.Parsers.StringParsers.ParseResult<_System._ITuple2<__L, __R>>.create_ParseSuccess(_System.Tuple2<__L, __R>.create(_4_l, _7_r), _8_remaining2)))))))))))))));
      })))(left, right);
    }
    public static Func<Std.Collections.Seq._ISlice<Dafny.Rune>, Std.Parsers.StringParsers._IParseResult<__R>> ConcatKeepRight<__L, __R>(Func<Std.Collections.Seq._ISlice<Dafny.Rune>, Std.Parsers.StringParsers._IParseResult<__L>> left, Func<Std.Collections.Seq._ISlice<Dafny.Rune>, Std.Parsers.StringParsers._IParseResult<__R>> right)
    {
      return Std.Parsers.StringParsers.__default.ConcatMap<__L, __R, __R>(left, right, ((System.Func<__L, __R, __R>)((_0_l, _1_r) => {
        return _1_r;
      })));
    }
    public static Func<Std.Collections.Seq._ISlice<Dafny.Rune>, Std.Parsers.StringParsers._IParseResult<__L>> ConcatKeepLeft<__L, __R>(Func<Std.Collections.Seq._ISlice<Dafny.Rune>, Std.Parsers.StringParsers._IParseResult<__L>> left, Func<Std.Collections.Seq._ISlice<Dafny.Rune>, Std.Parsers.StringParsers._IParseResult<__R>> right)
    {
      return Std.Parsers.StringParsers.__default.ConcatMap<__L, __R, __L>(left, right, ((System.Func<__L, __R, __L>)((_0_l, _1_r) => {
        return _0_l;
      })));
    }
    public static Func<Std.Collections.Seq._ISlice<Dafny.Rune>, Std.Parsers.StringParsers._IParseResult<__R>> Debug<__R, __D>(Func<Std.Collections.Seq._ISlice<Dafny.Rune>, Std.Parsers.StringParsers._IParseResult<__R>> underlying, Dafny.ISequence<Dafny.Rune> name, Func<Dafny.ISequence<Dafny.Rune>, Std.Collections.Seq._ISlice<Dafny.Rune>, __D> onEnter, Func<Dafny.ISequence<Dafny.Rune>, __D, Std.Parsers.StringParsers._IParseResult<__R>, _System._ITuple0> onExit)
    {
      return Dafny.Helpers.Id<Func<Func<Dafny.ISequence<Dafny.Rune>, Std.Collections.Seq._ISlice<Dafny.Rune>, __D>, Dafny.ISequence<Dafny.Rune>, Func<Std.Collections.Seq._ISlice<Dafny.Rune>, Std.Parsers.StringParsers._IParseResult<__R>>, Func<Dafny.ISequence<Dafny.Rune>, __D, Std.Parsers.StringParsers._IParseResult<__R>, _System._ITuple0>, Func<Std.Collections.Seq._ISlice<Dafny.Rune>, Std.Parsers.StringParsers._IParseResult<__R>>>>((_0_onEnter, _1_name, _2_underlying, _3_onExit) => ((System.Func<Std.Collections.Seq._ISlice<Dafny.Rune>, Std.Parsers.StringParsers._IParseResult<__R>>)((_4_input) => {
        return Dafny.Helpers.Let<__D, Std.Parsers.StringParsers._IParseResult<__R>>(Dafny.Helpers.Id<Func<Dafny.ISequence<Dafny.Rune>, Std.Collections.Seq._ISlice<Dafny.Rune>, __D>>(_0_onEnter)(_1_name, _4_input), _pat_let42_0 => Dafny.Helpers.Let<__D, Std.Parsers.StringParsers._IParseResult<__R>>(_pat_let42_0, _5_debugData => Dafny.Helpers.Let<Std.Parsers.StringParsers._IParseResult<__R>, Std.Parsers.StringParsers._IParseResult<__R>>(Dafny.Helpers.Id<Func<Std.Collections.Seq._ISlice<Dafny.Rune>, Std.Parsers.StringParsers._IParseResult<__R>>>(_2_underlying)(_4_input), _pat_let43_0 => Dafny.Helpers.Let<Std.Parsers.StringParsers._IParseResult<__R>, Std.Parsers.StringParsers._IParseResult<__R>>(_pat_let43_0, _6_output => Dafny.Helpers.Let<_System._ITuple0, Std.Parsers.StringParsers._IParseResult<__R>>(Dafny.Helpers.Id<Func<Dafny.ISequence<Dafny.Rune>, __D, Std.Parsers.StringParsers._IParseResult<__R>, _System._ITuple0>>(_3_onExit)(_1_name, _5_debugData, _6_output), _pat_let44_0 => Dafny.Helpers.Let<_System._ITuple0, Std.Parsers.StringParsers._IParseResult<__R>>(_pat_let44_0, _7___v16 => _6_output))))));
      })))(onEnter, name, underlying, onExit);
    }
    public static Func<Std.Collections.Seq._ISlice<Dafny.Rune>, Std.Parsers.StringParsers._IParseResult<Dafny.ISequence<__R>>> ZeroOrMore<__R>(Func<Std.Collections.Seq._ISlice<Dafny.Rune>, Std.Parsers.StringParsers._IParseResult<__R>> underlying) {
      return Std.Parsers.StringParsers.__default.Map<Std.Parsers.StringParsers._ISeqB<__R>, Dafny.ISequence<__R>>(Std.Parsers.StringParsers.__default.Rep<Std.Parsers.StringParsers._ISeqB<__R>, __R>(underlying, ((System.Func<Std.Parsers.StringParsers._ISeqB<__R>, __R, Std.Parsers.StringParsers._ISeqB<__R>>)((_0_result, _1_r) => {
        return (_0_result).Append(_1_r);
      })), Std.Parsers.StringParsers.SeqB<__R>.create_SeqBNil()), ((System.Func<Std.Parsers.StringParsers._ISeqB<__R>, Dafny.ISequence<__R>>)((_2_result) => {
        return (_2_result).ToSequence();
      })));
    }
    public static Func<Std.Collections.Seq._ISlice<Dafny.Rune>, Std.Parsers.StringParsers._IParseResult<Dafny.ISequence<__R>>> OneOrMore<__R>(Func<Std.Collections.Seq._ISlice<Dafny.Rune>, Std.Parsers.StringParsers._IParseResult<__R>> underlying) {
      return Std.Parsers.StringParsers.__default.Bind<__R, Dafny.ISequence<__R>>(underlying, Dafny.Helpers.Id<Func<Func<Std.Collections.Seq._ISlice<Dafny.Rune>, Std.Parsers.StringParsers._IParseResult<__R>>, Func<__R, Func<Std.Collections.Seq._ISlice<Dafny.Rune>, Std.Parsers.StringParsers._IParseResult<Dafny.ISequence<__R>>>>>>((_0_underlying) => ((System.Func<__R, Func<Std.Collections.Seq._ISlice<Dafny.Rune>, Std.Parsers.StringParsers._IParseResult<Dafny.ISequence<__R>>>>)((_1_r) => {
        return Std.Parsers.StringParsers.__default.Map<Std.Parsers.StringParsers._ISeqB<__R>, Dafny.ISequence<__R>>(Std.Parsers.StringParsers.__default.Rep<Std.Parsers.StringParsers._ISeqB<__R>, __R>(_0_underlying, ((System.Func<Std.Parsers.StringParsers._ISeqB<__R>, __R, Std.Parsers.StringParsers._ISeqB<__R>>)((_2_result, _3_r) => {
          return (_2_result).Append(_3_r);
        })), Std.Parsers.StringParsers.SeqB<__R>.create_SeqBCons(_1_r, Std.Parsers.StringParsers.SeqB<__R>.create_SeqBNil())), ((System.Func<Std.Parsers.StringParsers._ISeqB<__R>, Dafny.ISequence<__R>>)((_4_result) => {
          return (_4_result).ToSequence();
        })));
      })))(underlying));
    }
    public static Func<Std.Collections.Seq._ISlice<Dafny.Rune>, Std.Parsers.StringParsers._IParseResult<__A>> Rep<__A, __B>(Func<Std.Collections.Seq._ISlice<Dafny.Rune>, Std.Parsers.StringParsers._IParseResult<__B>> underlying, Func<__A, __B, __A> combine, __A acc)
    {
      return Dafny.Helpers.Id<Func<Func<Std.Collections.Seq._ISlice<Dafny.Rune>, Std.Parsers.StringParsers._IParseResult<__B>>, Func<__A, __B, __A>, __A, Func<Std.Collections.Seq._ISlice<Dafny.Rune>, Std.Parsers.StringParsers._IParseResult<__A>>>>((_0_underlying, _1_combine, _2_acc) => ((System.Func<Std.Collections.Seq._ISlice<Dafny.Rune>, Std.Parsers.StringParsers._IParseResult<__A>>)((_3_input) => {
        return Std.Parsers.StringParsers.__default.Rep__<__A, __B>(_0_underlying, _1_combine, _2_acc, _3_input);
      })))(underlying, combine, acc);
    }
    public static Func<Std.Collections.Seq._ISlice<Dafny.Rune>, Std.Parsers.StringParsers._IParseResult<Dafny.ISequence<__A>>> RepSep<__A, __B>(Func<Std.Collections.Seq._ISlice<Dafny.Rune>, Std.Parsers.StringParsers._IParseResult<__A>> underlying, Func<Std.Collections.Seq._ISlice<Dafny.Rune>, Std.Parsers.StringParsers._IParseResult<__B>> separator)
    {
      return Std.Parsers.StringParsers.__default.Bind<Std.Wrappers._IOption<__A>, Dafny.ISequence<__A>>(Std.Parsers.StringParsers.__default.Maybe<__A>(underlying), Dafny.Helpers.Id<Func<Func<Std.Collections.Seq._ISlice<Dafny.Rune>, Std.Parsers.StringParsers._IParseResult<__B>>, Func<Std.Collections.Seq._ISlice<Dafny.Rune>, Std.Parsers.StringParsers._IParseResult<__A>>, Func<Std.Wrappers._IOption<__A>, Func<Std.Collections.Seq._ISlice<Dafny.Rune>, Std.Parsers.StringParsers._IParseResult<Dafny.ISequence<__A>>>>>>((_0_separator, _1_underlying) => ((System.Func<Std.Wrappers._IOption<__A>, Func<Std.Collections.Seq._ISlice<Dafny.Rune>, Std.Parsers.StringParsers._IParseResult<Dafny.ISequence<__A>>>>)((_2_result) => {
        return (((_2_result).is_None) ? (Std.Parsers.StringParsers.__default.SucceedWith<Dafny.ISequence<__A>>(Dafny.Sequence<__A>.FromElements())) : (Std.Parsers.StringParsers.__default.Map<Std.Parsers.StringParsers._ISeqB<__A>, Dafny.ISequence<__A>>(Std.Parsers.StringParsers.__default.Rep<Std.Parsers.StringParsers._ISeqB<__A>, __A>(Std.Parsers.StringParsers.__default.ConcatKeepRight<__B, __A>(_0_separator, _1_underlying), ((System.Func<Std.Parsers.StringParsers._ISeqB<__A>, __A, Std.Parsers.StringParsers._ISeqB<__A>>)((_3_acc, _4_a) => {
          return (_3_acc).Append(_4_a);
        })), Std.Parsers.StringParsers.SeqB<__A>.create_SeqBCons((_2_result).dtor_value, Std.Parsers.StringParsers.SeqB<__A>.create_SeqBNil())), ((System.Func<Std.Parsers.StringParsers._ISeqB<__A>, Dafny.ISequence<__A>>)((_5_result) => {
          return (_5_result).ToSequence();
        })))));
      })))(separator, underlying));
    }
    public static Func<Std.Collections.Seq._ISlice<Dafny.Rune>, Std.Parsers.StringParsers._IParseResult<__A>> RepMerge<__A>(Func<Std.Collections.Seq._ISlice<Dafny.Rune>, Std.Parsers.StringParsers._IParseResult<__A>> underlying, Func<__A, __A, __A> merger)
    {
      return Std.Parsers.StringParsers.__default.Bind<Std.Wrappers._IOption<__A>, __A>(Std.Parsers.StringParsers.__default.Maybe<__A>(underlying), Dafny.Helpers.Id<Func<Func<Std.Collections.Seq._ISlice<Dafny.Rune>, Std.Parsers.StringParsers._IParseResult<__A>>, Func<__A, __A, __A>, Func<Std.Wrappers._IOption<__A>, Func<Std.Collections.Seq._ISlice<Dafny.Rune>, Std.Parsers.StringParsers._IParseResult<__A>>>>>((_0_underlying, _1_merger) => ((System.Func<Std.Wrappers._IOption<__A>, Func<Std.Collections.Seq._ISlice<Dafny.Rune>, Std.Parsers.StringParsers._IParseResult<__A>>>)((_2_result) => {
        return (((_2_result).is_None) ? (Std.Parsers.StringParsers.__default.FailWith<__A>(Dafny.Sequence<Dafny.Rune>.UnicodeFromString("No first element in RepMerge"), Std.Parsers.StringParsers.FailureLevel.create_Recoverable())) : (Std.Parsers.StringParsers.__default.Rep<__A, __A>(_0_underlying, Dafny.Helpers.Id<Func<Func<__A, __A, __A>, Func<__A, __A, __A>>>((_3_merger) => ((System.Func<__A, __A, __A>)((_4_acc, _5_a) => {
          return Dafny.Helpers.Id<Func<__A, __A, __A>>(_3_merger)(_4_acc, _5_a);
        })))(_1_merger), (_2_result).dtor_value)));
      })))(underlying, merger));
    }
    public static Func<Std.Collections.Seq._ISlice<Dafny.Rune>, Std.Parsers.StringParsers._IParseResult<__A>> RepSepMerge<__A, __B>(Func<Std.Collections.Seq._ISlice<Dafny.Rune>, Std.Parsers.StringParsers._IParseResult<__A>> underlying, Func<Std.Collections.Seq._ISlice<Dafny.Rune>, Std.Parsers.StringParsers._IParseResult<__B>> separator, Func<__A, __A, __A> merger)
    {
      return Std.Parsers.StringParsers.__default.Bind<Std.Wrappers._IOption<__A>, __A>(Std.Parsers.StringParsers.__default.Maybe<__A>(underlying), Dafny.Helpers.Id<Func<Func<Std.Collections.Seq._ISlice<Dafny.Rune>, Std.Parsers.StringParsers._IParseResult<__B>>, Func<Std.Collections.Seq._ISlice<Dafny.Rune>, Std.Parsers.StringParsers._IParseResult<__A>>, Func<__A, __A, __A>, Func<Std.Wrappers._IOption<__A>, Func<Std.Collections.Seq._ISlice<Dafny.Rune>, Std.Parsers.StringParsers._IParseResult<__A>>>>>((_0_separator, _1_underlying, _2_merger) => ((System.Func<Std.Wrappers._IOption<__A>, Func<Std.Collections.Seq._ISlice<Dafny.Rune>, Std.Parsers.StringParsers._IParseResult<__A>>>)((_3_result) => {
        return (((_3_result).is_None) ? (Std.Parsers.StringParsers.__default.FailWith<__A>(Dafny.Sequence<Dafny.Rune>.UnicodeFromString("No first element in RepSepMerge"), Std.Parsers.StringParsers.FailureLevel.create_Recoverable())) : (Std.Parsers.StringParsers.__default.Rep<__A, __A>(Std.Parsers.StringParsers.__default.ConcatKeepRight<__B, __A>(_0_separator, _1_underlying), Dafny.Helpers.Id<Func<Func<__A, __A, __A>, Func<__A, __A, __A>>>((_4_merger) => ((System.Func<__A, __A, __A>)((_5_acc, _6_a) => {
          return Dafny.Helpers.Id<Func<__A, __A, __A>>(_4_merger)(_5_acc, _6_a);
        })))(_2_merger), (_3_result).dtor_value)));
      })))(separator, underlying, merger));
    }
    public static Std.Parsers.StringParsers._IParseResult<__A> Rep__<__A, __B>(Func<Std.Collections.Seq._ISlice<Dafny.Rune>, Std.Parsers.StringParsers._IParseResult<__B>> underlying, Func<__A, __B, __A> combine, __A acc, Std.Collections.Seq._ISlice<Dafny.Rune> input)
    {
    TAIL_CALL_START: ;
      Std.Parsers.StringParsers._IParseResult<__B> _source0 = Dafny.Helpers.Id<Func<Std.Collections.Seq._ISlice<Dafny.Rune>, Std.Parsers.StringParsers._IParseResult<__B>>>(underlying)(input);
      {
        if (_source0.is_ParseSuccess) {
          __B _0_result = _source0.dtor_result;
          Std.Collections.Seq._ISlice<Dafny.Rune> _1_remaining = _source0.dtor_remaining;
          if ((Std.Parsers.InputString.__default.Length(_1_remaining)) >= (Std.Parsers.InputString.__default.Length(input))) {
            return Std.Parsers.StringParsers.ParseResult<__A>.create_ParseSuccess(acc, input);
          } else {
            Func<Std.Collections.Seq._ISlice<Dafny.Rune>, Std.Parsers.StringParsers._IParseResult<__B>> _in0 = underlying;
            Func<__A, __B, __A> _in1 = combine;
            __A _in2 = Dafny.Helpers.Id<Func<__A, __B, __A>>(combine)(acc, _0_result);
            Std.Collections.Seq._ISlice<Dafny.Rune> _in3 = _1_remaining;
            underlying = _in0;
            combine = _in1;
            acc = _in2;
            input = _in3;
            goto TAIL_CALL_START;
          }
        }
      }
      {
        Std.Parsers.StringParsers._IParseResult<__B> _2_failure = _source0;
        if ((_2_failure).NeedsAlternative(input)) {
          return Std.Parsers.StringParsers.ParseResult<__A>.create_ParseSuccess(acc, input);
        } else {
          return (_2_failure).PropagateFailure<__A>();
        }
      }
    }
    public static Func<Std.Collections.Seq._ISlice<Dafny.Rune>, Std.Parsers.StringParsers._IParseResult<__R>> Recursive<__R>(Func<Func<Std.Collections.Seq._ISlice<Dafny.Rune>, Std.Parsers.StringParsers._IParseResult<__R>>, Func<Std.Collections.Seq._ISlice<Dafny.Rune>, Std.Parsers.StringParsers._IParseResult<__R>>> underlying) {
      return Dafny.Helpers.Id<Func<Func<Func<Std.Collections.Seq._ISlice<Dafny.Rune>, Std.Parsers.StringParsers._IParseResult<__R>>, Func<Std.Collections.Seq._ISlice<Dafny.Rune>, Std.Parsers.StringParsers._IParseResult<__R>>>, Func<Std.Collections.Seq._ISlice<Dafny.Rune>, Std.Parsers.StringParsers._IParseResult<__R>>>>((_0_underlying) => ((System.Func<Std.Collections.Seq._ISlice<Dafny.Rune>, Std.Parsers.StringParsers._IParseResult<__R>>)((_1_input) => {
        return Std.Parsers.StringParsers.__default.Recursive__<__R>(_0_underlying, _1_input);
      })))(underlying);
    }
    public static Std.Parsers.StringParsers._IParseResult<__R> RecursiveProgressError<__R>(Dafny.ISequence<Dafny.Rune> name, Std.Collections.Seq._ISlice<Dafny.Rune> input, Std.Collections.Seq._ISlice<Dafny.Rune> remaining)
    {
      if ((Std.Parsers.InputString.__default.Length(remaining)) == (Std.Parsers.InputString.__default.Length(input))) {
        return Std.Parsers.StringParsers.ParseResult<__R>.create_ParseFailure(Std.Parsers.StringParsers.FailureLevel.create_Recoverable(), Std.Parsers.StringParsers.FailureData.create(Dafny.Sequence<Dafny.Rune>.Concat(name, Dafny.Sequence<Dafny.Rune>.UnicodeFromString(" no progress in recursive parser")), remaining, Std.Wrappers.Option<Std.Parsers.StringParsers._IFailureData>.create_None()));
      } else {
        return Std.Parsers.StringParsers.ParseResult<__R>.create_ParseFailure(Std.Parsers.StringParsers.FailureLevel.create_Fatal(), Std.Parsers.StringParsers.FailureData.create(Dafny.Sequence<Dafny.Rune>.Concat(name, Dafny.Sequence<Dafny.Rune>.UnicodeFromString("fixpoint called with an increasing remaining sequence")), remaining, Std.Wrappers.Option<Std.Parsers.StringParsers._IFailureData>.create_None()));
      }
    }
    public static Std.Parsers.StringParsers._IParseResult<__R> Recursive__<__R>(Func<Func<Std.Collections.Seq._ISlice<Dafny.Rune>, Std.Parsers.StringParsers._IParseResult<__R>>, Func<Std.Collections.Seq._ISlice<Dafny.Rune>, Std.Parsers.StringParsers._IParseResult<__R>>> underlying, Std.Collections.Seq._ISlice<Dafny.Rune> input)
    {
      Func<Std.Collections.Seq._ISlice<Dafny.Rune>, Std.Parsers.StringParsers._IParseResult<__R>> _0_callback = Dafny.Helpers.Id<Func<Std.Collections.Seq._ISlice<Dafny.Rune>, Func<Func<Std.Collections.Seq._ISlice<Dafny.Rune>, Std.Parsers.StringParsers._IParseResult<__R>>, Func<Std.Collections.Seq._ISlice<Dafny.Rune>, Std.Parsers.StringParsers._IParseResult<__R>>>, Func<Std.Collections.Seq._ISlice<Dafny.Rune>, Std.Parsers.StringParsers._IParseResult<__R>>>>((_1_input, _2_underlying) => ((System.Func<Std.Collections.Seq._ISlice<Dafny.Rune>, Std.Parsers.StringParsers._IParseResult<__R>>)((_3_remaining) => {
        return (((Std.Parsers.InputString.__default.Length(_3_remaining)) < (Std.Parsers.InputString.__default.Length(_1_input))) ? (Std.Parsers.StringParsers.__default.Recursive__<__R>(_2_underlying, _3_remaining)) : (Std.Parsers.StringParsers.__default.RecursiveProgressError<__R>(Dafny.Sequence<Dafny.Rune>.UnicodeFromString("Parsers.Recursive"), _1_input, _3_remaining)));
      })))(input, underlying);
      return Dafny.Helpers.Id<Func<Std.Collections.Seq._ISlice<Dafny.Rune>, Std.Parsers.StringParsers._IParseResult<__R>>>(Dafny.Helpers.Id<Func<Func<Std.Collections.Seq._ISlice<Dafny.Rune>, Std.Parsers.StringParsers._IParseResult<__R>>, Func<Std.Collections.Seq._ISlice<Dafny.Rune>, Std.Parsers.StringParsers._IParseResult<__R>>>>(underlying)(_0_callback))(input);
    }
    public static Func<Std.Collections.Seq._ISlice<Dafny.Rune>, Std.Parsers.StringParsers._IParseResult<__R>> RecursiveNoStack<__R>(Func<Std.Collections.Seq._ISlice<Dafny.Rune>, Std.Parsers.StringParsers._IParseResult<Std.Parsers.StringParsers._IRecursiveNoStackResult<__R>>> underlying) {
      return Dafny.Helpers.Id<Func<Func<Std.Collections.Seq._ISlice<Dafny.Rune>, Std.Parsers.StringParsers._IParseResult<Std.Parsers.StringParsers._IRecursiveNoStackResult<__R>>>, Func<Std.Collections.Seq._ISlice<Dafny.Rune>, Std.Parsers.StringParsers._IParseResult<__R>>>>((_0_underlying) => ((System.Func<Std.Collections.Seq._ISlice<Dafny.Rune>, Std.Parsers.StringParsers._IParseResult<__R>>)((_1_input) => {
        return Std.Parsers.StringParsers.__default.RecursiveNoStack__<__R>(_0_underlying, _0_underlying, _1_input, Dafny.Sequence<Func<Std.Parsers.StringParsers._IParseResult<__R>, Func<Std.Collections.Seq._ISlice<Dafny.Rune>, Std.Parsers.StringParsers._IParseResult<Std.Parsers.StringParsers._IRecursiveNoStackResult<__R>>>>>.FromElements());
      })))(underlying);
    }
    public static Std.Parsers.StringParsers._IParseResult<__R> RecursiveNoStack__<__R>(Func<Std.Collections.Seq._ISlice<Dafny.Rune>, Std.Parsers.StringParsers._IParseResult<Std.Parsers.StringParsers._IRecursiveNoStackResult<__R>>> continuation, Func<Std.Collections.Seq._ISlice<Dafny.Rune>, Std.Parsers.StringParsers._IParseResult<Std.Parsers.StringParsers._IRecursiveNoStackResult<__R>>> underlying, Std.Collections.Seq._ISlice<Dafny.Rune> input, Dafny.ISequence<Func<Std.Parsers.StringParsers._IParseResult<__R>, Func<Std.Collections.Seq._ISlice<Dafny.Rune>, Std.Parsers.StringParsers._IParseResult<Std.Parsers.StringParsers._IRecursiveNoStackResult<__R>>>>> callbacks)
    {
    TAIL_CALL_START: ;
      Std.Parsers.StringParsers._IParseResult<Std.Parsers.StringParsers._IRecursiveNoStackResult<__R>> _0_valueOrError0 = Dafny.Helpers.Id<Func<Std.Collections.Seq._ISlice<Dafny.Rune>, Std.Parsers.StringParsers._IParseResult<Std.Parsers.StringParsers._IRecursiveNoStackResult<__R>>>>(continuation)(input);
      if ((_0_valueOrError0).IsFailure()) {
        return (_0_valueOrError0).PropagateFailure<__R>();
      } else {
        _System._ITuple2<Std.Parsers.StringParsers._IRecursiveNoStackResult<__R>, Std.Collections.Seq._ISlice<Dafny.Rune>> _let_tmp_rhs0 = (_0_valueOrError0).Extract();
        Std.Parsers.StringParsers._IRecursiveNoStackResult<__R> _1_recursor = _let_tmp_rhs0.dtor__0;
        Std.Collections.Seq._ISlice<Dafny.Rune> _2_remaining = _let_tmp_rhs0.dtor__1;
        Std.Parsers.StringParsers._IRecursiveNoStackResult<__R> _source0 = _1_recursor;
        {
          if (_source0.is_RecursiveReturn) {
            __R _3_result = _source0.dtor_RecursiveReturn_a0;
            if ((new BigInteger((callbacks).Count)).Sign == 0) {
              return Std.Parsers.StringParsers.ParseResult<__R>.create_ParseSuccess(_3_result, _2_remaining);
            } else {
              Func<Std.Collections.Seq._ISlice<Dafny.Rune>, Std.Parsers.StringParsers._IParseResult<Std.Parsers.StringParsers._IRecursiveNoStackResult<__R>>> _4_toCompute = Dafny.Helpers.Id<Func<Std.Parsers.StringParsers._IParseResult<__R>, Func<Std.Collections.Seq._ISlice<Dafny.Rune>, Std.Parsers.StringParsers._IParseResult<Std.Parsers.StringParsers._IRecursiveNoStackResult<__R>>>>>((callbacks).Select(BigInteger.Zero))(Std.Parsers.StringParsers.ParseResult<__R>.create_ParseSuccess(_3_result, _2_remaining));
              if ((Std.Parsers.InputString.__default.Length(input)) < (Std.Parsers.InputString.__default.Length(_2_remaining))) {
                return Std.Parsers.StringParsers.__default.RecursiveProgressError<__R>(Dafny.Sequence<Dafny.Rune>.UnicodeFromString("Parsers.RecursiveNoStack[internal]"), input, _2_remaining);
              } else {
                Func<Std.Collections.Seq._ISlice<Dafny.Rune>, Std.Parsers.StringParsers._IParseResult<Std.Parsers.StringParsers._IRecursiveNoStackResult<__R>>> _in0 = _4_toCompute;
                Func<Std.Collections.Seq._ISlice<Dafny.Rune>, Std.Parsers.StringParsers._IParseResult<Std.Parsers.StringParsers._IRecursiveNoStackResult<__R>>> _in1 = underlying;
                Std.Collections.Seq._ISlice<Dafny.Rune> _in2 = _2_remaining;
                Dafny.ISequence<Func<Std.Parsers.StringParsers._IParseResult<__R>, Func<Std.Collections.Seq._ISlice<Dafny.Rune>, Std.Parsers.StringParsers._IParseResult<Std.Parsers.StringParsers._IRecursiveNoStackResult<__R>>>>> _in3 = (callbacks).Drop(BigInteger.One);
                continuation = _in0;
                underlying = _in1;
                input = _in2;
                callbacks = _in3;
                goto TAIL_CALL_START;
              }
            }
          }
        }
        {
          Func<__R, Func<Std.Collections.Seq._ISlice<Dafny.Rune>, Std.Parsers.StringParsers._IParseResult<Std.Parsers.StringParsers._IRecursiveNoStackResult<__R>>>> _5_rToNewParserOfRecursiveNoStackResultOfR = _source0.dtor_RecursiveContinue_a0;
          if ((Std.Parsers.InputString.__default.Length(input)) <= (Std.Parsers.InputString.__default.Length(_2_remaining))) {
            return Std.Parsers.StringParsers.__default.RecursiveProgressError<__R>(Dafny.Sequence<Dafny.Rune>.UnicodeFromString("Parsers.RecursiveNoStack"), input, _2_remaining);
          } else {
            Func<Std.Collections.Seq._ISlice<Dafny.Rune>, Std.Parsers.StringParsers._IParseResult<Std.Parsers.StringParsers._IRecursiveNoStackResult<__R>>> _in4 = underlying;
            Func<Std.Collections.Seq._ISlice<Dafny.Rune>, Std.Parsers.StringParsers._IParseResult<Std.Parsers.StringParsers._IRecursiveNoStackResult<__R>>> _in5 = underlying;
            Std.Collections.Seq._ISlice<Dafny.Rune> _in6 = _2_remaining;
            Dafny.ISequence<Func<Std.Parsers.StringParsers._IParseResult<__R>, Func<Std.Collections.Seq._ISlice<Dafny.Rune>, Std.Parsers.StringParsers._IParseResult<Std.Parsers.StringParsers._IRecursiveNoStackResult<__R>>>>> _in7 = Dafny.Sequence<Func<Std.Parsers.StringParsers._IParseResult<__R>, Func<Std.Collections.Seq._ISlice<Dafny.Rune>, Std.Parsers.StringParsers._IParseResult<Std.Parsers.StringParsers._IRecursiveNoStackResult<__R>>>>>.Concat(Dafny.Sequence<Func<Std.Parsers.StringParsers._IParseResult<__R>, Func<Std.Collections.Seq._ISlice<Dafny.Rune>, Std.Parsers.StringParsers._IParseResult<Std.Parsers.StringParsers._IRecursiveNoStackResult<__R>>>>>.FromElements(Dafny.Helpers.Id<Func<Func<__R, Func<Std.Collections.Seq._ISlice<Dafny.Rune>, Std.Parsers.StringParsers._IParseResult<Std.Parsers.StringParsers._IRecursiveNoStackResult<__R>>>>, Func<Std.Parsers.StringParsers._IParseResult<__R>, Func<Std.Collections.Seq._ISlice<Dafny.Rune>, Std.Parsers.StringParsers._IParseResult<Std.Parsers.StringParsers._IRecursiveNoStackResult<__R>>>>>>((_6_rToNewParserOfRecursiveNoStackResultOfR) => ((System.Func<Std.Parsers.StringParsers._IParseResult<__R>, Func<Std.Collections.Seq._ISlice<Dafny.Rune>, Std.Parsers.StringParsers._IParseResult<Std.Parsers.StringParsers._IRecursiveNoStackResult<__R>>>>)((_7_p) => {
              return (((_7_p).IsFailure()) ? (Std.Parsers.StringParsers.__default.ResultWith<Std.Parsers.StringParsers._IRecursiveNoStackResult<__R>>((_7_p).PropagateFailure<Std.Parsers.StringParsers._IRecursiveNoStackResult<__R>>())) : (Dafny.Helpers.Let<_System._ITuple2<__R, Std.Collections.Seq._ISlice<Dafny.Rune>>, Func<Std.Collections.Seq._ISlice<Dafny.Rune>, Std.Parsers.StringParsers._IParseResult<Std.Parsers.StringParsers._IRecursiveNoStackResult<__R>>>>((_7_p).Extract(), _pat_let45_0 => Dafny.Helpers.Let<__R, Func<Std.Collections.Seq._ISlice<Dafny.Rune>, Std.Parsers.StringParsers._IParseResult<Std.Parsers.StringParsers._IRecursiveNoStackResult<__R>>>>(_pat_let45_0.dtor__0, _8_r => Dafny.Helpers.Let<Std.Collections.Seq._ISlice<Dafny.Rune>, Func<Std.Collections.Seq._ISlice<Dafny.Rune>, Std.Parsers.StringParsers._IParseResult<Std.Parsers.StringParsers._IRecursiveNoStackResult<__R>>>>(_pat_let45_0.dtor__1, _9_remaining2 => Dafny.Helpers.Id<Func<__R, Func<Std.Collections.Seq._ISlice<Dafny.Rune>, Std.Parsers.StringParsers._IParseResult<Std.Parsers.StringParsers._IRecursiveNoStackResult<__R>>>>>(_6_rToNewParserOfRecursiveNoStackResultOfR)(_8_r))))));
            })))(_5_rToNewParserOfRecursiveNoStackResultOfR)), callbacks);
            continuation = _in4;
            underlying = _in5;
            input = _in6;
            callbacks = _in7;
            goto TAIL_CALL_START;
          }
        }
      }
    }
    public static Func<Std.Collections.Seq._ISlice<Dafny.Rune>, Std.Parsers.StringParsers._IParseResult<__R>> RecursiveMap<__R>(Dafny.IMap<Dafny.ISequence<Dafny.Rune>,Std.Parsers.StringParsers._IRecursiveDef<__R>> underlying, Dafny.ISequence<Dafny.Rune> fun)
    {
      return Dafny.Helpers.Id<Func<Dafny.IMap<Dafny.ISequence<Dafny.Rune>,Std.Parsers.StringParsers._IRecursiveDef<__R>>, Dafny.ISequence<Dafny.Rune>, Func<Std.Collections.Seq._ISlice<Dafny.Rune>, Std.Parsers.StringParsers._IParseResult<__R>>>>((_0_underlying, _1_fun) => ((System.Func<Std.Collections.Seq._ISlice<Dafny.Rune>, Std.Parsers.StringParsers._IParseResult<__R>>)((_2_input) => {
        return Std.Parsers.StringParsers.__default.RecursiveMap__<__R>(_0_underlying, _1_fun, _2_input);
      })))(underlying, fun);
    }
    public static Std.Parsers.StringParsers._IParseResult<__R> RecursiveMap__<__R>(Dafny.IMap<Dafny.ISequence<Dafny.Rune>,Std.Parsers.StringParsers._IRecursiveDef<__R>> underlying, Dafny.ISequence<Dafny.Rune> fun, Std.Collections.Seq._ISlice<Dafny.Rune> input)
    {
      if (!(underlying).Contains(fun)) {
        return Std.Parsers.StringParsers.ParseResult<__R>.create_ParseFailure(Std.Parsers.StringParsers.FailureLevel.create_Fatal(), Std.Parsers.StringParsers.FailureData.create(Dafny.Sequence<Dafny.Rune>.Concat(Dafny.Sequence<Dafny.Rune>.Concat(Dafny.Sequence<Dafny.Rune>.UnicodeFromString("parser '"), fun), Dafny.Sequence<Dafny.Rune>.UnicodeFromString("' not found")), input, Std.Wrappers.Option<Std.Parsers.StringParsers._IFailureData>.create_None()));
      } else {
        Std.Parsers.StringParsers._IRecursiveDef<__R> _let_tmp_rhs0 = Dafny.Map<Dafny.ISequence<Dafny.Rune>, Std.Parsers.StringParsers._IRecursiveDef<__R>>.Select(underlying,fun);
        BigInteger _0_orderFun = _let_tmp_rhs0.dtor_order;
        Func<Func<Dafny.ISequence<Dafny.Rune>, Func<Std.Collections.Seq._ISlice<Dafny.Rune>, Std.Parsers.StringParsers._IParseResult<__R>>>, Func<Std.Collections.Seq._ISlice<Dafny.Rune>, Std.Parsers.StringParsers._IParseResult<__R>>> _1_definitionFun = _let_tmp_rhs0.dtor_definition;
        Func<Dafny.ISequence<Dafny.Rune>, Func<Std.Collections.Seq._ISlice<Dafny.Rune>, Std.Parsers.StringParsers._IParseResult<__R>>> _2_callback = Dafny.Helpers.Id<Func<Dafny.IMap<Dafny.ISequence<Dafny.Rune>,Std.Parsers.StringParsers._IRecursiveDef<__R>>, Std.Collections.Seq._ISlice<Dafny.Rune>, BigInteger, Dafny.ISequence<Dafny.Rune>, Func<Dafny.ISequence<Dafny.Rune>, Func<Std.Collections.Seq._ISlice<Dafny.Rune>, Std.Parsers.StringParsers._IParseResult<__R>>>>>((_3_underlying, _4_input, _5_orderFun, _6_fun) => ((System.Func<Dafny.ISequence<Dafny.Rune>, Func<Std.Collections.Seq._ISlice<Dafny.Rune>, Std.Parsers.StringParsers._IParseResult<__R>>>)((_7_fun_k) => {
          return Dafny.Helpers.Let<Func<Std.Collections.Seq._ISlice<Dafny.Rune>, Std.Parsers.StringParsers._IParseResult<__R>>, Func<Std.Collections.Seq._ISlice<Dafny.Rune>, Std.Parsers.StringParsers._IParseResult<__R>>>(((!((_3_underlying).Keys).Contains(_7_fun_k)) ? (Std.Parsers.StringParsers.__default.FailWith<__R>(Dafny.Sequence<Dafny.Rune>.Concat(_7_fun_k, Dafny.Sequence<Dafny.Rune>.UnicodeFromString(" not defined")), Std.Parsers.StringParsers.FailureLevel.create_Fatal())) : (Dafny.Helpers.Let<Std.Parsers.StringParsers._IRecursiveDef<__R>, Func<Std.Collections.Seq._ISlice<Dafny.Rune>, Std.Parsers.StringParsers._IParseResult<__R>>>(Dafny.Map<Dafny.ISequence<Dafny.Rune>, Std.Parsers.StringParsers._IRecursiveDef<__R>>.Select(_3_underlying,_7_fun_k), _pat_let47_0 => Dafny.Helpers.Let<BigInteger, Func<Std.Collections.Seq._ISlice<Dafny.Rune>, Std.Parsers.StringParsers._IParseResult<__R>>>(_pat_let47_0.dtor_order, _8_orderFun_k => Dafny.Helpers.Let<Func<Func<Dafny.ISequence<Dafny.Rune>, Func<Std.Collections.Seq._ISlice<Dafny.Rune>, Std.Parsers.StringParsers._IParseResult<__R>>>, Func<Std.Collections.Seq._ISlice<Dafny.Rune>, Std.Parsers.StringParsers._IParseResult<__R>>>, Func<Std.Collections.Seq._ISlice<Dafny.Rune>, Std.Parsers.StringParsers._IParseResult<__R>>>(_pat_let47_0.dtor_definition, _9_definitionFun_k => Dafny.Helpers.Id<Func<Std.Collections.Seq._ISlice<Dafny.Rune>, BigInteger, BigInteger, Dafny.IMap<Dafny.ISequence<Dafny.Rune>,Std.Parsers.StringParsers._IRecursiveDef<__R>>, Dafny.ISequence<Dafny.Rune>, Dafny.ISequence<Dafny.Rune>, Func<Std.Collections.Seq._ISlice<Dafny.Rune>, Std.Parsers.StringParsers._IParseResult<__R>>>>((_10_input, _11_orderFun_k, _12_orderFun, _13_underlying, _14_fun_k, _15_fun) => ((System.Func<Std.Collections.Seq._ISlice<Dafny.Rune>, Std.Parsers.StringParsers._IParseResult<__R>>)((_16_remaining) => {
            return ((((Std.Parsers.InputString.__default.Length(_16_remaining)) < (Std.Parsers.InputString.__default.Length(_10_input))) || (((Std.Parsers.InputString.__default.Length(_16_remaining)) == (Std.Parsers.InputString.__default.Length(_10_input))) && ((_11_orderFun_k) < (_12_orderFun)))) ? (Std.Parsers.StringParsers.__default.RecursiveMap__<__R>(_13_underlying, _14_fun_k, _16_remaining)) : ((((Std.Parsers.InputString.__default.Length(_16_remaining)) == (Std.Parsers.InputString.__default.Length(_10_input))) ? (Std.Parsers.StringParsers.ParseResult<__R>.create_ParseFailure(Std.Parsers.StringParsers.FailureLevel.create_Recoverable(), Std.Parsers.StringParsers.FailureData.create(Dafny.Sequence<Dafny.Rune>.Concat(Dafny.Sequence<Dafny.Rune>.Concat(Dafny.Sequence<Dafny.Rune>.Concat(Dafny.Sequence<Dafny.Rune>.Concat(Dafny.Sequence<Dafny.Rune>.Concat(Dafny.Sequence<Dafny.Rune>.Concat(Dafny.Sequence<Dafny.Rune>.Concat(Dafny.Sequence<Dafny.Rune>.Concat(Dafny.Sequence<Dafny.Rune>.UnicodeFromString("non-progressing recursive call requires that order of '"), _14_fun_k), Dafny.Sequence<Dafny.Rune>.UnicodeFromString("' (")), Std.Strings.__default.OfInt(_11_orderFun_k)), Dafny.Sequence<Dafny.Rune>.UnicodeFromString(") is lower than the order of '")), _15_fun), Dafny.Sequence<Dafny.Rune>.UnicodeFromString("' (")), Std.Strings.__default.OfInt(_12_orderFun)), Dafny.Sequence<Dafny.Rune>.UnicodeFromString(")")), _16_remaining, Std.Wrappers.Option<Std.Parsers.StringParsers._IFailureData>.create_None()))) : (Std.Parsers.StringParsers.ParseResult<__R>.create_ParseFailure(Std.Parsers.StringParsers.FailureLevel.create_Fatal(), Std.Parsers.StringParsers.FailureData.create(Dafny.Sequence<Dafny.Rune>.UnicodeFromString("parser did not return a suffix of the input"), _16_remaining, Std.Wrappers.Option<Std.Parsers.StringParsers._IFailureData>.create_None()))))));
          })))(_4_input, _8_orderFun_k, _5_orderFun, _3_underlying, _7_fun_k, _6_fun)))))), _pat_let46_0 => Dafny.Helpers.Let<Func<Std.Collections.Seq._ISlice<Dafny.Rune>, Std.Parsers.StringParsers._IParseResult<__R>>, Func<Std.Collections.Seq._ISlice<Dafny.Rune>, Std.Parsers.StringParsers._IParseResult<__R>>>(_pat_let46_0, _17_p => _17_p));
        })))(underlying, input, _0_orderFun, fun);
        return Dafny.Helpers.Id<Func<Std.Collections.Seq._ISlice<Dafny.Rune>, Std.Parsers.StringParsers._IParseResult<__R>>>(Dafny.Helpers.Id<Func<Func<Dafny.ISequence<Dafny.Rune>, Func<Std.Collections.Seq._ISlice<Dafny.Rune>, Std.Parsers.StringParsers._IParseResult<__R>>>, Func<Std.Collections.Seq._ISlice<Dafny.Rune>, Std.Parsers.StringParsers._IParseResult<__R>>>>(_1_definitionFun)(_2_callback))(input);
      }
    }
    public static Func<Std.Collections.Seq._ISlice<Dafny.Rune>, Std.Parsers.StringParsers._IParseResult<Dafny.Rune>> CharTest(Func<Dafny.Rune, bool> test, Dafny.ISequence<Dafny.Rune> name)
    {
      return Dafny.Helpers.Id<Func<Func<Dafny.Rune, bool>, Dafny.ISequence<Dafny.Rune>, Func<Std.Collections.Seq._ISlice<Dafny.Rune>, Std.Parsers.StringParsers._IParseResult<Dafny.Rune>>>>((_0_test, _1_name) => ((System.Func<Std.Collections.Seq._ISlice<Dafny.Rune>, Std.Parsers.StringParsers._IParseResult<Dafny.Rune>>)((_2_input) => {
        return ((((Std.Parsers.InputString.__default.Length(_2_input)).Sign == 1) && (Dafny.Helpers.Id<Func<Dafny.Rune, bool>>(_0_test)(Std.Parsers.InputString.__default.CharAt(_2_input, BigInteger.Zero)))) ? (Std.Parsers.StringParsers.ParseResult<Dafny.Rune>.create_ParseSuccess(Std.Parsers.InputString.__default.CharAt(_2_input, BigInteger.Zero), Std.Parsers.InputString.__default.Drop(_2_input, BigInteger.One))) : (Std.Parsers.StringParsers.ParseResult<Dafny.Rune>.create_ParseFailure(Std.Parsers.StringParsers.FailureLevel.create_Recoverable(), Std.Parsers.StringParsers.FailureData.create(Dafny.Sequence<Dafny.Rune>.Concat(Dafny.Sequence<Dafny.Rune>.UnicodeFromString("expected a "), _1_name), _2_input, Std.Wrappers.Option<Std.Parsers.StringParsers._IFailureData>.create_None()))));
      })))(test, name);
    }
    public static BigInteger DigitToInt(Dafny.Rune c) {
      Dafny.Rune _source0 = c;
      {
        if ((_source0) == (new Dafny.Rune('0'))) {
          return BigInteger.Zero;
        }
      }
      {
        if ((_source0) == (new Dafny.Rune('1'))) {
          return BigInteger.One;
        }
      }
      {
        if ((_source0) == (new Dafny.Rune('2'))) {
          return new BigInteger(2);
        }
      }
      {
        if ((_source0) == (new Dafny.Rune('3'))) {
          return new BigInteger(3);
        }
      }
      {
        if ((_source0) == (new Dafny.Rune('4'))) {
          return new BigInteger(4);
        }
      }
      {
        if ((_source0) == (new Dafny.Rune('5'))) {
          return new BigInteger(5);
        }
      }
      {
        if ((_source0) == (new Dafny.Rune('6'))) {
          return new BigInteger(6);
        }
      }
      {
        if ((_source0) == (new Dafny.Rune('7'))) {
          return new BigInteger(7);
        }
      }
      {
        if ((_source0) == (new Dafny.Rune('8'))) {
          return new BigInteger(8);
        }
      }
      {
        if ((_source0) == (new Dafny.Rune('9'))) {
          return new BigInteger(9);
        }
      }
      {
        return new BigInteger(-1);
      }
    }
    public static BigInteger StringToInt(Dafny.ISequence<Dafny.Rune> s) {
      if ((new BigInteger((s).Count)).Sign == 0) {
        return BigInteger.Zero;
      } else if ((new BigInteger((s).Count)) == (BigInteger.One)) {
        return Std.Parsers.StringParsers.__default.DigitToInt((s).Select(BigInteger.Zero));
      } else if (((s).Select(BigInteger.Zero)) == (new Dafny.Rune('-'))) {
        return (BigInteger.Zero) - (Std.Parsers.StringParsers.__default.StringToInt((s).Drop(BigInteger.One)));
      } else {
        return ((Std.Parsers.StringParsers.__default.StringToInt((s).Subsequence(BigInteger.Zero, (new BigInteger((s).Count)) - (BigInteger.One)))) * (new BigInteger(10))) + (Std.Parsers.StringParsers.__default.StringToInt((s).Subsequence((new BigInteger((s).Count)) - (BigInteger.One), new BigInteger((s).Count))));
      }
    }
  }

  public interface _ICodeLocation {
    bool is_CodeLocation { get; }
    BigInteger dtor_lineNumber { get; }
    BigInteger dtor_colNumber { get; }
    Dafny.ISequence<Dafny.Rune> dtor_lineStr { get; }
    _ICodeLocation DowncastClone();
  }
  public class CodeLocation : _ICodeLocation {
    public readonly BigInteger _lineNumber;
    public readonly BigInteger _colNumber;
    public readonly Dafny.ISequence<Dafny.Rune> _lineStr;
    public CodeLocation(BigInteger lineNumber, BigInteger colNumber, Dafny.ISequence<Dafny.Rune> lineStr) {
      this._lineNumber = lineNumber;
      this._colNumber = colNumber;
      this._lineStr = lineStr;
    }
    public _ICodeLocation DowncastClone() {
      if (this is _ICodeLocation dt) { return dt; }
      return new CodeLocation(_lineNumber, _colNumber, _lineStr);
    }
    public override bool Equals(object other) {
      var oth = other as Std.Parsers.StringParsers.CodeLocation;
      return oth != null && this._lineNumber == oth._lineNumber && this._colNumber == oth._colNumber && object.Equals(this._lineStr, oth._lineStr);
    }
    public override int GetHashCode() {
      ulong hash = 5381;
      hash = ((hash << 5) + hash) + 0;
      hash = ((hash << 5) + hash) + ((ulong)Dafny.Helpers.GetHashCode(this._lineNumber));
      hash = ((hash << 5) + hash) + ((ulong)Dafny.Helpers.GetHashCode(this._colNumber));
      hash = ((hash << 5) + hash) + ((ulong)Dafny.Helpers.GetHashCode(this._lineStr));
      return (int) hash;
    }
    public override string ToString() {
      string s = "StringParsers.CodeLocation.CodeLocation";
      s += "(";
      s += Dafny.Helpers.ToString(this._lineNumber);
      s += ", ";
      s += Dafny.Helpers.ToString(this._colNumber);
      s += ", ";
      s += this._lineStr.ToVerbatimString(true);
      s += ")";
      return s;
    }
    private static readonly Std.Parsers.StringParsers._ICodeLocation theDefault = create(BigInteger.Zero, BigInteger.Zero, Dafny.Sequence<Dafny.Rune>.Empty);
    public static Std.Parsers.StringParsers._ICodeLocation Default() {
      return theDefault;
    }
    private static readonly Dafny.TypeDescriptor<Std.Parsers.StringParsers._ICodeLocation> _TYPE = new Dafny.TypeDescriptor<Std.Parsers.StringParsers._ICodeLocation>(Std.Parsers.StringParsers.CodeLocation.Default());
    public static Dafny.TypeDescriptor<Std.Parsers.StringParsers._ICodeLocation> _TypeDescriptor() {
      return _TYPE;
    }
    public static _ICodeLocation create(BigInteger lineNumber, BigInteger colNumber, Dafny.ISequence<Dafny.Rune> lineStr) {
      return new CodeLocation(lineNumber, colNumber, lineStr);
    }
    public static _ICodeLocation create_CodeLocation(BigInteger lineNumber, BigInteger colNumber, Dafny.ISequence<Dafny.Rune> lineStr) {
      return create(lineNumber, colNumber, lineStr);
    }
    public bool is_CodeLocation { get { return true; } }
    public BigInteger dtor_lineNumber {
      get {
        return this._lineNumber;
      }
    }
    public BigInteger dtor_colNumber {
      get {
        return this._colNumber;
      }
    }
    public Dafny.ISequence<Dafny.Rune> dtor_lineStr {
      get {
        return this._lineStr;
      }
    }
  }

  public interface _IExtractLineMutableState {
    bool is_ExtractLineMutableState { get; }
    Dafny.ISequence<Dafny.Rune> dtor_input { get; }
    BigInteger dtor_pos { get; }
    BigInteger dtor_startLinePos { get; }
    BigInteger dtor_i { get; }
    BigInteger dtor_lineNumber { get; }
    BigInteger dtor_colNumber { get; }
    _IExtractLineMutableState DowncastClone();
  }
  public class ExtractLineMutableState : _IExtractLineMutableState {
    public readonly Dafny.ISequence<Dafny.Rune> _input;
    public readonly BigInteger _pos;
    public readonly BigInteger _startLinePos;
    public readonly BigInteger _i;
    public readonly BigInteger _lineNumber;
    public readonly BigInteger _colNumber;
    public ExtractLineMutableState(Dafny.ISequence<Dafny.Rune> input, BigInteger pos, BigInteger startLinePos, BigInteger i, BigInteger lineNumber, BigInteger colNumber) {
      this._input = input;
      this._pos = pos;
      this._startLinePos = startLinePos;
      this._i = i;
      this._lineNumber = lineNumber;
      this._colNumber = colNumber;
    }
    public _IExtractLineMutableState DowncastClone() {
      if (this is _IExtractLineMutableState dt) { return dt; }
      return new ExtractLineMutableState(_input, _pos, _startLinePos, _i, _lineNumber, _colNumber);
    }
    public override bool Equals(object other) {
      var oth = other as Std.Parsers.StringParsers.ExtractLineMutableState;
      return oth != null && object.Equals(this._input, oth._input) && this._pos == oth._pos && this._startLinePos == oth._startLinePos && this._i == oth._i && this._lineNumber == oth._lineNumber && this._colNumber == oth._colNumber;
    }
    public override int GetHashCode() {
      ulong hash = 5381;
      hash = ((hash << 5) + hash) + 0;
      hash = ((hash << 5) + hash) + ((ulong)Dafny.Helpers.GetHashCode(this._input));
      hash = ((hash << 5) + hash) + ((ulong)Dafny.Helpers.GetHashCode(this._pos));
      hash = ((hash << 5) + hash) + ((ulong)Dafny.Helpers.GetHashCode(this._startLinePos));
      hash = ((hash << 5) + hash) + ((ulong)Dafny.Helpers.GetHashCode(this._i));
      hash = ((hash << 5) + hash) + ((ulong)Dafny.Helpers.GetHashCode(this._lineNumber));
      hash = ((hash << 5) + hash) + ((ulong)Dafny.Helpers.GetHashCode(this._colNumber));
      return (int) hash;
    }
    public override string ToString() {
      string s = "StringParsers.ExtractLineMutableState.ExtractLineMutableState";
      s += "(";
      s += this._input.ToVerbatimString(true);
      s += ", ";
      s += Dafny.Helpers.ToString(this._pos);
      s += ", ";
      s += Dafny.Helpers.ToString(this._startLinePos);
      s += ", ";
      s += Dafny.Helpers.ToString(this._i);
      s += ", ";
      s += Dafny.Helpers.ToString(this._lineNumber);
      s += ", ";
      s += Dafny.Helpers.ToString(this._colNumber);
      s += ")";
      return s;
    }
    private static readonly Std.Parsers.StringParsers._IExtractLineMutableState theDefault = create(Dafny.Sequence<Dafny.Rune>.Empty, BigInteger.Zero, BigInteger.Zero, BigInteger.Zero, BigInteger.Zero, BigInteger.Zero);
    public static Std.Parsers.StringParsers._IExtractLineMutableState Default() {
      return theDefault;
    }
    private static readonly Dafny.TypeDescriptor<Std.Parsers.StringParsers._IExtractLineMutableState> _TYPE = new Dafny.TypeDescriptor<Std.Parsers.StringParsers._IExtractLineMutableState>(Std.Parsers.StringParsers.ExtractLineMutableState.Default());
    public static Dafny.TypeDescriptor<Std.Parsers.StringParsers._IExtractLineMutableState> _TypeDescriptor() {
      return _TYPE;
    }
    public static _IExtractLineMutableState create(Dafny.ISequence<Dafny.Rune> input, BigInteger pos, BigInteger startLinePos, BigInteger i, BigInteger lineNumber, BigInteger colNumber) {
      return new ExtractLineMutableState(input, pos, startLinePos, i, lineNumber, colNumber);
    }
    public static _IExtractLineMutableState create_ExtractLineMutableState(Dafny.ISequence<Dafny.Rune> input, BigInteger pos, BigInteger startLinePos, BigInteger i, BigInteger lineNumber, BigInteger colNumber) {
      return create(input, pos, startLinePos, i, lineNumber, colNumber);
    }
    public bool is_ExtractLineMutableState { get { return true; } }
    public Dafny.ISequence<Dafny.Rune> dtor_input {
      get {
        return this._input;
      }
    }
    public BigInteger dtor_pos {
      get {
        return this._pos;
      }
    }
    public BigInteger dtor_startLinePos {
      get {
        return this._startLinePos;
      }
    }
    public BigInteger dtor_i {
      get {
        return this._i;
      }
    }
    public BigInteger dtor_lineNumber {
      get {
        return this._lineNumber;
      }
    }
    public BigInteger dtor_colNumber {
      get {
        return this._colNumber;
      }
    }
  }

  public interface _IFailureData {
    bool is_FailureData { get; }
    Dafny.ISequence<Dafny.Rune> dtor_message { get; }
    Std.Collections.Seq._ISlice<Dafny.Rune> dtor_remaining { get; }
    Std.Wrappers._IOption<Std.Parsers.StringParsers._IFailureData> dtor_next { get; }
    _IFailureData DowncastClone();
    Std.Parsers.StringParsers._IFailureData Concat(Std.Parsers.StringParsers._IFailureData other);
  }
  public class FailureData : _IFailureData {
    public readonly Dafny.ISequence<Dafny.Rune> _message;
    public readonly Std.Collections.Seq._ISlice<Dafny.Rune> _remaining;
    public readonly Std.Wrappers._IOption<Std.Parsers.StringParsers._IFailureData> _next;
    public FailureData(Dafny.ISequence<Dafny.Rune> message, Std.Collections.Seq._ISlice<Dafny.Rune> remaining, Std.Wrappers._IOption<Std.Parsers.StringParsers._IFailureData> next) {
      this._message = message;
      this._remaining = remaining;
      this._next = next;
    }
    public _IFailureData DowncastClone() {
      if (this is _IFailureData dt) { return dt; }
      return new FailureData(_message, _remaining, _next);
    }
    public override bool Equals(object other) {
      var oth = other as Std.Parsers.StringParsers.FailureData;
      return oth != null && object.Equals(this._message, oth._message) && object.Equals(this._remaining, oth._remaining) && object.Equals(this._next, oth._next);
    }
    public override int GetHashCode() {
      ulong hash = 5381;
      hash = ((hash << 5) + hash) + 0;
      hash = ((hash << 5) + hash) + ((ulong)Dafny.Helpers.GetHashCode(this._message));
      hash = ((hash << 5) + hash) + ((ulong)Dafny.Helpers.GetHashCode(this._remaining));
      hash = ((hash << 5) + hash) + ((ulong)Dafny.Helpers.GetHashCode(this._next));
      return (int) hash;
    }
    public override string ToString() {
      string s = "StringParsers.FailureData.FailureData";
      s += "(";
      s += this._message.ToVerbatimString(true);
      s += ", ";
      s += Dafny.Helpers.ToString(this._remaining);
      s += ", ";
      s += Dafny.Helpers.ToString(this._next);
      s += ")";
      return s;
    }
    private static readonly Std.Parsers.StringParsers._IFailureData theDefault = create(Dafny.Sequence<Dafny.Rune>.Empty, Std.Collections.Seq.Slice<Dafny.Rune>.Default(), Std.Wrappers.Option<Std.Parsers.StringParsers._IFailureData>.Default());
    public static Std.Parsers.StringParsers._IFailureData Default() {
      return theDefault;
    }
    private static readonly Dafny.TypeDescriptor<Std.Parsers.StringParsers._IFailureData> _TYPE = new Dafny.TypeDescriptor<Std.Parsers.StringParsers._IFailureData>(Std.Parsers.StringParsers.FailureData.Default());
    public static Dafny.TypeDescriptor<Std.Parsers.StringParsers._IFailureData> _TypeDescriptor() {
      return _TYPE;
    }
    public static _IFailureData create(Dafny.ISequence<Dafny.Rune> message, Std.Collections.Seq._ISlice<Dafny.Rune> remaining, Std.Wrappers._IOption<Std.Parsers.StringParsers._IFailureData> next) {
      return new FailureData(message, remaining, next);
    }
    public static _IFailureData create_FailureData(Dafny.ISequence<Dafny.Rune> message, Std.Collections.Seq._ISlice<Dafny.Rune> remaining, Std.Wrappers._IOption<Std.Parsers.StringParsers._IFailureData> next) {
      return create(message, remaining, next);
    }
    public bool is_FailureData { get { return true; } }
    public Dafny.ISequence<Dafny.Rune> dtor_message {
      get {
        return this._message;
      }
    }
    public Std.Collections.Seq._ISlice<Dafny.Rune> dtor_remaining {
      get {
        return this._remaining;
      }
    }
    public Std.Wrappers._IOption<Std.Parsers.StringParsers._IFailureData> dtor_next {
      get {
        return this._next;
      }
    }
    public Std.Parsers.StringParsers._IFailureData Concat(Std.Parsers.StringParsers._IFailureData other) {
      if (object.Equals((this).dtor_next, Std.Wrappers.Option<Std.Parsers.StringParsers._IFailureData>.create_None())) {
        Std.Parsers.StringParsers._IFailureData _0_dt__update__tmp_h0 = this;
        Std.Wrappers._IOption<Std.Parsers.StringParsers._IFailureData> _1_dt__update_hnext_h0 = Std.Wrappers.Option<Std.Parsers.StringParsers._IFailureData>.create_Some(other);
        return Std.Parsers.StringParsers.FailureData.create((_0_dt__update__tmp_h0).dtor_message, (_0_dt__update__tmp_h0).dtor_remaining, _1_dt__update_hnext_h0);
      } else {
        return Std.Parsers.StringParsers.FailureData.create((this).dtor_message, (this).dtor_remaining, Std.Wrappers.Option<Std.Parsers.StringParsers._IFailureData>.create_Some((((this).dtor_next).dtor_value).Concat(other)));
      }
    }
  }

  public interface _IFailureLevel {
    bool is_Fatal { get; }
    bool is_Recoverable { get; }
    _IFailureLevel DowncastClone();
  }
  public abstract class FailureLevel : _IFailureLevel {
    public FailureLevel() {
    }
    private static readonly Std.Parsers.StringParsers._IFailureLevel theDefault = create_Fatal();
    public static Std.Parsers.StringParsers._IFailureLevel Default() {
      return theDefault;
    }
    private static readonly Dafny.TypeDescriptor<Std.Parsers.StringParsers._IFailureLevel> _TYPE = new Dafny.TypeDescriptor<Std.Parsers.StringParsers._IFailureLevel>(Std.Parsers.StringParsers.FailureLevel.Default());
    public static Dafny.TypeDescriptor<Std.Parsers.StringParsers._IFailureLevel> _TypeDescriptor() {
      return _TYPE;
    }
    public static _IFailureLevel create_Fatal() {
      return new FailureLevel_Fatal();
    }
    public static _IFailureLevel create_Recoverable() {
      return new FailureLevel_Recoverable();
    }
    public bool is_Fatal { get { return this is FailureLevel_Fatal; } }
    public bool is_Recoverable { get { return this is FailureLevel_Recoverable; } }
    public static System.Collections.Generic.IEnumerable<_IFailureLevel> AllSingletonConstructors {
      get {
        yield return FailureLevel.create_Fatal();
        yield return FailureLevel.create_Recoverable();
      }
    }
    public abstract _IFailureLevel DowncastClone();
  }
  public class FailureLevel_Fatal : FailureLevel {
    public FailureLevel_Fatal() : base() {
    }
    public override _IFailureLevel DowncastClone() {
      if (this is _IFailureLevel dt) { return dt; }
      return new FailureLevel_Fatal();
    }
    public override bool Equals(object other) {
      var oth = other as Std.Parsers.StringParsers.FailureLevel_Fatal;
      return oth != null;
    }
    public override int GetHashCode() {
      ulong hash = 5381;
      hash = ((hash << 5) + hash) + 0;
      return (int) hash;
    }
    public override string ToString() {
      string s = "StringParsers.FailureLevel.Fatal";
      return s;
    }
  }
  public class FailureLevel_Recoverable : FailureLevel {
    public FailureLevel_Recoverable() : base() {
    }
    public override _IFailureLevel DowncastClone() {
      if (this is _IFailureLevel dt) { return dt; }
      return new FailureLevel_Recoverable();
    }
    public override bool Equals(object other) {
      var oth = other as Std.Parsers.StringParsers.FailureLevel_Recoverable;
      return oth != null;
    }
    public override int GetHashCode() {
      ulong hash = 5381;
      hash = ((hash << 5) + hash) + 1;
      return (int) hash;
    }
    public override string ToString() {
      string s = "StringParsers.FailureLevel.Recoverable";
      return s;
    }
  }

  public interface _IParseResult<out R> {
    bool is_ParseFailure { get; }
    bool is_ParseSuccess { get; }
    Std.Parsers.StringParsers._IFailureLevel dtor_level { get; }
    Std.Parsers.StringParsers._IFailureData dtor_data { get; }
    R dtor_result { get; }
    Std.Collections.Seq._ISlice<Dafny.Rune> dtor_remaining { get; }
    _IParseResult<__R> DowncastClone<__R>(Func<R, __R> converter0);
    Std.Collections.Seq._ISlice<Dafny.Rune> Remaining();
    bool IsFailure();
    bool IsFatalFailure();
    bool IsFatal();
    Std.Parsers.StringParsers._IParseResult<__U> PropagateFailure<__U>();
    _System._ITuple2<R, Std.Collections.Seq._ISlice<Dafny.Rune>> Extract();
    Std.Parsers.StringParsers._IParseResult<R> MapRecoverableError(Func<Std.Parsers.StringParsers._IFailureData, Std.Parsers.StringParsers._IFailureData> f);
    bool NeedsAlternative(Std.Collections.Seq._ISlice<Dafny.Rune> input);
  }
  public abstract class ParseResult<R> : _IParseResult<R> {
    public ParseResult() {
    }
    public static Std.Parsers.StringParsers._IParseResult<R> Default() {
      return create_ParseFailure(Std.Parsers.StringParsers.FailureLevel.Default(), Std.Parsers.StringParsers.FailureData.Default());
    }
    public static Dafny.TypeDescriptor<Std.Parsers.StringParsers._IParseResult<R>> _TypeDescriptor() {
      return new Dafny.TypeDescriptor<Std.Parsers.StringParsers._IParseResult<R>>(Std.Parsers.StringParsers.ParseResult<R>.Default());
    }
    public static _IParseResult<R> create_ParseFailure(Std.Parsers.StringParsers._IFailureLevel level, Std.Parsers.StringParsers._IFailureData data) {
      return new ParseResult_ParseFailure<R>(level, data);
    }
    public static _IParseResult<R> create_ParseSuccess(R result, Std.Collections.Seq._ISlice<Dafny.Rune> remaining) {
      return new ParseResult_ParseSuccess<R>(result, remaining);
    }
    public bool is_ParseFailure { get { return this is ParseResult_ParseFailure<R>; } }
    public bool is_ParseSuccess { get { return this is ParseResult_ParseSuccess<R>; } }
    public Std.Parsers.StringParsers._IFailureLevel dtor_level {
      get {
        var d = this;
        return ((ParseResult_ParseFailure<R>)d)._level;
      }
    }
    public Std.Parsers.StringParsers._IFailureData dtor_data {
      get {
        var d = this;
        return ((ParseResult_ParseFailure<R>)d)._data;
      }
    }
    public R dtor_result {
      get {
        var d = this;
        return ((ParseResult_ParseSuccess<R>)d)._result;
      }
    }
    public Std.Collections.Seq._ISlice<Dafny.Rune> dtor_remaining {
      get {
        var d = this;
        return ((ParseResult_ParseSuccess<R>)d)._remaining;
      }
    }
    public abstract _IParseResult<__R> DowncastClone<__R>(Func<R, __R> converter0);
    public Std.Collections.Seq._ISlice<Dafny.Rune> Remaining() {
      if ((this).is_ParseSuccess) {
        return (this).dtor_remaining;
      } else {
        return ((this).dtor_data).dtor_remaining;
      }
    }
    public bool IsFailure() {
      return (this).is_ParseFailure;
    }
    public bool IsFatalFailure() {
      return ((this).is_ParseFailure) && (object.Equals((this).dtor_level, Std.Parsers.StringParsers.FailureLevel.create_Fatal()));
    }
    public bool IsFatal() {
      return object.Equals((this).dtor_level, Std.Parsers.StringParsers.FailureLevel.create_Fatal());
    }
    public Std.Parsers.StringParsers._IParseResult<__U> PropagateFailure<__U>() {
      return Std.Parsers.StringParsers.ParseResult<__U>.create_ParseFailure((this).dtor_level, (this).dtor_data);
    }
    public _System._ITuple2<R, Std.Collections.Seq._ISlice<Dafny.Rune>> Extract() {
      return _System.Tuple2<R, Std.Collections.Seq._ISlice<Dafny.Rune>>.create((this).dtor_result, (this).dtor_remaining);
    }
    public static Std.Parsers.StringParsers._IParseResult<__R_k> Map<__R_k>(Std.Parsers.StringParsers._IParseResult<R> _this, Func<R, __R_k> f) {
      Std.Parsers.StringParsers._IParseResult<R> _source0 = _this;
      {
        if (_source0.is_ParseSuccess) {
          R _0_result = _source0.dtor_result;
          Std.Collections.Seq._ISlice<Dafny.Rune> _1_remaining = _source0.dtor_remaining;
          return Std.Parsers.StringParsers.ParseResult<__R_k>.create_ParseSuccess(Dafny.Helpers.Id<Func<R, __R_k>>(f)(_0_result), _1_remaining);
        }
      }
      {
        Std.Parsers.StringParsers._IFailureLevel _2_level = _source0.dtor_level;
        Std.Parsers.StringParsers._IFailureData _3_data = _source0.dtor_data;
        return Std.Parsers.StringParsers.ParseResult<__R_k>.create_ParseFailure(_2_level, _3_data);
      }
    }
    public Std.Parsers.StringParsers._IParseResult<R> MapRecoverableError(Func<Std.Parsers.StringParsers._IFailureData, Std.Parsers.StringParsers._IFailureData> f) {
      Std.Parsers.StringParsers._IParseResult<R> _source0 = this;
      {
        if (_source0.is_ParseFailure) {
          Std.Parsers.StringParsers._IFailureLevel level0 = _source0.dtor_level;
          if (level0.is_Recoverable) {
            Std.Parsers.StringParsers._IFailureData _0_data = _source0.dtor_data;
            return Std.Parsers.StringParsers.ParseResult<R>.create_ParseFailure(Std.Parsers.StringParsers.FailureLevel.create_Recoverable(), Dafny.Helpers.Id<Func<Std.Parsers.StringParsers._IFailureData, Std.Parsers.StringParsers._IFailureData>>(f)(_0_data));
          }
        }
      }
      {
        return this;
      }
    }
    public bool NeedsAlternative(Std.Collections.Seq._ISlice<Dafny.Rune> input) {
      return (((this).is_ParseFailure) && (object.Equals((this).dtor_level, Std.Parsers.StringParsers.FailureLevel.create_Recoverable()))) && (object.Equals(input, (this).Remaining()));
    }
  }
  public class ParseResult_ParseFailure<R> : ParseResult<R> {
    public readonly Std.Parsers.StringParsers._IFailureLevel _level;
    public readonly Std.Parsers.StringParsers._IFailureData _data;
    public ParseResult_ParseFailure(Std.Parsers.StringParsers._IFailureLevel level, Std.Parsers.StringParsers._IFailureData data) : base() {
      this._level = level;
      this._data = data;
    }
    public override _IParseResult<__R> DowncastClone<__R>(Func<R, __R> converter0) {
      if (this is _IParseResult<__R> dt) { return dt; }
      return new ParseResult_ParseFailure<__R>(_level, _data);
    }
    public override bool Equals(object other) {
      var oth = other as Std.Parsers.StringParsers.ParseResult_ParseFailure<R>;
      return oth != null && object.Equals(this._level, oth._level) && object.Equals(this._data, oth._data);
    }
    public override int GetHashCode() {
      ulong hash = 5381;
      hash = ((hash << 5) + hash) + 0;
      hash = ((hash << 5) + hash) + ((ulong)Dafny.Helpers.GetHashCode(this._level));
      hash = ((hash << 5) + hash) + ((ulong)Dafny.Helpers.GetHashCode(this._data));
      return (int) hash;
    }
    public override string ToString() {
      string s = "StringParsers.ParseResult.ParseFailure";
      s += "(";
      s += Dafny.Helpers.ToString(this._level);
      s += ", ";
      s += Dafny.Helpers.ToString(this._data);
      s += ")";
      return s;
    }
  }
  public class ParseResult_ParseSuccess<R> : ParseResult<R> {
    public readonly R _result;
    public readonly Std.Collections.Seq._ISlice<Dafny.Rune> _remaining;
    public ParseResult_ParseSuccess(R result, Std.Collections.Seq._ISlice<Dafny.Rune> remaining) : base() {
      this._result = result;
      this._remaining = remaining;
    }
    public override _IParseResult<__R> DowncastClone<__R>(Func<R, __R> converter0) {
      if (this is _IParseResult<__R> dt) { return dt; }
      return new ParseResult_ParseSuccess<__R>(converter0(_result), _remaining);
    }
    public override bool Equals(object other) {
      var oth = other as Std.Parsers.StringParsers.ParseResult_ParseSuccess<R>;
      return oth != null && object.Equals(this._result, oth._result) && object.Equals(this._remaining, oth._remaining);
    }
    public override int GetHashCode() {
      ulong hash = 5381;
      hash = ((hash << 5) + hash) + 1;
      hash = ((hash << 5) + hash) + ((ulong)Dafny.Helpers.GetHashCode(this._result));
      hash = ((hash << 5) + hash) + ((ulong)Dafny.Helpers.GetHashCode(this._remaining));
      return (int) hash;
    }
    public override string ToString() {
      string s = "StringParsers.ParseResult.ParseSuccess";
      s += "(";
      s += Dafny.Helpers.ToString(this._result);
      s += ", ";
      s += Dafny.Helpers.ToString(this._remaining);
      s += ")";
      return s;
    }
  }

  public interface _ISeqB<A> {
    bool is_SeqBCons { get; }
    bool is_SeqBNil { get; }
    A dtor_last { get; }
    Std.Parsers.StringParsers._ISeqB<A> dtor_init { get; }
    _ISeqB<__A> DowncastClone<__A>(Func<A, __A> converter0);
    Std.Parsers.StringParsers._ISeqB<A> Append(A elem);
    BigInteger Length();
    Dafny.ISequence<A> ToSequence();
  }
  public abstract class SeqB<A> : _ISeqB<A> {
    public SeqB() {
    }
    public static Std.Parsers.StringParsers._ISeqB<A> Default() {
      return create_SeqBNil();
    }
    public static Dafny.TypeDescriptor<Std.Parsers.StringParsers._ISeqB<A>> _TypeDescriptor() {
      return new Dafny.TypeDescriptor<Std.Parsers.StringParsers._ISeqB<A>>(Std.Parsers.StringParsers.SeqB<A>.Default());
    }
    public static _ISeqB<A> create_SeqBCons(A last, Std.Parsers.StringParsers._ISeqB<A> init) {
      return new SeqB_SeqBCons<A>(last, init);
    }
    public static _ISeqB<A> create_SeqBNil() {
      return new SeqB_SeqBNil<A>();
    }
    public bool is_SeqBCons { get { return this is SeqB_SeqBCons<A>; } }
    public bool is_SeqBNil { get { return this is SeqB_SeqBNil<A>; } }
    public A dtor_last {
      get {
        var d = this;
        return ((SeqB_SeqBCons<A>)d)._last;
      }
    }
    public Std.Parsers.StringParsers._ISeqB<A> dtor_init {
      get {
        var d = this;
        return ((SeqB_SeqBCons<A>)d)._init;
      }
    }
    public abstract _ISeqB<__A> DowncastClone<__A>(Func<A, __A> converter0);
    public Std.Parsers.StringParsers._ISeqB<A> Append(A elem) {
      return Std.Parsers.StringParsers.SeqB<A>.create_SeqBCons(elem, this);
    }
    public BigInteger Length() {
      BigInteger _0___accumulator = BigInteger.Zero;
      _ISeqB<A> _this = this;
    TAIL_CALL_START: ;
      if ((_this).is_SeqBNil) {
        return (BigInteger.Zero) + (_0___accumulator);
      } else {
        _0___accumulator = (_0___accumulator) + (BigInteger.One);
        Std.Parsers.StringParsers._ISeqB<A> _in0 = (_this).dtor_init;
        _this = _in0;
        ;
        goto TAIL_CALL_START;
      }
    }
    public Dafny.ISequence<A> ToSequence()
    {
      Dafny.ISequence<A> _hresult = Dafny.Sequence<A>.Empty;
      if ((this).is_SeqBNil) {
        _hresult = Dafny.Sequence<A>.FromElements();
        return _hresult;
      }
      A _0_defaultElem;
      _0_defaultElem = (this).dtor_last;
      BigInteger _1_l;
      _1_l = (this).Length();
      A[] _2_elements;
      Func<BigInteger, A> _init0 = Dafny.Helpers.Id<Func<A, Func<BigInteger, A>>>((_3_defaultElem) => ((System.Func<BigInteger, A>)((_4_i) => {
        return _3_defaultElem;
      })))(_0_defaultElem);
      A[] _nw0 = new A[Dafny.Helpers.ToIntChecked(_1_l, "array size exceeds memory limit")];
      for (var _i0_0 = 0; _i0_0 < new BigInteger(_nw0.Length); _i0_0++) {
        _nw0[(int)(_i0_0)] = _init0(_i0_0);
      }
      _2_elements = _nw0;
      Std.Parsers.StringParsers._ISeqB<A> _5_t;
      _5_t = this;
      BigInteger _6_i;
      _6_i = _1_l;
      while (!((_5_t).is_SeqBNil)) {
        _6_i = (_6_i) - (BigInteger.One);
        (_2_elements)[(int)((_6_i))] = (_5_t).dtor_last;
        _5_t = (_5_t).dtor_init;
      }
      _hresult = Dafny.Helpers.SeqFromArray(_2_elements);
      return _hresult;
      return _hresult;
    }
  }
  public class SeqB_SeqBCons<A> : SeqB<A> {
    public readonly A _last;
    public readonly Std.Parsers.StringParsers._ISeqB<A> _init;
    public SeqB_SeqBCons(A last, Std.Parsers.StringParsers._ISeqB<A> init) : base() {
      this._last = last;
      this._init = init;
    }
    public override _ISeqB<__A> DowncastClone<__A>(Func<A, __A> converter0) {
      if (this is _ISeqB<__A> dt) { return dt; }
      return new SeqB_SeqBCons<__A>(converter0(_last), (_init).DowncastClone<__A>(Dafny.Helpers.CastConverter<A, __A>));
    }
    public override bool Equals(object other) {
      var oth = other as Std.Parsers.StringParsers.SeqB_SeqBCons<A>;
      return oth != null && object.Equals(this._last, oth._last) && object.Equals(this._init, oth._init);
    }
    public override int GetHashCode() {
      ulong hash = 5381;
      hash = ((hash << 5) + hash) + 0;
      hash = ((hash << 5) + hash) + ((ulong)Dafny.Helpers.GetHashCode(this._last));
      hash = ((hash << 5) + hash) + ((ulong)Dafny.Helpers.GetHashCode(this._init));
      return (int) hash;
    }
    public override string ToString() {
      string s = "StringParsers.SeqB.SeqBCons";
      s += "(";
      s += Dafny.Helpers.ToString(this._last);
      s += ", ";
      s += Dafny.Helpers.ToString(this._init);
      s += ")";
      return s;
    }
  }
  public class SeqB_SeqBNil<A> : SeqB<A> {
    public SeqB_SeqBNil() : base() {
    }
    public override _ISeqB<__A> DowncastClone<__A>(Func<A, __A> converter0) {
      if (this is _ISeqB<__A> dt) { return dt; }
      return new SeqB_SeqBNil<__A>();
    }
    public override bool Equals(object other) {
      var oth = other as Std.Parsers.StringParsers.SeqB_SeqBNil<A>;
      return oth != null;
    }
    public override int GetHashCode() {
      ulong hash = 5381;
      hash = ((hash << 5) + hash) + 1;
      return (int) hash;
    }
    public override string ToString() {
      string s = "StringParsers.SeqB.SeqBNil";
      return s;
    }
  }

  public interface _IRecursiveNoStackResult<R> {
    bool is_RecursiveReturn { get; }
    bool is_RecursiveContinue { get; }
    R dtor_RecursiveReturn_a0 { get; }
    Func<R, Func<Std.Collections.Seq._ISlice<Dafny.Rune>, Std.Parsers.StringParsers._IParseResult<Std.Parsers.StringParsers._IRecursiveNoStackResult<R>>>> dtor_RecursiveContinue_a0 { get; }
    _IRecursiveNoStackResult<__R> DowncastClone<__R>(Func<R, __R> converter0);
  }
  public abstract class RecursiveNoStackResult<R> : _IRecursiveNoStackResult<R> {
    public RecursiveNoStackResult() {
    }
    public static Std.Parsers.StringParsers._IRecursiveNoStackResult<R> Default() {
      return create_RecursiveContinue(((R x4) => ((Std.Collections.Seq._ISlice<Dafny.Rune> x3) => Std.Parsers.StringParsers.ParseResult<Std.Parsers.StringParsers._IRecursiveNoStackResult<R>>.Default())));
    }
    public static Dafny.TypeDescriptor<Std.Parsers.StringParsers._IRecursiveNoStackResult<R>> _TypeDescriptor() {
      return new Dafny.TypeDescriptor<Std.Parsers.StringParsers._IRecursiveNoStackResult<R>>(Std.Parsers.StringParsers.RecursiveNoStackResult<R>.Default());
    }
    public static _IRecursiveNoStackResult<R> create_RecursiveReturn(R _a0) {
      return new RecursiveNoStackResult_RecursiveReturn<R>(_a0);
    }
    public static _IRecursiveNoStackResult<R> create_RecursiveContinue(Func<R, Func<Std.Collections.Seq._ISlice<Dafny.Rune>, Std.Parsers.StringParsers._IParseResult<Std.Parsers.StringParsers._IRecursiveNoStackResult<R>>>> _a0) {
      return new RecursiveNoStackResult_RecursiveContinue<R>(_a0);
    }
    public bool is_RecursiveReturn { get { return this is RecursiveNoStackResult_RecursiveReturn<R>; } }
    public bool is_RecursiveContinue { get { return this is RecursiveNoStackResult_RecursiveContinue<R>; } }
    public R dtor_RecursiveReturn_a0 {
      get {
        var d = this;
        return ((RecursiveNoStackResult_RecursiveReturn<R>)d)._a0;
      }
    }
    public Func<R, Func<Std.Collections.Seq._ISlice<Dafny.Rune>, Std.Parsers.StringParsers._IParseResult<Std.Parsers.StringParsers._IRecursiveNoStackResult<R>>>> dtor_RecursiveContinue_a0 {
      get {
        var d = this;
        return ((RecursiveNoStackResult_RecursiveContinue<R>)d)._a0;
      }
    }
    public abstract _IRecursiveNoStackResult<__R> DowncastClone<__R>(Func<R, __R> converter0);
  }
  public class RecursiveNoStackResult_RecursiveReturn<R> : RecursiveNoStackResult<R> {
    public readonly R _a0;
    public RecursiveNoStackResult_RecursiveReturn(R _a0) : base() {
      this._a0 = _a0;
    }
    public override _IRecursiveNoStackResult<__R> DowncastClone<__R>(Func<R, __R> converter0) {
      if (this is _IRecursiveNoStackResult<__R> dt) { return dt; }
      return new RecursiveNoStackResult_RecursiveReturn<__R>(converter0(_a0));
    }
    public override bool Equals(object other) {
      var oth = other as Std.Parsers.StringParsers.RecursiveNoStackResult_RecursiveReturn<R>;
      return oth != null && object.Equals(this._a0, oth._a0);
    }
    public override int GetHashCode() {
      ulong hash = 5381;
      hash = ((hash << 5) + hash) + 0;
      hash = ((hash << 5) + hash) + ((ulong)Dafny.Helpers.GetHashCode(this._a0));
      return (int) hash;
    }
    public override string ToString() {
      string s = "StringParsers.RecursiveNoStackResult.RecursiveReturn";
      s += "(";
      s += Dafny.Helpers.ToString(this._a0);
      s += ")";
      return s;
    }
  }
  public class RecursiveNoStackResult_RecursiveContinue<R> : RecursiveNoStackResult<R> {
    public readonly Func<R, Func<Std.Collections.Seq._ISlice<Dafny.Rune>, Std.Parsers.StringParsers._IParseResult<Std.Parsers.StringParsers._IRecursiveNoStackResult<R>>>> _a0;
    public RecursiveNoStackResult_RecursiveContinue(Func<R, Func<Std.Collections.Seq._ISlice<Dafny.Rune>, Std.Parsers.StringParsers._IParseResult<Std.Parsers.StringParsers._IRecursiveNoStackResult<R>>>> _a0) : base() {
      this._a0 = _a0;
    }
    public override _IRecursiveNoStackResult<__R> DowncastClone<__R>(Func<R, __R> converter0) {
      if (this is _IRecursiveNoStackResult<__R> dt) { return dt; }
      return new RecursiveNoStackResult_RecursiveContinue<__R>((_a0).DowncastClone<R, Func<Std.Collections.Seq._ISlice<Dafny.Rune>, Std.Parsers.StringParsers._IParseResult<Std.Parsers.StringParsers._IRecursiveNoStackResult<R>>>, __R, Func<Std.Collections.Seq._ISlice<Dafny.Rune>, Std.Parsers.StringParsers._IParseResult<Std.Parsers.StringParsers._IRecursiveNoStackResult<__R>>>>(Dafny.Helpers.CastConverter<__R, R>, Dafny.Helpers.CastConverter<Func<Std.Collections.Seq._ISlice<Dafny.Rune>, Std.Parsers.StringParsers._IParseResult<Std.Parsers.StringParsers._IRecursiveNoStackResult<R>>>, Func<Std.Collections.Seq._ISlice<Dafny.Rune>, Std.Parsers.StringParsers._IParseResult<Std.Parsers.StringParsers._IRecursiveNoStackResult<__R>>>>));
    }
    public override bool Equals(object other) {
      var oth = other as Std.Parsers.StringParsers.RecursiveNoStackResult_RecursiveContinue<R>;
      return oth != null && object.Equals(this._a0, oth._a0);
    }
    public override int GetHashCode() {
      ulong hash = 5381;
      hash = ((hash << 5) + hash) + 1;
      hash = ((hash << 5) + hash) + ((ulong)Dafny.Helpers.GetHashCode(this._a0));
      return (int) hash;
    }
    public override string ToString() {
      string s = "StringParsers.RecursiveNoStackResult.RecursiveContinue";
      s += "(";
      s += Dafny.Helpers.ToString(this._a0);
      s += ")";
      return s;
    }
  }

  public interface _IRecursiveDef<R> {
    bool is_RecursiveDef { get; }
    BigInteger dtor_order { get; }
    Func<Func<Dafny.ISequence<Dafny.Rune>, Func<Std.Collections.Seq._ISlice<Dafny.Rune>, Std.Parsers.StringParsers._IParseResult<R>>>, Func<Std.Collections.Seq._ISlice<Dafny.Rune>, Std.Parsers.StringParsers._IParseResult<R>>> dtor_definition { get; }
    _IRecursiveDef<__R> DowncastClone<__R>(Func<R, __R> converter0);
  }
  public class RecursiveDef<R> : _IRecursiveDef<R> {
    public readonly BigInteger _order;
    public readonly Func<Func<Dafny.ISequence<Dafny.Rune>, Func<Std.Collections.Seq._ISlice<Dafny.Rune>, Std.Parsers.StringParsers._IParseResult<R>>>, Func<Std.Collections.Seq._ISlice<Dafny.Rune>, Std.Parsers.StringParsers._IParseResult<R>>> _definition;
    public RecursiveDef(BigInteger order, Func<Func<Dafny.ISequence<Dafny.Rune>, Func<Std.Collections.Seq._ISlice<Dafny.Rune>, Std.Parsers.StringParsers._IParseResult<R>>>, Func<Std.Collections.Seq._ISlice<Dafny.Rune>, Std.Parsers.StringParsers._IParseResult<R>>> definition) {
      this._order = order;
      this._definition = definition;
    }
    public _IRecursiveDef<__R> DowncastClone<__R>(Func<R, __R> converter0) {
      if (this is _IRecursiveDef<__R> dt) { return dt; }
      return new RecursiveDef<__R>(_order, (_definition).DowncastClone<Func<Dafny.ISequence<Dafny.Rune>, Func<Std.Collections.Seq._ISlice<Dafny.Rune>, Std.Parsers.StringParsers._IParseResult<R>>>, Func<Std.Collections.Seq._ISlice<Dafny.Rune>, Std.Parsers.StringParsers._IParseResult<R>>, Func<Dafny.ISequence<Dafny.Rune>, Func<Std.Collections.Seq._ISlice<Dafny.Rune>, Std.Parsers.StringParsers._IParseResult<__R>>>, Func<Std.Collections.Seq._ISlice<Dafny.Rune>, Std.Parsers.StringParsers._IParseResult<__R>>>(Dafny.Helpers.CastConverter<Func<Dafny.ISequence<Dafny.Rune>, Func<Std.Collections.Seq._ISlice<Dafny.Rune>, Std.Parsers.StringParsers._IParseResult<__R>>>, Func<Dafny.ISequence<Dafny.Rune>, Func<Std.Collections.Seq._ISlice<Dafny.Rune>, Std.Parsers.StringParsers._IParseResult<R>>>>, Dafny.Helpers.CastConverter<Func<Std.Collections.Seq._ISlice<Dafny.Rune>, Std.Parsers.StringParsers._IParseResult<R>>, Func<Std.Collections.Seq._ISlice<Dafny.Rune>, Std.Parsers.StringParsers._IParseResult<__R>>>));
    }
    public override bool Equals(object other) {
      var oth = other as Std.Parsers.StringParsers.RecursiveDef<R>;
      return oth != null && this._order == oth._order && object.Equals(this._definition, oth._definition);
    }
    public override int GetHashCode() {
      ulong hash = 5381;
      hash = ((hash << 5) + hash) + 0;
      hash = ((hash << 5) + hash) + ((ulong)Dafny.Helpers.GetHashCode(this._order));
      hash = ((hash << 5) + hash) + ((ulong)Dafny.Helpers.GetHashCode(this._definition));
      return (int) hash;
    }
    public override string ToString() {
      string s = "StringParsers.RecursiveDef.RecursiveDef";
      s += "(";
      s += Dafny.Helpers.ToString(this._order);
      s += ", ";
      s += Dafny.Helpers.ToString(this._definition);
      s += ")";
      return s;
    }
    public static Std.Parsers.StringParsers._IRecursiveDef<R> Default() {
      return create(BigInteger.Zero, ((Func<Dafny.ISequence<Dafny.Rune>, Func<Std.Collections.Seq._ISlice<Dafny.Rune>, Std.Parsers.StringParsers._IParseResult<R>>> x6) => ((Std.Collections.Seq._ISlice<Dafny.Rune> x5) => Std.Parsers.StringParsers.ParseResult<R>.Default())));
    }
    public static Dafny.TypeDescriptor<Std.Parsers.StringParsers._IRecursiveDef<R>> _TypeDescriptor() {
      return new Dafny.TypeDescriptor<Std.Parsers.StringParsers._IRecursiveDef<R>>(Std.Parsers.StringParsers.RecursiveDef<R>.Default());
    }
    public static _IRecursiveDef<R> create(BigInteger order, Func<Func<Dafny.ISequence<Dafny.Rune>, Func<Std.Collections.Seq._ISlice<Dafny.Rune>, Std.Parsers.StringParsers._IParseResult<R>>>, Func<Std.Collections.Seq._ISlice<Dafny.Rune>, Std.Parsers.StringParsers._IParseResult<R>>> definition) {
      return new RecursiveDef<R>(order, definition);
    }
    public static _IRecursiveDef<R> create_RecursiveDef(BigInteger order, Func<Func<Dafny.ISequence<Dafny.Rune>, Func<Std.Collections.Seq._ISlice<Dafny.Rune>, Std.Parsers.StringParsers._IParseResult<R>>>, Func<Std.Collections.Seq._ISlice<Dafny.Rune>, Std.Parsers.StringParsers._IParseResult<R>>> definition) {
      return create(order, definition);
    }
    public bool is_RecursiveDef { get { return true; } }
    public BigInteger dtor_order {
      get {
        return this._order;
      }
    }
    public Func<Func<Dafny.ISequence<Dafny.Rune>, Func<Std.Collections.Seq._ISlice<Dafny.Rune>, Std.Parsers.StringParsers._IParseResult<R>>>, Func<Std.Collections.Seq._ISlice<Dafny.Rune>, Std.Parsers.StringParsers._IParseResult<R>>> dtor_definition {
      get {
        return this._definition;
      }
    }
  }
} // end of namespace Std.Parsers.StringParsers
namespace Std.Parsers.StringBuilders {

  public partial class __default {
    public static Std.Collections.Seq._ISlice<Dafny.Rune> ToInput(Dafny.ISequence<Dafny.Rune> other) {
      return Std.Collections.Seq.Slice<Dafny.Rune>.create(other, BigInteger.Zero, new BigInteger((other).Count));
    }
    public static Std.Collections.Seq._ISlice<Dafny.Rune> ToInputEnd(Dafny.ISequence<Dafny.Rune> other, BigInteger fromEnd)
    {
      return Std.Collections.Seq.Slice<Dafny.Rune>.create(other, (new BigInteger((other).Count)) - (fromEnd), new BigInteger((other).Count));
    }
    public static Func<Std.Collections.Seq._ISlice<Dafny.Rune>, Std.Parsers.StringParsers._IParseResult<Dafny.ISequence<Dafny.Rune>>> S(Dafny.ISequence<Dafny.Rune> s) {
      return Std.Parsers.StringParsers.__default.String(s);
    }
    public static Func<Std.Collections.Seq._ISlice<Dafny.Rune>, Std.Parsers.StringParsers._IParseResult<Dafny.ISequence<Dafny.Rune>>> String(Dafny.ISequence<Dafny.Rune> s) {
      return Std.Parsers.StringBuilders.__default.S(s);
    }
    public static Func<Std.Collections.Seq._ISlice<Dafny.Rune>, Std.Parsers.StringParsers._IParseResult<Dafny.ISequence<Dafny.Rune>>> Except(Dafny.ISequence<Dafny.Rune> s) {
      return Std.Parsers.StringBuilders.B<Dafny.Rune>.Rep(Std.Parsers.StringBuilders.__default.CharTest(Dafny.Helpers.Id<Func<Dafny.ISequence<Dafny.Rune>, Func<Dafny.Rune, bool>>>((_0_s) => ((System.Func<Dafny.Rune, bool>)((_1_c) => {
        return !(_0_s).Contains(_1_c);
      })))(s), Dafny.Sequence<Dafny.Rune>.Concat(Dafny.Sequence<Dafny.Rune>.Concat(Dafny.Sequence<Dafny.Rune>.UnicodeFromString("Not '"), s), Dafny.Sequence<Dafny.Rune>.UnicodeFromString("'"))));
    }
    public static Dafny.ISequence<Dafny.Rune> DebugSummaryInput(Dafny.ISequence<Dafny.Rune> name, Dafny.ISequence<Dafny.Rune> input)
    {
      return Std.Parsers.StringParsers.__default.DebugSummaryInput(name, input);
    }
    public static void PrintDebugSummaryOutput<__R>(Dafny.ISequence<Dafny.Rune> name, Dafny.ISequence<Dafny.Rune> input, Std.Parsers.StringParsers._IParseResult<__R> result)
    {
      Std.Parsers.StringParsers.__default.PrintDebugSummaryOutput<__R>(name, input, result);
    }
    public static Dafny.ISequence<Dafny.Rune> FailureToString<__R>(Dafny.ISequence<Dafny.Rune> input, Std.Parsers.StringParsers._IParseResult<__R> result)
    {
      return Std.Parsers.StringParsers.__default.FailureToString<__R>(input, result, new BigInteger(-1));
    }
    public static Std.Parsers.StringParsers._IParseResult<__T> Apply<__T>(Func<Std.Collections.Seq._ISlice<Dafny.Rune>, Std.Parsers.StringParsers._IParseResult<__T>> parser, Dafny.ISequence<Dafny.Rune> input)
    {
      return Std.Parsers.StringParsers.__default.Apply<__T>((parser), input);
    }
    public static Dafny.ISequence<Dafny.Rune> InputToString(Std.Collections.Seq._ISlice<Dafny.Rune> input) {
      return Std.Parsers.InputString.__default.View(input);
    }
    public static Func<Std.Collections.Seq._ISlice<Dafny.Rune>, Std.Parsers.StringParsers._IParseResult<__T>> SucceedWith<__T>(__T t) {
      return Std.Parsers.StringParsers.__default.SucceedWith<__T>(t);
    }
    public static Func<Std.Collections.Seq._ISlice<Dafny.Rune>, Std.Parsers.StringParsers._IParseResult<__T>> FailWith<__T>(Dafny.ISequence<Dafny.Rune> message, Std.Parsers.StringParsers._IFailureLevel level)
    {
      return Std.Parsers.StringParsers.__default.FailWith<__T>(message, level);
    }
    public static Func<Std.Collections.Seq._ISlice<Dafny.Rune>, Std.Parsers.StringParsers._IParseResult<__R>> ResultWith<__R>(Std.Parsers.StringParsers._IParseResult<__R> result) {
      return Std.Parsers.StringParsers.__default.ResultWith<__R>(result);
    }
    public static __R MId<__R>(__R r) {
      return r;
    }
    public static __R MapIdentity<__R>(__R r) {
      return r;
    }
    public static Func<Std.Collections.Seq._ISlice<Dafny.Rune>, Std.Parsers.StringParsers._IParseResult<__R>> O<__R>(Dafny.ISequence<Func<Std.Collections.Seq._ISlice<Dafny.Rune>, Std.Parsers.StringParsers._IParseResult<__R>>> alternatives) {
      if ((new BigInteger((alternatives).Count)).Sign == 0) {
        return Std.Parsers.StringBuilders.__default.FailWith<__R>(Dafny.Sequence<Dafny.Rune>.UnicodeFromString("no alternative"), Std.Parsers.StringParsers.FailureLevel.create_Recoverable());
      } else if ((new BigInteger((alternatives).Count)) == (BigInteger.One)) {
        return (alternatives).Select(BigInteger.Zero);
      } else {
        return Std.Parsers.StringParsers.__default.Or<__R>(((alternatives).Select(BigInteger.Zero)), (Std.Parsers.StringBuilders.__default.O<__R>((alternatives).Drop(BigInteger.One))));
      }
    }
    public static Func<Std.Collections.Seq._ISlice<Dafny.Rune>, Std.Parsers.StringParsers._IParseResult<__R>> Or<__R>(Dafny.ISequence<Func<Std.Collections.Seq._ISlice<Dafny.Rune>, Std.Parsers.StringParsers._IParseResult<__R>>> alternatives) {
      return Std.Parsers.StringBuilders.__default.O<__R>(alternatives);
    }
    public static Func<Std.Collections.Seq._ISlice<Dafny.Rune>, Std.Parsers.StringParsers._IParseResult<Dafny.Rune>> CharTest(Func<Dafny.Rune, bool> test, Dafny.ISequence<Dafny.Rune> name)
    {
      return Std.Parsers.StringParsers.__default.CharTest(test, name);
    }
    public static Func<Std.Collections.Seq._ISlice<Dafny.Rune>, Std.Parsers.StringParsers._IParseResult<__R>> Rec<__R>(Func<Func<Std.Collections.Seq._ISlice<Dafny.Rune>, Std.Parsers.StringParsers._IParseResult<__R>>, Func<Std.Collections.Seq._ISlice<Dafny.Rune>, Std.Parsers.StringParsers._IParseResult<__R>>> underlying) {
      return Std.Parsers.StringParsers.__default.Recursive<__R>(Dafny.Helpers.Id<Func<Func<Func<Std.Collections.Seq._ISlice<Dafny.Rune>, Std.Parsers.StringParsers._IParseResult<__R>>, Func<Std.Collections.Seq._ISlice<Dafny.Rune>, Std.Parsers.StringParsers._IParseResult<__R>>>, Func<Func<Std.Collections.Seq._ISlice<Dafny.Rune>, Std.Parsers.StringParsers._IParseResult<__R>>, Func<Std.Collections.Seq._ISlice<Dafny.Rune>, Std.Parsers.StringParsers._IParseResult<__R>>>>>((_0_underlying) => ((System.Func<Func<Std.Collections.Seq._ISlice<Dafny.Rune>, Std.Parsers.StringParsers._IParseResult<__R>>, Func<Std.Collections.Seq._ISlice<Dafny.Rune>, Std.Parsers.StringParsers._IParseResult<__R>>>)((_1_p) => {
        return (Dafny.Helpers.Id<Func<Func<Std.Collections.Seq._ISlice<Dafny.Rune>, Std.Parsers.StringParsers._IParseResult<__R>>, Func<Std.Collections.Seq._ISlice<Dafny.Rune>, Std.Parsers.StringParsers._IParseResult<__R>>>>(_0_underlying)(_1_p));
      })))(underlying));
    }
    public static Func<Std.Collections.Seq._ISlice<Dafny.Rune>, Std.Parsers.StringParsers._IParseResult<__R>> Recursive<__R>(Func<Func<Std.Collections.Seq._ISlice<Dafny.Rune>, Std.Parsers.StringParsers._IParseResult<__R>>, Func<Std.Collections.Seq._ISlice<Dafny.Rune>, Std.Parsers.StringParsers._IParseResult<__R>>> underlying) {
      return Std.Parsers.StringBuilders.__default.Rec<__R>(underlying);
    }
    public static BigInteger InputLength(Std.Collections.Seq._ISlice<Dafny.Rune> input) {
      return Std.Parsers.InputString.__default.Length(input);
    }
    public static bool NonProgressing(Std.Collections.Seq._ISlice<Dafny.Rune> input1, Std.Collections.Seq._ISlice<Dafny.Rune> input2)
    {
      return (Std.Parsers.StringBuilders.__default.InputLength(input1)) <= (Std.Parsers.StringBuilders.__default.InputLength(input2));
    }
    public static Std.Parsers.StringParsers._IParseResult<__R> RecursiveProgressError<__R>(Dafny.ISequence<Dafny.Rune> name, Std.Collections.Seq._ISlice<Dafny.Rune> input1, Std.Collections.Seq._ISlice<Dafny.Rune> input2)
    {
      return Std.Parsers.StringParsers.__default.RecursiveProgressError<__R>(name, input1, input2);
    }
    public static Func<Std.Collections.Seq._ISlice<Dafny.Rune>, Std.Parsers.StringParsers._IParseResult<__R>> RecNoStack<__R>(Func<Std.Collections.Seq._ISlice<Dafny.Rune>, Std.Parsers.StringParsers._IParseResult<Std.Parsers.StringBuilders._IRecNoStackResult<__R>>> underlying) {
      return Dafny.Helpers.Id<Func<Func<Std.Collections.Seq._ISlice<Dafny.Rune>, Std.Parsers.StringParsers._IParseResult<Std.Parsers.StringBuilders._IRecNoStackResult<__R>>>, Func<Std.Collections.Seq._ISlice<Dafny.Rune>, Std.Parsers.StringParsers._IParseResult<__R>>>>((_0_underlying) => ((System.Func<Std.Collections.Seq._ISlice<Dafny.Rune>, Std.Parsers.StringParsers._IParseResult<__R>>)((_1_input) => {
        return Std.Parsers.StringBuilders.__default.RecNoStack__<__R>(_0_underlying, _0_underlying, _1_input, _1_input, Dafny.Sequence<Func<Std.Parsers.StringParsers._IParseResult<__R>, Func<Std.Collections.Seq._ISlice<Dafny.Rune>, Std.Parsers.StringParsers._IParseResult<Std.Parsers.StringBuilders._IRecNoStackResult<__R>>>>>.FromElements());
      })))(underlying);
    }
    public static Func<Std.Collections.Seq._ISlice<Dafny.Rune>, Std.Parsers.StringParsers._IParseResult<__R>> RecursiveNoStack<__R>(Func<Std.Collections.Seq._ISlice<Dafny.Rune>, Std.Parsers.StringParsers._IParseResult<Std.Parsers.StringBuilders._IRecNoStackResult<__R>>> underlying) {
      return Std.Parsers.StringBuilders.__default.RecNoStack<__R>(underlying);
    }
    public static Std.Parsers.StringParsers._IParseResult<__R> RecNoStack__<__R>(Func<Std.Collections.Seq._ISlice<Dafny.Rune>, Std.Parsers.StringParsers._IParseResult<Std.Parsers.StringBuilders._IRecNoStackResult<__R>>> continuation, Func<Std.Collections.Seq._ISlice<Dafny.Rune>, Std.Parsers.StringParsers._IParseResult<Std.Parsers.StringBuilders._IRecNoStackResult<__R>>> underlying, Std.Collections.Seq._ISlice<Dafny.Rune> input, Std.Collections.Seq._ISlice<Dafny.Rune> previousInput, Dafny.ISequence<Func<Std.Parsers.StringParsers._IParseResult<__R>, Func<Std.Collections.Seq._ISlice<Dafny.Rune>, Std.Parsers.StringParsers._IParseResult<Std.Parsers.StringBuilders._IRecNoStackResult<__R>>>>> callbacks)
    {
    TAIL_CALL_START: ;
      Std.Parsers.StringParsers._IParseResult<Std.Parsers.StringBuilders._IRecNoStackResult<__R>> _0_continuationResult = Dafny.Helpers.Id<Func<Std.Collections.Seq._ISlice<Dafny.Rune>, Std.Parsers.StringParsers._IParseResult<Std.Parsers.StringBuilders._IRecNoStackResult<__R>>>>((continuation))(input);
      Std.Collections.Seq._ISlice<Dafny.Rune> _1_remaining = (_0_continuationResult).Remaining();
      if (((_0_continuationResult).IsFailure()) || ((((_0_continuationResult).Extract()).dtor__0).is_RecReturn)) {
        Std.Parsers.StringParsers._IParseResult<__R> _2_parseResult = (((_0_continuationResult).IsFailure()) ? ((_0_continuationResult).PropagateFailure<__R>()) : (Std.Parsers.StringParsers.ParseResult<__R>.create_ParseSuccess((((_0_continuationResult).Extract()).dtor__0).dtor_toReturn, _1_remaining)));
        if ((new BigInteger((callbacks).Count)).Sign == 0) {
          return _2_parseResult;
        } else {
          Func<Std.Collections.Seq._ISlice<Dafny.Rune>, Std.Parsers.StringParsers._IParseResult<Std.Parsers.StringBuilders._IRecNoStackResult<__R>>> _3_toCompute = Dafny.Helpers.Id<Func<Std.Parsers.StringParsers._IParseResult<__R>, Func<Std.Collections.Seq._ISlice<Dafny.Rune>, Std.Parsers.StringParsers._IParseResult<Std.Parsers.StringBuilders._IRecNoStackResult<__R>>>>>((callbacks).Select(BigInteger.Zero))(_2_parseResult);
          if ((Std.Parsers.InputString.__default.Length(input)) < (Std.Parsers.InputString.__default.Length(_1_remaining))) {
            return Std.Parsers.StringBuilders.__default.RecursiveProgressError<__R>(Dafny.Sequence<Dafny.Rune>.UnicodeFromString("Parsers.RecNoStack[internal]"), input, _1_remaining);
          } else if ((Std.Parsers.InputString.__default.Length(previousInput)) < (Std.Parsers.InputString.__default.Length(input))) {
            return Std.Parsers.StringBuilders.__default.RecursiveProgressError<__R>(Dafny.Sequence<Dafny.Rune>.UnicodeFromString("Parsers.RecNoStack[internal]"), previousInput, input);
          } else {
            Func<Std.Collections.Seq._ISlice<Dafny.Rune>, Std.Parsers.StringParsers._IParseResult<Std.Parsers.StringBuilders._IRecNoStackResult<__R>>> _in0 = _3_toCompute;
            Func<Std.Collections.Seq._ISlice<Dafny.Rune>, Std.Parsers.StringParsers._IParseResult<Std.Parsers.StringBuilders._IRecNoStackResult<__R>>> _in1 = underlying;
            Std.Collections.Seq._ISlice<Dafny.Rune> _in2 = _1_remaining;
            Std.Collections.Seq._ISlice<Dafny.Rune> _in3 = input;
            Dafny.ISequence<Func<Std.Parsers.StringParsers._IParseResult<__R>, Func<Std.Collections.Seq._ISlice<Dafny.Rune>, Std.Parsers.StringParsers._IParseResult<Std.Parsers.StringBuilders._IRecNoStackResult<__R>>>>> _in4 = (callbacks).Drop(BigInteger.One);
            continuation = _in0;
            underlying = _in1;
            input = _in2;
            previousInput = _in3;
            callbacks = _in4;
            goto TAIL_CALL_START;
          }
        }
      } else {
        Std.Parsers.StringBuilders._IRecNoStackResult<__R> _4_recursor = ((_0_continuationResult).Extract()).dtor__0;
        Func<__R, Std.Collections.Seq._ISlice<Dafny.Rune>, Func<Std.Collections.Seq._ISlice<Dafny.Rune>, Std.Parsers.StringParsers._IParseResult<Std.Parsers.StringBuilders._IRecNoStackResult<__R>>>> _5_rToNewParserOfRecursiveNoStackResultOfR = (_4_recursor).dtor_toContinue;
        if ((Std.Parsers.InputString.__default.Length(_1_remaining)) < (Std.Parsers.InputString.__default.Length(input))) {
          Func<Std.Collections.Seq._ISlice<Dafny.Rune>, Std.Parsers.StringParsers._IParseResult<Std.Parsers.StringBuilders._IRecNoStackResult<__R>>> _in5 = underlying;
          Func<Std.Collections.Seq._ISlice<Dafny.Rune>, Std.Parsers.StringParsers._IParseResult<Std.Parsers.StringBuilders._IRecNoStackResult<__R>>> _in6 = underlying;
          Std.Collections.Seq._ISlice<Dafny.Rune> _in7 = _1_remaining;
          Std.Collections.Seq._ISlice<Dafny.Rune> _in8 = _1_remaining;
          Dafny.ISequence<Func<Std.Parsers.StringParsers._IParseResult<__R>, Func<Std.Collections.Seq._ISlice<Dafny.Rune>, Std.Parsers.StringParsers._IParseResult<Std.Parsers.StringBuilders._IRecNoStackResult<__R>>>>> _in9 = Dafny.Sequence<Func<Std.Parsers.StringParsers._IParseResult<__R>, Func<Std.Collections.Seq._ISlice<Dafny.Rune>, Std.Parsers.StringParsers._IParseResult<Std.Parsers.StringBuilders._IRecNoStackResult<__R>>>>>.Concat(Dafny.Sequence<Func<Std.Parsers.StringParsers._IParseResult<__R>, Func<Std.Collections.Seq._ISlice<Dafny.Rune>, Std.Parsers.StringParsers._IParseResult<Std.Parsers.StringBuilders._IRecNoStackResult<__R>>>>>.FromElements(Dafny.Helpers.Id<Func<Func<__R, Std.Collections.Seq._ISlice<Dafny.Rune>, Func<Std.Collections.Seq._ISlice<Dafny.Rune>, Std.Parsers.StringParsers._IParseResult<Std.Parsers.StringBuilders._IRecNoStackResult<__R>>>>, Func<Std.Parsers.StringParsers._IParseResult<__R>, Func<Std.Collections.Seq._ISlice<Dafny.Rune>, Std.Parsers.StringParsers._IParseResult<Std.Parsers.StringBuilders._IRecNoStackResult<__R>>>>>>((_6_rToNewParserOfRecursiveNoStackResultOfR) => ((System.Func<Std.Parsers.StringParsers._IParseResult<__R>, Func<Std.Collections.Seq._ISlice<Dafny.Rune>, Std.Parsers.StringParsers._IParseResult<Std.Parsers.StringBuilders._IRecNoStackResult<__R>>>>)((_7_p) => {
            return (((_7_p).IsFailure()) ? (Std.Parsers.StringParsers.__default.ResultWith<Std.Parsers.StringBuilders._IRecNoStackResult<__R>>((_7_p).PropagateFailure<Std.Parsers.StringBuilders._IRecNoStackResult<__R>>())) : (Dafny.Helpers.Let<_System._ITuple2<__R, Std.Collections.Seq._ISlice<Dafny.Rune>>, Func<Std.Collections.Seq._ISlice<Dafny.Rune>, Std.Parsers.StringParsers._IParseResult<Std.Parsers.StringBuilders._IRecNoStackResult<__R>>>>((_7_p).Extract(), _pat_let48_0 => Dafny.Helpers.Let<__R, Func<Std.Collections.Seq._ISlice<Dafny.Rune>, Std.Parsers.StringParsers._IParseResult<Std.Parsers.StringBuilders._IRecNoStackResult<__R>>>>(_pat_let48_0.dtor__0, _8_r => Dafny.Helpers.Let<Std.Collections.Seq._ISlice<Dafny.Rune>, Func<Std.Collections.Seq._ISlice<Dafny.Rune>, Std.Parsers.StringParsers._IParseResult<Std.Parsers.StringBuilders._IRecNoStackResult<__R>>>>(_pat_let48_0.dtor__1, _9_remaining2 => Dafny.Helpers.Id<Func<__R, Std.Collections.Seq._ISlice<Dafny.Rune>, Func<Std.Collections.Seq._ISlice<Dafny.Rune>, Std.Parsers.StringParsers._IParseResult<Std.Parsers.StringBuilders._IRecNoStackResult<__R>>>>>(_6_rToNewParserOfRecursiveNoStackResultOfR)(_8_r, _9_remaining2))))));
          })))(_5_rToNewParserOfRecursiveNoStackResultOfR)), callbacks);
          continuation = _in5;
          underlying = _in6;
          input = _in7;
          previousInput = _in8;
          callbacks = _in9;
          goto TAIL_CALL_START;
        } else if (((Std.Parsers.InputString.__default.Length(_1_remaining)) == (Std.Parsers.InputString.__default.Length(input))) && ((Std.Parsers.InputString.__default.Length(_1_remaining)) < (Std.Parsers.InputString.__default.Length(previousInput)))) {
          Func<Std.Collections.Seq._ISlice<Dafny.Rune>, Std.Parsers.StringParsers._IParseResult<Std.Parsers.StringBuilders._IRecNoStackResult<__R>>> _in10 = underlying;
          Func<Std.Collections.Seq._ISlice<Dafny.Rune>, Std.Parsers.StringParsers._IParseResult<Std.Parsers.StringBuilders._IRecNoStackResult<__R>>> _in11 = underlying;
          Std.Collections.Seq._ISlice<Dafny.Rune> _in12 = _1_remaining;
          Std.Collections.Seq._ISlice<Dafny.Rune> _in13 = _1_remaining;
          Dafny.ISequence<Func<Std.Parsers.StringParsers._IParseResult<__R>, Func<Std.Collections.Seq._ISlice<Dafny.Rune>, Std.Parsers.StringParsers._IParseResult<Std.Parsers.StringBuilders._IRecNoStackResult<__R>>>>> _in14 = Dafny.Sequence<Func<Std.Parsers.StringParsers._IParseResult<__R>, Func<Std.Collections.Seq._ISlice<Dafny.Rune>, Std.Parsers.StringParsers._IParseResult<Std.Parsers.StringBuilders._IRecNoStackResult<__R>>>>>.Concat(Dafny.Sequence<Func<Std.Parsers.StringParsers._IParseResult<__R>, Func<Std.Collections.Seq._ISlice<Dafny.Rune>, Std.Parsers.StringParsers._IParseResult<Std.Parsers.StringBuilders._IRecNoStackResult<__R>>>>>.FromElements(Dafny.Helpers.Id<Func<Func<__R, Std.Collections.Seq._ISlice<Dafny.Rune>, Func<Std.Collections.Seq._ISlice<Dafny.Rune>, Std.Parsers.StringParsers._IParseResult<Std.Parsers.StringBuilders._IRecNoStackResult<__R>>>>, Func<Std.Parsers.StringParsers._IParseResult<__R>, Func<Std.Collections.Seq._ISlice<Dafny.Rune>, Std.Parsers.StringParsers._IParseResult<Std.Parsers.StringBuilders._IRecNoStackResult<__R>>>>>>((_10_rToNewParserOfRecursiveNoStackResultOfR) => ((System.Func<Std.Parsers.StringParsers._IParseResult<__R>, Func<Std.Collections.Seq._ISlice<Dafny.Rune>, Std.Parsers.StringParsers._IParseResult<Std.Parsers.StringBuilders._IRecNoStackResult<__R>>>>)((_11_p) => {
            return (((_11_p).IsFailure()) ? (Std.Parsers.StringParsers.__default.ResultWith<Std.Parsers.StringBuilders._IRecNoStackResult<__R>>((_11_p).PropagateFailure<Std.Parsers.StringBuilders._IRecNoStackResult<__R>>())) : (Dafny.Helpers.Let<_System._ITuple2<__R, Std.Collections.Seq._ISlice<Dafny.Rune>>, Func<Std.Collections.Seq._ISlice<Dafny.Rune>, Std.Parsers.StringParsers._IParseResult<Std.Parsers.StringBuilders._IRecNoStackResult<__R>>>>((_11_p).Extract(), _pat_let49_0 => Dafny.Helpers.Let<__R, Func<Std.Collections.Seq._ISlice<Dafny.Rune>, Std.Parsers.StringParsers._IParseResult<Std.Parsers.StringBuilders._IRecNoStackResult<__R>>>>(_pat_let49_0.dtor__0, _12_r => Dafny.Helpers.Let<Std.Collections.Seq._ISlice<Dafny.Rune>, Func<Std.Collections.Seq._ISlice<Dafny.Rune>, Std.Parsers.StringParsers._IParseResult<Std.Parsers.StringBuilders._IRecNoStackResult<__R>>>>(_pat_let49_0.dtor__1, _13_remaining2 => Dafny.Helpers.Id<Func<__R, Std.Collections.Seq._ISlice<Dafny.Rune>, Func<Std.Collections.Seq._ISlice<Dafny.Rune>, Std.Parsers.StringParsers._IParseResult<Std.Parsers.StringBuilders._IRecNoStackResult<__R>>>>>(_10_rToNewParserOfRecursiveNoStackResultOfR)(_12_r, _13_remaining2))))));
          })))(_5_rToNewParserOfRecursiveNoStackResultOfR)), callbacks);
          continuation = _in10;
          underlying = _in11;
          input = _in12;
          previousInput = _in13;
          callbacks = _in14;
          goto TAIL_CALL_START;
        } else {
          return Std.Parsers.StringBuilders.__default.RecursiveProgressError<__R>(Dafny.Sequence<Dafny.Rune>.UnicodeFromString("ParserBuilders.RecNoStack"), input, _1_remaining);
        }
      }
    }
    public static Func<Std.Collections.Seq._ISlice<Dafny.Rune>, Std.Parsers.StringParsers._IParseResult<__R>> RecMap<__R>(Dafny.IMap<Dafny.ISequence<Dafny.Rune>,Std.Parsers.StringBuilders._IRecMapDef<__R>> underlying, Dafny.ISequence<Dafny.Rune> startFun)
    {
      return Std.Parsers.StringParsers.__default.RecursiveMap<__R>(Dafny.Helpers.Id<Func<Dafny.IMap<Dafny.ISequence<Dafny.Rune>,Std.Parsers.StringBuilders._IRecMapDef<__R>>, Dafny.IMap<Dafny.ISequence<Dafny.Rune>,Std.Parsers.StringParsers._IRecursiveDef<__R>>>>((_0_underlying) => ((System.Func<Dafny.IMap<Dafny.ISequence<Dafny.Rune>,Std.Parsers.StringParsers._IRecursiveDef<__R>>>)(() => {
        var _coll0 = new System.Collections.Generic.List<Dafny.Pair<Dafny.ISequence<Dafny.Rune>,Std.Parsers.StringParsers._IRecursiveDef<__R>>>();
        foreach (Dafny.ISequence<Dafny.Rune> _compr_0 in (_0_underlying).Keys.Elements) {
          Dafny.ISequence<Dafny.Rune> _1_k = (Dafny.ISequence<Dafny.Rune>)_compr_0;
          if ((_0_underlying).Contains(_1_k)) {
            _coll0.Add(new Dafny.Pair<Dafny.ISequence<Dafny.Rune>,Std.Parsers.StringParsers._IRecursiveDef<__R>>(_1_k, Std.Parsers.StringParsers.RecursiveDef<__R>.create((Dafny.Map<Dafny.ISequence<Dafny.Rune>, Std.Parsers.StringBuilders._IRecMapDef<__R>>.Select(_0_underlying,_1_k)).dtor_order, Dafny.Helpers.Id<Func<Dafny.IMap<Dafny.ISequence<Dafny.Rune>,Std.Parsers.StringBuilders._IRecMapDef<__R>>, Dafny.ISequence<Dafny.Rune>, Func<Func<Dafny.ISequence<Dafny.Rune>, Func<Std.Collections.Seq._ISlice<Dafny.Rune>, Std.Parsers.StringParsers._IParseResult<__R>>>, Func<Std.Collections.Seq._ISlice<Dafny.Rune>, Std.Parsers.StringParsers._IParseResult<__R>>>>>((_2_underlying, _3_k) => ((System.Func<Func<Dafny.ISequence<Dafny.Rune>, Func<Std.Collections.Seq._ISlice<Dafny.Rune>, Std.Parsers.StringParsers._IParseResult<__R>>>, Func<Std.Collections.Seq._ISlice<Dafny.Rune>, Std.Parsers.StringParsers._IParseResult<__R>>>)((_4_selector) => {
  return (Dafny.Helpers.Id<Func<Func<Dafny.ISequence<Dafny.Rune>, Func<Std.Collections.Seq._ISlice<Dafny.Rune>, Std.Parsers.StringParsers._IParseResult<__R>>>, Func<Std.Collections.Seq._ISlice<Dafny.Rune>, Std.Parsers.StringParsers._IParseResult<__R>>>>((Dafny.Map<Dafny.ISequence<Dafny.Rune>, Std.Parsers.StringBuilders._IRecMapDef<__R>>.Select(_2_underlying,_3_k)).dtor_definition)(Dafny.Helpers.Id<Func<Func<Dafny.ISequence<Dafny.Rune>, Func<Std.Collections.Seq._ISlice<Dafny.Rune>, Std.Parsers.StringParsers._IParseResult<__R>>>, Func<Dafny.ISequence<Dafny.Rune>, Func<Std.Collections.Seq._ISlice<Dafny.Rune>, Std.Parsers.StringParsers._IParseResult<__R>>>>>((_5_selector) => ((System.Func<Dafny.ISequence<Dafny.Rune>, Func<Std.Collections.Seq._ISlice<Dafny.Rune>, Std.Parsers.StringParsers._IParseResult<__R>>>)((_6_name) => {
    return Dafny.Helpers.Id<Func<Dafny.ISequence<Dafny.Rune>, Func<Std.Collections.Seq._ISlice<Dafny.Rune>, Std.Parsers.StringParsers._IParseResult<__R>>>>(_5_selector)(_6_name);
  })))(_4_selector)));
})))(_0_underlying, _1_k))));
          }
        }
        return Dafny.Map<Dafny.ISequence<Dafny.Rune>,Std.Parsers.StringParsers._IRecursiveDef<__R>>.FromCollection(_coll0);
      }))())(underlying), startFun);
    }
    public static Func<Std.Collections.Seq._ISlice<Dafny.Rune>, Std.Parsers.StringParsers._IParseResult<__R>> RecursiveMap<__R>(Dafny.IMap<Dafny.ISequence<Dafny.Rune>,Std.Parsers.StringBuilders._IRecMapDef<__R>> underlying, Dafny.ISequence<Dafny.Rune> startFun)
    {
      return Std.Parsers.StringBuilders.__default.RecMap<__R>(underlying, startFun);
    }
    public static Func<Std.Collections.Seq._ISlice<Dafny.Rune>, Std.Parsers.StringParsers._IParseResult<BigInteger>> Int { get {
      return Std.Parsers.StringParsers.__default.Int();
    } }
    public static Func<Std.Collections.Seq._ISlice<Dafny.Rune>, Std.Parsers.StringParsers._IParseResult<BigInteger>> Nat { get {
      return Std.Parsers.StringParsers.__default.Nat();
    } }
    public static Func<Std.Collections.Seq._ISlice<Dafny.Rune>, Std.Parsers.StringParsers._IParseResult<Dafny.Rune>> Digit { get {
      return Std.Parsers.StringParsers.__default.Digit();
    } }
    public static Func<Std.Collections.Seq._ISlice<Dafny.Rune>, Std.Parsers.StringParsers._IParseResult<BigInteger>> DigitNumber { get {
      return Std.Parsers.StringParsers.__default.DigitNumber();
    } }
    public static Func<Std.Collections.Seq._ISlice<Dafny.Rune>, Std.Parsers.StringParsers._IParseResult<Dafny.ISequence<Dafny.Rune>>> WS { get {
      return Std.Parsers.StringParsers.__default.WS();
    } }
    public static Func<Std.Collections.Seq._ISlice<Dafny.Rune>, Std.Parsers.StringParsers._IParseResult<Dafny.ISequence<Dafny.Rune>>> Whitespace { get {
      return Std.Parsers.StringBuilders.__default.WS;
    } }
    public static Func<Std.Collections.Seq._ISlice<Dafny.Rune>, Std.Parsers.StringParsers._IParseResult<_System._ITuple0>> Nothing { get {
      return Std.Parsers.StringParsers.__default.Epsilon();
    } }
    public static Func<Std.Collections.Seq._ISlice<Dafny.Rune>, Std.Parsers.StringParsers._IParseResult<_System._ITuple0>> EOS { get {
      return Std.Parsers.StringParsers.__default.EndOfString();
    } }
    public static Func<Std.Collections.Seq._ISlice<Dafny.Rune>, Std.Parsers.StringParsers._IParseResult<_System._ITuple0>> EndOfString { get {
      return Std.Parsers.StringBuilders.__default.EOS;
    } }
  }

  public interface _IB<R> {
    bool is_B { get; }
    Func<Std.Collections.Seq._ISlice<Dafny.Rune>, Std.Parsers.StringParsers._IParseResult<R>> dtor_apply { get; }
  }
  public class B<R> : _IB<R> {
    public readonly Func<Std.Collections.Seq._ISlice<Dafny.Rune>, Std.Parsers.StringParsers._IParseResult<R>> _apply;
    public B(Func<Std.Collections.Seq._ISlice<Dafny.Rune>, Std.Parsers.StringParsers._IParseResult<R>> apply) {
      this._apply = apply;
    }
    public static Func<Std.Collections.Seq._ISlice<Dafny.Rune>, Std.Parsers.StringParsers._IParseResult<__R>> DowncastClone<__R>(Func<Std.Collections.Seq._ISlice<Dafny.Rune>, Std.Parsers.StringParsers._IParseResult<R>> _this, Func<R, __R> converter0) {
      return (_this).DowncastClone<Std.Collections.Seq._ISlice<Dafny.Rune>, Std.Parsers.StringParsers._IParseResult<R>, Std.Collections.Seq._ISlice<Dafny.Rune>, Std.Parsers.StringParsers._IParseResult<__R>>(Dafny.Helpers.Id<Std.Collections.Seq._ISlice<Dafny.Rune>>, Dafny.Helpers.CastConverter<Std.Parsers.StringParsers._IParseResult<R>, Std.Parsers.StringParsers._IParseResult<__R>>);
    }
    public override bool Equals(object other) {
      var oth = other as Std.Parsers.StringBuilders.B<R>;
      return oth != null && object.Equals(this._apply, oth._apply);
    }
    public override int GetHashCode() {
      ulong hash = 5381;
      hash = ((hash << 5) + hash) + 0;
      hash = ((hash << 5) + hash) + ((ulong)Dafny.Helpers.GetHashCode(this._apply));
      return (int) hash;
    }
    public override string ToString() {
      string s = "StringBuilders.B.B";
      s += "(";
      s += Dafny.Helpers.ToString(this._apply);
      s += ")";
      return s;
    }
    public static Func<Std.Collections.Seq._ISlice<Dafny.Rune>, Std.Parsers.StringParsers._IParseResult<R>> Default() {
      return ((Std.Collections.Seq._ISlice<Dafny.Rune> x7) => Std.Parsers.StringParsers.ParseResult<R>.Default());
    }
    public static Dafny.TypeDescriptor<Func<Std.Collections.Seq._ISlice<Dafny.Rune>, Std.Parsers.StringParsers._IParseResult<R>>> _TypeDescriptor() {
      return new Dafny.TypeDescriptor<Func<Std.Collections.Seq._ISlice<Dafny.Rune>, Std.Parsers.StringParsers._IParseResult<R>>>(((Std.Collections.Seq._ISlice<Dafny.Rune> x8) => Std.Parsers.StringParsers.ParseResult<R>.Default()));
    }
    public static _IB<R> create(Func<Std.Collections.Seq._ISlice<Dafny.Rune>, Std.Parsers.StringParsers._IParseResult<R>> apply) {
      return new B<R>(apply);
    }
    public static _IB<R> create_B(Func<Std.Collections.Seq._ISlice<Dafny.Rune>, Std.Parsers.StringParsers._IParseResult<R>> apply) {
      return create(apply);
    }
    public bool is_B { get { return true; } }
    public Func<Std.Collections.Seq._ISlice<Dafny.Rune>, Std.Parsers.StringParsers._IParseResult<R>> dtor_apply {
      get {
        return this._apply;
      }
    }
    public static Std.Parsers.StringParsers._IParseResult<R> Apply(Func<Std.Collections.Seq._ISlice<Dafny.Rune>, Std.Parsers.StringParsers._IParseResult<R>> _this, Dafny.ISequence<Dafny.Rune> input) {
      return Dafny.Helpers.Id<Func<Std.Collections.Seq._ISlice<Dafny.Rune>, Std.Parsers.StringParsers._IParseResult<R>>>((_this))(Std.Parsers.StringBuilders.__default.ToInput(input));
    }
    public static Func<Std.Collections.Seq._ISlice<Dafny.Rune>, Std.Parsers.StringParsers._IParseResult<Std.Wrappers._IOption<R>>> _q(Func<Std.Collections.Seq._ISlice<Dafny.Rune>, Std.Parsers.StringParsers._IParseResult<R>> _this) {
      return Std.Parsers.StringParsers.__default.Maybe<R>((_this));
    }
    public static Func<Std.Collections.Seq._ISlice<Dafny.Rune>, Std.Parsers.StringParsers._IParseResult<Std.Wrappers._IOption<R>>> Option(Func<Std.Collections.Seq._ISlice<Dafny.Rune>, Std.Parsers.StringParsers._IParseResult<R>> _this) {
      return Std.Parsers.StringParsers.__default.Maybe<R>((_this));
    }
    public static Func<Std.Collections.Seq._ISlice<Dafny.Rune>, Std.Parsers.StringParsers._IParseResult<R>> _q_q(Func<Std.Collections.Seq._ISlice<Dafny.Rune>, Std.Parsers.StringParsers._IParseResult<R>> _this) {
      return Std.Parsers.StringParsers.__default._q<R>((_this));
    }
    public static Func<Std.Collections.Seq._ISlice<Dafny.Rune>, Std.Parsers.StringParsers._IParseResult<R>> FailureResetsInput(Func<Std.Collections.Seq._ISlice<Dafny.Rune>, Std.Parsers.StringParsers._IParseResult<R>> _this) {
      return Std.Parsers.StringParsers.__default._q<R>((_this));
    }
    public static Func<Std.Collections.Seq._ISlice<Dafny.Rune>, Std.Parsers.StringParsers._IParseResult<__U>> e__I<__U>(Func<Std.Collections.Seq._ISlice<Dafny.Rune>, Std.Parsers.StringParsers._IParseResult<R>> _this, Func<Std.Collections.Seq._ISlice<Dafny.Rune>, Std.Parsers.StringParsers._IParseResult<__U>> other) {
      return Std.Parsers.StringParsers.__default.ConcatKeepRight<R, __U>((_this), (other));
    }
    public static Func<Std.Collections.Seq._ISlice<Dafny.Rune>, Std.Parsers.StringParsers._IParseResult<__U>> ConcatKeepRight<__U>(Func<Std.Collections.Seq._ISlice<Dafny.Rune>, Std.Parsers.StringParsers._IParseResult<R>> _this, Func<Std.Collections.Seq._ISlice<Dafny.Rune>, Std.Parsers.StringParsers._IParseResult<__U>> other) {
      return Std.Parsers.StringBuilders.B<R>.e__I<__U>(_this, other);
    }
    public static Func<Std.Collections.Seq._ISlice<Dafny.Rune>, Std.Parsers.StringParsers._IParseResult<R>> I__e<__U>(Func<Std.Collections.Seq._ISlice<Dafny.Rune>, Std.Parsers.StringParsers._IParseResult<R>> _this, Func<Std.Collections.Seq._ISlice<Dafny.Rune>, Std.Parsers.StringParsers._IParseResult<__U>> other) {
      return Std.Parsers.StringParsers.__default.ConcatKeepLeft<R, __U>((_this), (other));
    }
    public static Func<Std.Collections.Seq._ISlice<Dafny.Rune>, Std.Parsers.StringParsers._IParseResult<R>> ConcatKeepLeft<__U>(Func<Std.Collections.Seq._ISlice<Dafny.Rune>, Std.Parsers.StringParsers._IParseResult<R>> _this, Func<Std.Collections.Seq._ISlice<Dafny.Rune>, Std.Parsers.StringParsers._IParseResult<__U>> other) {
      return Std.Parsers.StringBuilders.B<R>.I__e<__U>(_this, other);
    }
    public static Func<Std.Collections.Seq._ISlice<Dafny.Rune>, Std.Parsers.StringParsers._IParseResult<_System._ITuple2<R, __U>>> I__I<__U>(Func<Std.Collections.Seq._ISlice<Dafny.Rune>, Std.Parsers.StringParsers._IParseResult<R>> _this, Func<Std.Collections.Seq._ISlice<Dafny.Rune>, Std.Parsers.StringParsers._IParseResult<__U>> other) {
      return Std.Parsers.StringParsers.__default.Concat<R, __U>((_this), (other));
    }
    public static Func<Std.Collections.Seq._ISlice<Dafny.Rune>, Std.Parsers.StringParsers._IParseResult<_System._ITuple2<R, __U>>> Concat<__U>(Func<Std.Collections.Seq._ISlice<Dafny.Rune>, Std.Parsers.StringParsers._IParseResult<R>> _this, Func<Std.Collections.Seq._ISlice<Dafny.Rune>, Std.Parsers.StringParsers._IParseResult<__U>> other) {
      return Std.Parsers.StringBuilders.B<R>.I__I<__U>(_this, other);
    }
    public static Func<Std.Collections.Seq._ISlice<Dafny.Rune>, Std.Parsers.StringParsers._IParseResult<R>> If<__U>(Func<Std.Collections.Seq._ISlice<Dafny.Rune>, Std.Parsers.StringParsers._IParseResult<R>> _this, Func<Std.Collections.Seq._ISlice<Dafny.Rune>, Std.Parsers.StringParsers._IParseResult<__U>> cond) {
      return Std.Parsers.StringParsers.__default.If<__U, R>((cond), (_this));
    }
    public static Func<Std.Collections.Seq._ISlice<Dafny.Rune>, Std.Parsers.StringParsers._IParseResult<__U>> M<__U>(Func<Std.Collections.Seq._ISlice<Dafny.Rune>, Std.Parsers.StringParsers._IParseResult<R>> _this, Func<R, __U> mappingFunc) {
      return Std.Parsers.StringParsers.__default.Map<R, __U>((_this), mappingFunc);
    }
    public static Func<Std.Collections.Seq._ISlice<Dafny.Rune>, Std.Parsers.StringParsers._IParseResult<__U>> Map<__U>(Func<Std.Collections.Seq._ISlice<Dafny.Rune>, Std.Parsers.StringParsers._IParseResult<R>> _this, Func<R, __U> mappingFunc) {
      return Std.Parsers.StringBuilders.B<R>.M<__U>(_this, mappingFunc);
    }
    public static Func<Std.Collections.Seq._ISlice<Dafny.Rune>, Std.Parsers.StringParsers._IParseResult<__U>> M2<__R1, __R2, __U>(Func<Std.Collections.Seq._ISlice<Dafny.Rune>, Std.Parsers.StringParsers._IParseResult<R>> _this, Func<R, _System._ITuple2<__R1, __R2>> unfolder, Func<__R1, __R2, __U> mappingFunc)
    {
      return Std.Parsers.StringParsers.__default.Map<R, __U>((_this), Dafny.Helpers.Id<Func<Func<R, _System._ITuple2<__R1, __R2>>, Func<__R1, __R2, __U>, Func<R, __U>>>((_0_unfolder, _1_mappingFunc) => ((System.Func<R, __U>)((_2_x) => {
        return Dafny.Helpers.Let<_System._ITuple2<__R1, __R2>, __U>(Dafny.Helpers.Id<Func<R, _System._ITuple2<__R1, __R2>>>(_0_unfolder)(_2_x), _pat_let50_0 => Dafny.Helpers.Let<_System._ITuple2<__R1, __R2>, __U>(_pat_let50_0, _3_x => Dafny.Helpers.Id<Func<__R1, __R2, __U>>(_1_mappingFunc)((_3_x).dtor__0, (_3_x).dtor__1)));
      })))(unfolder, mappingFunc));
    }
    public static Func<Std.Collections.Seq._ISlice<Dafny.Rune>, Std.Parsers.StringParsers._IParseResult<__U>> Map2<__R1, __R2, __U>(Func<Std.Collections.Seq._ISlice<Dafny.Rune>, Std.Parsers.StringParsers._IParseResult<R>> _this, Func<R, _System._ITuple2<__R1, __R2>> unfolder, Func<__R1, __R2, __U> mappingFunc)
    {
      return Std.Parsers.StringBuilders.B<R>.M2<__R1, __R2, __U>(_this, unfolder, mappingFunc);
    }
    public static Func<Std.Collections.Seq._ISlice<Dafny.Rune>, Std.Parsers.StringParsers._IParseResult<__U>> M3<__R1, __R2, __R3, __U>(Func<Std.Collections.Seq._ISlice<Dafny.Rune>, Std.Parsers.StringParsers._IParseResult<R>> _this, Func<R, _System._ITuple3<__R1, __R2, __R3>> unfolder, Func<__R1, __R2, __R3, __U> mappingFunc)
    {
      return Std.Parsers.StringParsers.__default.Map<R, __U>((_this), Dafny.Helpers.Id<Func<Func<R, _System._ITuple3<__R1, __R2, __R3>>, Func<__R1, __R2, __R3, __U>, Func<R, __U>>>((_0_unfolder, _1_mappingFunc) => ((System.Func<R, __U>)((_2_x) => {
        return Dafny.Helpers.Let<_System._ITuple3<__R1, __R2, __R3>, __U>(Dafny.Helpers.Id<Func<R, _System._ITuple3<__R1, __R2, __R3>>>(_0_unfolder)(_2_x), _pat_let51_0 => Dafny.Helpers.Let<_System._ITuple3<__R1, __R2, __R3>, __U>(_pat_let51_0, _3_x => Dafny.Helpers.Id<Func<__R1, __R2, __R3, __U>>(_1_mappingFunc)((_3_x).dtor__0, (_3_x).dtor__1, (_3_x).dtor__2)));
      })))(unfolder, mappingFunc));
    }
    public static Func<Std.Collections.Seq._ISlice<Dafny.Rune>, Std.Parsers.StringParsers._IParseResult<__U>> Map3<__R1, __R2, __R3, __U>(Func<Std.Collections.Seq._ISlice<Dafny.Rune>, Std.Parsers.StringParsers._IParseResult<R>> _this, Func<R, _System._ITuple3<__R1, __R2, __R3>> unfolder, Func<__R1, __R2, __R3, __U> mappingFunc)
    {
      return Std.Parsers.StringBuilders.B<R>.M3<__R1, __R2, __R3, __U>(_this, unfolder, mappingFunc);
    }
    public static Func<Std.Collections.Seq._ISlice<Dafny.Rune>, Std.Parsers.StringParsers._IParseResult<__V>> Then<__V>(Func<Std.Collections.Seq._ISlice<Dafny.Rune>, Std.Parsers.StringParsers._IParseResult<R>> _this, Func<R, Func<Std.Collections.Seq._ISlice<Dafny.Rune>, Std.Parsers.StringParsers._IParseResult<__V>>> other) {
      return Std.Parsers.StringParsers.__default.Bind<R, __V>((_this), Dafny.Helpers.Id<Func<Func<R, Func<Std.Collections.Seq._ISlice<Dafny.Rune>, Std.Parsers.StringParsers._IParseResult<__V>>>, Func<R, Func<Std.Collections.Seq._ISlice<Dafny.Rune>, Std.Parsers.StringParsers._IParseResult<__V>>>>>((_0_other) => ((System.Func<R, Func<Std.Collections.Seq._ISlice<Dafny.Rune>, Std.Parsers.StringParsers._IParseResult<__V>>>)((_1_result) => {
        return (Dafny.Helpers.Id<Func<R, Func<Std.Collections.Seq._ISlice<Dafny.Rune>, Std.Parsers.StringParsers._IParseResult<__V>>>>(_0_other)(_1_result));
      })))(other));
    }
    public static Func<Std.Collections.Seq._ISlice<Dafny.Rune>, Std.Parsers.StringParsers._IParseResult<__V>> ThenWithRemaining<__V>(Func<Std.Collections.Seq._ISlice<Dafny.Rune>, Std.Parsers.StringParsers._IParseResult<R>> _this, Func<R, Std.Collections.Seq._ISlice<Dafny.Rune>, Func<Std.Collections.Seq._ISlice<Dafny.Rune>, Std.Parsers.StringParsers._IParseResult<__V>>> other) {
      return Std.Parsers.StringParsers.__default.BindSucceeds<R, __V>((_this), Dafny.Helpers.Id<Func<Func<R, Std.Collections.Seq._ISlice<Dafny.Rune>, Func<Std.Collections.Seq._ISlice<Dafny.Rune>, Std.Parsers.StringParsers._IParseResult<__V>>>, Func<R, Std.Collections.Seq._ISlice<Dafny.Rune>, Func<Std.Collections.Seq._ISlice<Dafny.Rune>, Std.Parsers.StringParsers._IParseResult<__V>>>>>((_0_other) => ((System.Func<R, Std.Collections.Seq._ISlice<Dafny.Rune>, Func<Std.Collections.Seq._ISlice<Dafny.Rune>, Std.Parsers.StringParsers._IParseResult<__V>>>)((_1_result, _2_input) => {
        return (Dafny.Helpers.Id<Func<R, Std.Collections.Seq._ISlice<Dafny.Rune>, Func<Std.Collections.Seq._ISlice<Dafny.Rune>, Std.Parsers.StringParsers._IParseResult<__V>>>>(_0_other)(_1_result, _2_input));
      })))(other));
    }
    public static Func<Std.Collections.Seq._ISlice<Dafny.Rune>, Std.Parsers.StringParsers._IParseResult<__V>> Bind<__V>(Func<Std.Collections.Seq._ISlice<Dafny.Rune>, Std.Parsers.StringParsers._IParseResult<R>> _this, Func<Std.Parsers.StringParsers._IParseResult<R>, Std.Collections.Seq._ISlice<Dafny.Rune>, Func<Std.Collections.Seq._ISlice<Dafny.Rune>, Std.Parsers.StringParsers._IParseResult<__V>>> other) {
      return Std.Parsers.StringParsers.__default.BindResult<R, __V>((_this), Dafny.Helpers.Id<Func<Func<Std.Parsers.StringParsers._IParseResult<R>, Std.Collections.Seq._ISlice<Dafny.Rune>, Func<Std.Collections.Seq._ISlice<Dafny.Rune>, Std.Parsers.StringParsers._IParseResult<__V>>>, Func<Std.Parsers.StringParsers._IParseResult<R>, Std.Collections.Seq._ISlice<Dafny.Rune>, Func<Std.Collections.Seq._ISlice<Dafny.Rune>, Std.Parsers.StringParsers._IParseResult<__V>>>>>((_0_other) => ((System.Func<Std.Parsers.StringParsers._IParseResult<R>, Std.Collections.Seq._ISlice<Dafny.Rune>, Func<Std.Collections.Seq._ISlice<Dafny.Rune>, Std.Parsers.StringParsers._IParseResult<__V>>>)((_1_result, _2_input) => {
        return (Dafny.Helpers.Id<Func<Std.Parsers.StringParsers._IParseResult<R>, Std.Collections.Seq._ISlice<Dafny.Rune>, Func<Std.Collections.Seq._ISlice<Dafny.Rune>, Std.Parsers.StringParsers._IParseResult<__V>>>>(_0_other)(_1_result, _2_input));
      })))(other));
    }
    public static Func<Std.Collections.Seq._ISlice<Dafny.Rune>, Std.Parsers.StringParsers._IParseResult<R>> Debug<__D>(Func<Std.Collections.Seq._ISlice<Dafny.Rune>, Std.Parsers.StringParsers._IParseResult<R>> _this, Dafny.ISequence<Dafny.Rune> name, Func<Dafny.ISequence<Dafny.Rune>, Std.Collections.Seq._ISlice<Dafny.Rune>, __D> onEnter, Func<Dafny.ISequence<Dafny.Rune>, __D, Std.Parsers.StringParsers._IParseResult<R>, _System._ITuple0> onExit)
    {
      return Std.Parsers.StringParsers.__default.Debug<R, __D>((_this), name, onEnter, onExit);
    }
    public static Func<Std.Collections.Seq._ISlice<Dafny.Rune>, Std.Parsers.StringParsers._IParseResult<__A>> RepFold<__A>(Func<Std.Collections.Seq._ISlice<Dafny.Rune>, Std.Parsers.StringParsers._IParseResult<R>> _this, __A init, Func<__A, R, __A> combine)
    {
      return Std.Parsers.StringParsers.__default.Rep<__A, R>((_this), combine, init);
    }
    public static Func<Std.Collections.Seq._ISlice<Dafny.Rune>, Std.Parsers.StringParsers._IParseResult<__A>> RepeatFold<__A>(Func<Std.Collections.Seq._ISlice<Dafny.Rune>, Std.Parsers.StringParsers._IParseResult<R>> _this, __A init, Func<__A, R, __A> combine)
    {
      return Std.Parsers.StringBuilders.B<R>.RepFold<__A>(_this, init, combine);
    }
    public static Func<Std.Collections.Seq._ISlice<Dafny.Rune>, Std.Parsers.StringParsers._IParseResult<Dafny.ISequence<R>>> RepSep<__K>(Func<Std.Collections.Seq._ISlice<Dafny.Rune>, Std.Parsers.StringParsers._IParseResult<R>> _this, Func<Std.Collections.Seq._ISlice<Dafny.Rune>, Std.Parsers.StringParsers._IParseResult<__K>> separator) {
      return Std.Parsers.StringParsers.__default.RepSep<R, __K>((_this), (separator));
    }
    public static Func<Std.Collections.Seq._ISlice<Dafny.Rune>, Std.Parsers.StringParsers._IParseResult<Dafny.ISequence<R>>> RepeatSeparator<__K>(Func<Std.Collections.Seq._ISlice<Dafny.Rune>, Std.Parsers.StringParsers._IParseResult<R>> _this, Func<Std.Collections.Seq._ISlice<Dafny.Rune>, Std.Parsers.StringParsers._IParseResult<__K>> separator) {
      return Std.Parsers.StringBuilders.B<R>.RepSep<__K>(_this, separator);
    }
    public static Func<Std.Collections.Seq._ISlice<Dafny.Rune>, Std.Parsers.StringParsers._IParseResult<R>> RepMerge(Func<Std.Collections.Seq._ISlice<Dafny.Rune>, Std.Parsers.StringParsers._IParseResult<R>> _this, Func<R, R, R> merger) {
      return Std.Parsers.StringParsers.__default.RepMerge<R>((_this), merger);
    }
    public static Func<Std.Collections.Seq._ISlice<Dafny.Rune>, Std.Parsers.StringParsers._IParseResult<R>> RepeatMerge(Func<Std.Collections.Seq._ISlice<Dafny.Rune>, Std.Parsers.StringParsers._IParseResult<R>> _this, Func<R, R, R> merger) {
      return Std.Parsers.StringBuilders.B<R>.RepMerge(_this, merger);
    }
    public static Func<Std.Collections.Seq._ISlice<Dafny.Rune>, Std.Parsers.StringParsers._IParseResult<R>> RepSepMerge<__K>(Func<Std.Collections.Seq._ISlice<Dafny.Rune>, Std.Parsers.StringParsers._IParseResult<R>> _this, Func<Std.Collections.Seq._ISlice<Dafny.Rune>, Std.Parsers.StringParsers._IParseResult<__K>> separator, Func<R, R, R> merger)
    {
      return Std.Parsers.StringParsers.__default.RepSepMerge<R, __K>((_this), (separator), merger);
    }
    public static Func<Std.Collections.Seq._ISlice<Dafny.Rune>, Std.Parsers.StringParsers._IParseResult<R>> RepeatSeparatorMerge<__K>(Func<Std.Collections.Seq._ISlice<Dafny.Rune>, Std.Parsers.StringParsers._IParseResult<R>> _this, Func<Std.Collections.Seq._ISlice<Dafny.Rune>, Std.Parsers.StringParsers._IParseResult<__K>> separator, Func<R, R, R> merger)
    {
      return Std.Parsers.StringBuilders.B<R>.RepSepMerge<__K>(_this, separator, merger);
    }
    public static Func<Std.Collections.Seq._ISlice<Dafny.Rune>, Std.Parsers.StringParsers._IParseResult<Dafny.ISequence<R>>> Rep(Func<Std.Collections.Seq._ISlice<Dafny.Rune>, Std.Parsers.StringParsers._IParseResult<R>> _this) {
      return Std.Parsers.StringParsers.__default.ZeroOrMore<R>((_this));
    }
    public static Func<Std.Collections.Seq._ISlice<Dafny.Rune>, Std.Parsers.StringParsers._IParseResult<Dafny.ISequence<R>>> Repeat(Func<Std.Collections.Seq._ISlice<Dafny.Rune>, Std.Parsers.StringParsers._IParseResult<R>> _this) {
      return Std.Parsers.StringBuilders.B<R>.Rep(_this);
    }
    public static Func<Std.Collections.Seq._ISlice<Dafny.Rune>, Std.Parsers.StringParsers._IParseResult<Dafny.ISequence<R>>> Rep1(Func<Std.Collections.Seq._ISlice<Dafny.Rune>, Std.Parsers.StringParsers._IParseResult<R>> _this) {
      return Std.Parsers.StringParsers.__default.OneOrMore<R>((_this));
    }
    public static Func<Std.Collections.Seq._ISlice<Dafny.Rune>, Std.Parsers.StringParsers._IParseResult<Dafny.ISequence<R>>> RepeatAtLeastOnce(Func<Std.Collections.Seq._ISlice<Dafny.Rune>, Std.Parsers.StringParsers._IParseResult<R>> _this) {
      return Std.Parsers.StringBuilders.B<R>.Rep1(_this);
    }
    public static Func<Std.Collections.Seq._ISlice<Dafny.Rune>, Std.Parsers.StringParsers._IParseResult<R>> End(Func<Std.Collections.Seq._ISlice<Dafny.Rune>, Std.Parsers.StringParsers._IParseResult<R>> _this) {
      return Std.Parsers.StringBuilders.B<R>.I__e<_System._ITuple0>(_this, Std.Parsers.StringBuilders.__default.EOS);
    }
  }

  public interface _IRecNoStackResult<R> {
    bool is_RecReturn { get; }
    bool is_RecContinue { get; }
    R dtor_toReturn { get; }
    Func<R, Std.Collections.Seq._ISlice<Dafny.Rune>, Func<Std.Collections.Seq._ISlice<Dafny.Rune>, Std.Parsers.StringParsers._IParseResult<Std.Parsers.StringBuilders._IRecNoStackResult<R>>>> dtor_toContinue { get; }
    _IRecNoStackResult<__R> DowncastClone<__R>(Func<R, __R> converter0);
  }
  public abstract class RecNoStackResult<R> : _IRecNoStackResult<R> {
    public RecNoStackResult() {
    }
    public static Std.Parsers.StringBuilders._IRecNoStackResult<R> Default() {
      return create_RecContinue(((R x9, Std.Collections.Seq._ISlice<Dafny.Rune> x10) => Std.Parsers.StringBuilders.B<Std.Parsers.StringBuilders._IRecNoStackResult<R>>.Default()));
    }
    public static Dafny.TypeDescriptor<Std.Parsers.StringBuilders._IRecNoStackResult<R>> _TypeDescriptor() {
      return new Dafny.TypeDescriptor<Std.Parsers.StringBuilders._IRecNoStackResult<R>>(Std.Parsers.StringBuilders.RecNoStackResult<R>.Default());
    }
    public static _IRecNoStackResult<R> create_RecReturn(R toReturn) {
      return new RecNoStackResult_RecReturn<R>(toReturn);
    }
    public static _IRecNoStackResult<R> create_RecContinue(Func<R, Std.Collections.Seq._ISlice<Dafny.Rune>, Func<Std.Collections.Seq._ISlice<Dafny.Rune>, Std.Parsers.StringParsers._IParseResult<Std.Parsers.StringBuilders._IRecNoStackResult<R>>>> toContinue) {
      return new RecNoStackResult_RecContinue<R>(toContinue);
    }
    public bool is_RecReturn { get { return this is RecNoStackResult_RecReturn<R>; } }
    public bool is_RecContinue { get { return this is RecNoStackResult_RecContinue<R>; } }
    public R dtor_toReturn {
      get {
        var d = this;
        return ((RecNoStackResult_RecReturn<R>)d)._toReturn;
      }
    }
    public Func<R, Std.Collections.Seq._ISlice<Dafny.Rune>, Func<Std.Collections.Seq._ISlice<Dafny.Rune>, Std.Parsers.StringParsers._IParseResult<Std.Parsers.StringBuilders._IRecNoStackResult<R>>>> dtor_toContinue {
      get {
        var d = this;
        return ((RecNoStackResult_RecContinue<R>)d)._toContinue;
      }
    }
    public abstract _IRecNoStackResult<__R> DowncastClone<__R>(Func<R, __R> converter0);
  }
  public class RecNoStackResult_RecReturn<R> : RecNoStackResult<R> {
    public readonly R _toReturn;
    public RecNoStackResult_RecReturn(R toReturn) : base() {
      this._toReturn = toReturn;
    }
    public override _IRecNoStackResult<__R> DowncastClone<__R>(Func<R, __R> converter0) {
      if (this is _IRecNoStackResult<__R> dt) { return dt; }
      return new RecNoStackResult_RecReturn<__R>(converter0(_toReturn));
    }
    public override bool Equals(object other) {
      var oth = other as Std.Parsers.StringBuilders.RecNoStackResult_RecReturn<R>;
      return oth != null && object.Equals(this._toReturn, oth._toReturn);
    }
    public override int GetHashCode() {
      ulong hash = 5381;
      hash = ((hash << 5) + hash) + 0;
      hash = ((hash << 5) + hash) + ((ulong)Dafny.Helpers.GetHashCode(this._toReturn));
      return (int) hash;
    }
    public override string ToString() {
      string s = "StringBuilders.RecNoStackResult.RecReturn";
      s += "(";
      s += Dafny.Helpers.ToString(this._toReturn);
      s += ")";
      return s;
    }
  }
  public class RecNoStackResult_RecContinue<R> : RecNoStackResult<R> {
    public readonly Func<R, Std.Collections.Seq._ISlice<Dafny.Rune>, Func<Std.Collections.Seq._ISlice<Dafny.Rune>, Std.Parsers.StringParsers._IParseResult<Std.Parsers.StringBuilders._IRecNoStackResult<R>>>> _toContinue;
    public RecNoStackResult_RecContinue(Func<R, Std.Collections.Seq._ISlice<Dafny.Rune>, Func<Std.Collections.Seq._ISlice<Dafny.Rune>, Std.Parsers.StringParsers._IParseResult<Std.Parsers.StringBuilders._IRecNoStackResult<R>>>> toContinue) : base() {
      this._toContinue = toContinue;
    }
    public override _IRecNoStackResult<__R> DowncastClone<__R>(Func<R, __R> converter0) {
      if (this is _IRecNoStackResult<__R> dt) { return dt; }
      return new RecNoStackResult_RecContinue<__R>((_toContinue).DowncastClone<R, Std.Collections.Seq._ISlice<Dafny.Rune>, Func<Std.Collections.Seq._ISlice<Dafny.Rune>, Std.Parsers.StringParsers._IParseResult<Std.Parsers.StringBuilders._IRecNoStackResult<R>>>, __R, Std.Collections.Seq._ISlice<Dafny.Rune>, Func<Std.Collections.Seq._ISlice<Dafny.Rune>, Std.Parsers.StringParsers._IParseResult<Std.Parsers.StringBuilders._IRecNoStackResult<__R>>>>(Dafny.Helpers.CastConverter<__R, R>, Dafny.Helpers.Id<Std.Collections.Seq._ISlice<Dafny.Rune>>, Dafny.Helpers.CastConverter<Func<Std.Collections.Seq._ISlice<Dafny.Rune>, Std.Parsers.StringParsers._IParseResult<Std.Parsers.StringBuilders._IRecNoStackResult<R>>>, Func<Std.Collections.Seq._ISlice<Dafny.Rune>, Std.Parsers.StringParsers._IParseResult<Std.Parsers.StringBuilders._IRecNoStackResult<__R>>>>));
    }
    public override bool Equals(object other) {
      var oth = other as Std.Parsers.StringBuilders.RecNoStackResult_RecContinue<R>;
      return oth != null && object.Equals(this._toContinue, oth._toContinue);
    }
    public override int GetHashCode() {
      ulong hash = 5381;
      hash = ((hash << 5) + hash) + 1;
      hash = ((hash << 5) + hash) + ((ulong)Dafny.Helpers.GetHashCode(this._toContinue));
      return (int) hash;
    }
    public override string ToString() {
      string s = "StringBuilders.RecNoStackResult.RecContinue";
      s += "(";
      s += Dafny.Helpers.ToString(this._toContinue);
      s += ")";
      return s;
    }
  }

  public interface _IRecMapDef<R> {
    bool is_RecMapDef { get; }
    BigInteger dtor_order { get; }
    Func<Func<Dafny.ISequence<Dafny.Rune>, Func<Std.Collections.Seq._ISlice<Dafny.Rune>, Std.Parsers.StringParsers._IParseResult<R>>>, Func<Std.Collections.Seq._ISlice<Dafny.Rune>, Std.Parsers.StringParsers._IParseResult<R>>> dtor_definition { get; }
    _IRecMapDef<__R> DowncastClone<__R>(Func<R, __R> converter0);
  }
  public class RecMapDef<R> : _IRecMapDef<R> {
    public readonly BigInteger _order;
    public readonly Func<Func<Dafny.ISequence<Dafny.Rune>, Func<Std.Collections.Seq._ISlice<Dafny.Rune>, Std.Parsers.StringParsers._IParseResult<R>>>, Func<Std.Collections.Seq._ISlice<Dafny.Rune>, Std.Parsers.StringParsers._IParseResult<R>>> _definition;
    public RecMapDef(BigInteger order, Func<Func<Dafny.ISequence<Dafny.Rune>, Func<Std.Collections.Seq._ISlice<Dafny.Rune>, Std.Parsers.StringParsers._IParseResult<R>>>, Func<Std.Collections.Seq._ISlice<Dafny.Rune>, Std.Parsers.StringParsers._IParseResult<R>>> definition) {
      this._order = order;
      this._definition = definition;
    }
    public _IRecMapDef<__R> DowncastClone<__R>(Func<R, __R> converter0) {
      if (this is _IRecMapDef<__R> dt) { return dt; }
      return new RecMapDef<__R>(_order, (_definition).DowncastClone<Func<Dafny.ISequence<Dafny.Rune>, Func<Std.Collections.Seq._ISlice<Dafny.Rune>, Std.Parsers.StringParsers._IParseResult<R>>>, Func<Std.Collections.Seq._ISlice<Dafny.Rune>, Std.Parsers.StringParsers._IParseResult<R>>, Func<Dafny.ISequence<Dafny.Rune>, Func<Std.Collections.Seq._ISlice<Dafny.Rune>, Std.Parsers.StringParsers._IParseResult<__R>>>, Func<Std.Collections.Seq._ISlice<Dafny.Rune>, Std.Parsers.StringParsers._IParseResult<__R>>>(Dafny.Helpers.CastConverter<Func<Dafny.ISequence<Dafny.Rune>, Func<Std.Collections.Seq._ISlice<Dafny.Rune>, Std.Parsers.StringParsers._IParseResult<__R>>>, Func<Dafny.ISequence<Dafny.Rune>, Func<Std.Collections.Seq._ISlice<Dafny.Rune>, Std.Parsers.StringParsers._IParseResult<R>>>>, Dafny.Helpers.CastConverter<Func<Std.Collections.Seq._ISlice<Dafny.Rune>, Std.Parsers.StringParsers._IParseResult<R>>, Func<Std.Collections.Seq._ISlice<Dafny.Rune>, Std.Parsers.StringParsers._IParseResult<__R>>>));
    }
    public override bool Equals(object other) {
      var oth = other as Std.Parsers.StringBuilders.RecMapDef<R>;
      return oth != null && this._order == oth._order && object.Equals(this._definition, oth._definition);
    }
    public override int GetHashCode() {
      ulong hash = 5381;
      hash = ((hash << 5) + hash) + 0;
      hash = ((hash << 5) + hash) + ((ulong)Dafny.Helpers.GetHashCode(this._order));
      hash = ((hash << 5) + hash) + ((ulong)Dafny.Helpers.GetHashCode(this._definition));
      return (int) hash;
    }
    public override string ToString() {
      string s = "StringBuilders.RecMapDef.RecMapDef";
      s += "(";
      s += Dafny.Helpers.ToString(this._order);
      s += ", ";
      s += Dafny.Helpers.ToString(this._definition);
      s += ")";
      return s;
    }
    public static Std.Parsers.StringBuilders._IRecMapDef<R> Default() {
      return create(BigInteger.Zero, ((Func<Dafny.ISequence<Dafny.Rune>, Func<Std.Collections.Seq._ISlice<Dafny.Rune>, Std.Parsers.StringParsers._IParseResult<R>>> x11) => Std.Parsers.StringBuilders.B<R>.Default()));
    }
    public static Dafny.TypeDescriptor<Std.Parsers.StringBuilders._IRecMapDef<R>> _TypeDescriptor() {
      return new Dafny.TypeDescriptor<Std.Parsers.StringBuilders._IRecMapDef<R>>(Std.Parsers.StringBuilders.RecMapDef<R>.Default());
    }
    public static _IRecMapDef<R> create(BigInteger order, Func<Func<Dafny.ISequence<Dafny.Rune>, Func<Std.Collections.Seq._ISlice<Dafny.Rune>, Std.Parsers.StringParsers._IParseResult<R>>>, Func<Std.Collections.Seq._ISlice<Dafny.Rune>, Std.Parsers.StringParsers._IParseResult<R>>> definition) {
      return new RecMapDef<R>(order, definition);
    }
    public static _IRecMapDef<R> create_RecMapDef(BigInteger order, Func<Func<Dafny.ISequence<Dafny.Rune>, Func<Std.Collections.Seq._ISlice<Dafny.Rune>, Std.Parsers.StringParsers._IParseResult<R>>>, Func<Std.Collections.Seq._ISlice<Dafny.Rune>, Std.Parsers.StringParsers._IParseResult<R>>> definition) {
      return create(order, definition);
    }
    public bool is_RecMapDef { get { return true; } }
    public BigInteger dtor_order {
      get {
        return this._order;
      }
    }
    public Func<Func<Dafny.ISequence<Dafny.Rune>, Func<Std.Collections.Seq._ISlice<Dafny.Rune>, Std.Parsers.StringParsers._IParseResult<R>>>, Func<Std.Collections.Seq._ISlice<Dafny.Rune>, Std.Parsers.StringParsers._IParseResult<R>>> dtor_definition {
      get {
        return this._definition;
      }
    }
  }
} // end of namespace Std.Parsers.StringBuilders
namespace M1 {

  public partial class __default {
    public static void _Main(Dafny.ISequence<Dafny.ISequence<Dafny.Rune>> __noArgsParameter)
    {
      Std.Wrappers._IResult<Dafny.ISequence<Dafny.Rune>, Dafny.ISequence<Dafny.Rune>> _0_valueOrError0 = Std.Wrappers.Result<Dafny.ISequence<Dafny.Rune>, Dafny.ISequence<Dafny.Rune>>.Default(Dafny.Sequence<Dafny.Rune>.Empty);
      Std.Wrappers._IResult<Dafny.ISequence<Dafny.Rune>, Dafny.ISequence<Dafny.Rune>> _out0;
      _out0 = M1.__default.ReadPuzzleInput();
      _0_valueOrError0 = _out0;
      if (!(!((_0_valueOrError0).IsFailure()))) {
        throw new Dafny.HaltException("solution.dfy(13,17): " + _0_valueOrError0);}
      Dafny.ISequence<Dafny.Rune> _1_input;
      _1_input = (_0_valueOrError0).Extract();
      Dafny.ISequence<Dafny.ISequence<Dafny.Rune>> _2_lines;
      _2_lines = Std.Collections.Seq.__default.Split<Dafny.Rune>(_1_input, new Dafny.Rune('\n'));
      Std.Wrappers._IResult<Dafny.ISequence<BigInteger>, Dafny.ISequence<Dafny.Rune>> _3_valueOrError1 = Std.Wrappers.Result<Dafny.ISequence<BigInteger>, Dafny.ISequence<Dafny.Rune>>.Default(Dafny.Sequence<BigInteger>.Empty);
      _3_valueOrError1 = Std.Collections.Seq.__default.MapWithResult<Dafny.ISequence<Dafny.Rune>, BigInteger, Dafny.ISequence<Dafny.Rune>>(M1.__default.CalibrationValue, _2_lines);
      if (!(!((_3_valueOrError1).IsFailure()))) {
        throw new Dafny.HaltException("solution.dfy(17,29): " + _3_valueOrError1);}
      Dafny.ISequence<BigInteger> _4_calibrationValues;
      _4_calibrationValues = (_3_valueOrError1).Extract();
      BigInteger _5_total;
      _5_total = Std.Collections.Seq.__default.FoldLeft<BigInteger, BigInteger>(((System.Func<BigInteger, BigInteger, BigInteger>)((_6_x, _7_y) => {
        return (_6_x) + (_7_y);
      })), BigInteger.Zero, _4_calibrationValues);
      Dafny.Helpers.Print((_5_total));
      Dafny.Helpers.Print((Dafny.Sequence<Dafny.Rune>.UnicodeFromString("\n")).ToVerbatimString(false));
    }
    public static Std.Wrappers._IResult<Dafny.ISequence<Dafny.Rune>, Dafny.ISequence<Dafny.Rune>> ReadPuzzleInput()
    {
      Std.Wrappers._IResult<Dafny.ISequence<Dafny.Rune>, Dafny.ISequence<Dafny.Rune>> input = Std.Wrappers.Result<Dafny.ISequence<Dafny.Rune>, Dafny.ISequence<Dafny.Rune>>.Default(Dafny.Sequence<Dafny.Rune>.Empty);
      Std.Wrappers._IResult<Dafny.ISequence<byte>, Dafny.ISequence<Dafny.Rune>> _0_valueOrError0 = Std.Wrappers.Result<Dafny.ISequence<byte>, Dafny.ISequence<Dafny.Rune>>.Default(Dafny.Sequence<byte>.Empty);
      Std.Wrappers._IResult<Dafny.ISequence<byte>, Dafny.ISequence<Dafny.Rune>> _out0;
      _out0 = Std.FileIO.__default.ReadBytesFromFile(Dafny.Sequence<Dafny.Rune>.UnicodeFromString("input.txt"));
      _0_valueOrError0 = _out0;
      if ((_0_valueOrError0).IsFailure()) {
        input = (_0_valueOrError0).PropagateFailure<Dafny.ISequence<Dafny.Rune>>();
        return input;
      }
      Dafny.ISequence<byte> _1_bytesAsBVs;
      _1_bytesAsBVs = (_0_valueOrError0).Extract();
      Dafny.ISequence<byte> _2_bytes;
      _2_bytes = ((System.Func<Dafny.ISequence<byte>>) (() => {
        BigInteger dim12 = new BigInteger((_1_bytesAsBVs).Count);
        var arr12 = new byte[Dafny.Helpers.ToIntChecked(dim12, "array size exceeds memory limit")];
        for (int i12 = 0; i12 < dim12; i12++) {
          var _3_i = (BigInteger) i12;
          arr12[(int)(_3_i)] = (byte)((_1_bytesAsBVs).Select(_3_i));
        }
        return Dafny.Sequence<byte>.FromArray(arr12);
      }))();
      input = Std.Unicode.UnicodeStringsWithUnicodeChar.__default.FromUTF8Checked(_2_bytes);
      return input;
    }
    public static Std.Wrappers._IResult<BigInteger, Dafny.ISequence<Dafny.Rune>> CalibrationValue(Dafny.ISequence<Dafny.Rune> line) {
      Std.Wrappers._IResult<BigInteger, Dafny.ISequence<Dafny.Rune>> _0_valueOrError0 = (Std.Collections.Seq.__default.IndexByOption<Dafny.Rune>(line, Std.Strings.DecimalConversion.__default.IsDigitChar)).ToResult<Dafny.ISequence<Dafny.Rune>>(Dafny.Sequence<Dafny.Rune>.UnicodeFromString("No digits"));
      if ((_0_valueOrError0).IsFailure()) {
        return (_0_valueOrError0).PropagateFailure<BigInteger>();
      } else {
        BigInteger _1_firstDigitIndex = (_0_valueOrError0).Extract();
        Std.Wrappers._IResult<BigInteger, Dafny.ISequence<Dafny.Rune>> _2_valueOrError1 = (Std.Collections.Seq.__default.LastIndexByOption<Dafny.Rune>(line, Std.Strings.DecimalConversion.__default.IsDigitChar)).ToResult<Dafny.ISequence<Dafny.Rune>>(Dafny.Sequence<Dafny.Rune>.UnicodeFromString("No digits"));
        if ((_2_valueOrError1).IsFailure()) {
          return (_2_valueOrError1).PropagateFailure<BigInteger>();
        } else {
          BigInteger _3_lastDigitIndex = (_2_valueOrError1).Extract();
          Dafny.ISequence<Dafny.Rune> _4_resultStr = Dafny.Sequence<Dafny.Rune>.FromElements((line).Select(_1_firstDigitIndex), (line).Select(_3_lastDigitIndex));
          return Std.Wrappers.Result<BigInteger, Dafny.ISequence<Dafny.Rune>>.create_Success(Std.Strings.__default.ToNat(_4_resultStr));
        }
      }
    }
  }
} // end of namespace M1
namespace _module {

} // end of namespace _module
class __CallToMain {
  public static void Main(string[] args) {
    Dafny.Helpers.WithHaltHandling(() => M1.__default._Main(Dafny.Sequence<Dafny.ISequence<Dafny.Rune>>.UnicodeFromMainArguments(args)));
  }
}
